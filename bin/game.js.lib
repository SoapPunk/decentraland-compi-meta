[
  {
    "path": "node_modules/@dcl/amd/dist/amd.min.js",
    "content": "\"use strict\";const getGlobalThis=function(){if(typeof globalThis!==\"undefined\")return globalThis;if(typeof self!==\"undefined\")return self;if(typeof window!==\"undefined\")return window;if(typeof this!==\"undefined\")return this;throw new Error(\"Unable to locate global `this`\")};const globalObject=getGlobalThis();var loader;(function(e){\"use strict\";const n=1;const t=2;let r=0;let o=[];let l=[];const i={baseUrl:\"\"};const s={};function f(e){if(typeof e===\"object\"){for(let n in e){if(e.hasOwnProperty(n)){i[n]=e[n]}}}}e.config=f;function d(e,t,o){let l=null;let i={};let f=null;if(typeof e===\"function\"){i=e}else if(typeof e===\"string\"){l=e;if(typeof t===\"function\"){i=t}else if(t instanceof Array){f=t;i=o}}else if(e instanceof Array){f=e;if(typeof t===\"function\"){i=t}}f=f||[\"require\",\"exports\",\"module\"];if(l===null){l=`unnamed-module-${r++}`}l=g(l);function d(e){const n=s[l];if(!n)throw new Error(\"Could not access registered module \"+l);let t=n.exports;t=typeof i===\"function\"?i.apply(globalObject,e)||t:i;n.exports=t;u(l)}f=(f||[]).map((e=>m(l,e)));if(!s[l]){s[l]={name:l,parent:null,dclamd:n,dependencies:f,handlers:[],exports:{},dependants:new Set}}s[l].dependencies=f;p(f,d,(e=>{if(typeof onerror==\"function\"){onerror(e)}else{throw e}}),l)}e.define=d;(function(e){e.amd={};e.modules=s})(d=e.define||(e.define={}));function u(e){const n=s[e];if(!n)throw new Error(\"Could not access registered module \"+e);n.dclamd=t;let r=n.handlers;if(r&&r.length){for(let n=0;n<r.length;n++){r[n](s[e])}}}function c(e,n,t){if(!s[e]){return null}if(e==n||t==50)return[e];const r=s[e].dependencies;for(let o=0,l=r.length;o<l;o++){let l=c(r[o],n,t+1);if(l!==null){l.push(e);return l}}return null}function a(e,n){let t=s[e];if(!t){return false}let r={};for(let e in s){r[e]=false}let o=[];o.push(t);r[e]=true;while(o.length>0){let e=o.shift();let t=e.dependencies;if(t){for(let e=0,l=t.length;e<l;e++){let l=t[e];if(l===n){return true}let i=s[l];if(i&&!r[l]){r[l]=true;o.push(i)}}}}return false}function p(e,t,r,o){let i=new Array(e.length).fill(null);let f=0;let d=false;if(typeof e===\"string\"){if(s[e]){if(s[e].dclamd===n){throw new Error(`Trying to load ${e} from ${o}. The first module is still loading.`)}return s[e]}throw new Error(e+\" has not been defined. Please include it as a dependency in \"+o+\"'s define()\")}const u=e.length;for(let n=0;n<u;n++){switch(e[n]){case\"require\":let h=function(e,n,t){return p(e,n,t,o)};h.toUrl=function(e){return b(e,o)};i[n]=h;f++;break;case\"exports\":if(!s[o]){throw new Error(\"Parent module \"+o+\" not registered yet\")}i[n]=s[o].exports;f++;break;case\"module\":i[n]={id:o,uri:b(o)};f++;break;default:{const p=e[n];const h=a(p,o);const m=()=>{i[n]=s[p].exports;f++;if(f===u&&t){d=true;t(i)}};if(h){const e=c(p,o,0);if(e){e.reverse();e.push(p);l.push(e)}w(p,(()=>{}),r,o);m()}else{w(p,m,r,o)}break}}}if(!d&&f===u&&t){t(i)}}e.require=p;function h(e,n){return function(){return dcl.callRpc(e,n.name,o.slice.call(arguments,0))}}function m(e,n){return e?b(n,e):n}function w(e,t,r,o){if(s[e]){s[e].dependants.add(o);if(s[e].dclamd===n){t&&s[e].handlers.push(t)}else{t&&t(s[e])}return}else{s[e]={name:e,parent:o,dclamd:n,handlers:[t],dependencies:[],dependants:new Set([o]),exports:{}}}if(e.indexOf(\"@\")===0){let n=s[e].exports;if(typeof dcl.loadModule===\"function\"){dcl.loadModule(e,n).then((t=>{for(let e in t.methods){const r=t.methods[e];n[r.name]=h(t.rpcHandle,r)}u(e)})).catch((e=>{r(e)}))}else{throw new Error(\"Asynchronous modules will not work because loadModule function is not present\")}}}if(typeof dcl!==\"undefined\"){dcl.onStart((()=>{const e=new Set;const t=[];for(let r in s){if(s[r]){if(s[r].dclamd===n){t.push(s[r])}s[r].dependencies.forEach((n=>{if(n==\"require\"||n==\"exports\"||n==\"module\")return;if(!s[n])e.add(n)}))}}const r=[];if(l.length){r.push(`\\n> Cyclic dependencies: ${l.map((e=>\"\\n  - \"+e.join(\" -> \"))).join(\"\")}`)}if(e.size){r.push(`\\n> Undeclared/unknown modules: ${Array.from(e).map((e=>\"\\n  - \"+e)).join(\"\")}`)}if(t.length){r.push(`\\n> These modules didn't load: ${t.map((e=>\"\\n  - \"+e.name)).join(\"\")}.\\n`)}if(r.length){throw new Error(r.join(\"\\n\"))}}))}function g(e){let n=e,t;t=/\\/\\.\\//;while(t.test(n)){n=n.replace(t,\"/\")}n=n.replace(/^\\.\\//g,\"\");t=/\\/(([^\\/])|([^\\/][^\\/\\.])|([^\\/\\.][^\\/])|([^\\/][^\\/][^\\/]+))\\/\\.\\.\\//;while(t.test(n)){n=n.replace(t,\"/\")}n=n.replace(/^(([^\\/])|([^\\/][^\\/\\.])|([^\\/\\.][^\\/])|([^\\/][^\\/][^\\/]+))\\/\\.\\.\\//,\"\");n=n.replace(/^\\//g,\"\");return n}function y(e,n){let t=e;if(!t.startsWith(\"@\")){if(t.startsWith(\"./\")||t.startsWith(\"../\")){const e=n.split(\"/\");e.pop();t=g(e.join(\"/\")+\"/\"+t)}}return t}function b(e,n){switch(e){case\"require\":case\"exports\":case\"module\":return e}if(n){return y(e,n)}return g(e)}p.toUrl=b})(loader||(loader={}));globalObject.define=loader.define;globalObject.dclamd=loader;",
    "sha256": "cb9eaa325ee71be7de26bf656385092a053ee31e98af5cd74bb42250e3ad6441"
  },
  {
    "path": "node_modules/decentraland-ecs/dist/src/index.min.js",
    "content": "!function(t){\"use strict\";var e=function(){function t(){}return t.AVATAR={getEntityRepresentation:function(t){return t.avatarEntity}},t.FIRST_PERSON_CAMERA={getEntityRepresentation:function(t){return t.firstPersonCameraEntity}},t}(),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */function o(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function r(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function s(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{u(o.next(t))}catch(t){r(t)}}function a(t){try{u(o.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))}function a(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}function u(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function p(t,e){var n=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,i,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function h(t,e){for(var n=0,o=e.length,i=t.length;n<o;n++,i++)t[i]=e[n];return t}var c=0;function d(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];\"undefined\"!=typeof dcl?dcl.log.apply(dcl,h([],p(t))):console.log.apply(console,h([\"DEBUG:\"],p(t)))}function l(t,e){\"undefined\"!=typeof dcl?dcl.error(t,e):console.error(\"ERROR:\",t,e)}function f(t){if(c++,0===t.length)throw new Error(\"newId(type: string): type cannot be empty\");return t+c.toString(36)}function y(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return(\"x\"===t?e:3&e|8).toString(16)}))}function v(t,e){for(var n=[],o=0;o<t;++o)n.push(e());return n}var m=\"__event_name__\",g=[];function _(t){if(!(m in t)||\"string\"!=typeof t.__event_name__)throw new Error(\"The EventConstructor is not registered\");return t.__event_name__}var x=function(){function t(){this.listeners={}}return t.prototype.addListener=function(t,e,n){if(!t||\"function\"!=typeof t)throw new Error(\"Invalid EventConstructor\");var o=_(t),i=this.listeners[o];i||(i=this.listeners[o]=[]);for(var r=0;r<i.length;r++){if(i[r].listener===e)throw new Error(\"The provided listener is already registered\")}return i.push({listener:e,fn:n}),this},t.prototype.removeListener=function(t,e){if(!e||\"function\"!=typeof e)throw new Error(\"Invalid EventConstructor\");var n=_(e),o=this.listeners[n];if(!o)return!1;for(var i=0;i<o.length;i++){if(o[i].listener===t)return o.splice(i,1),!0}return!1},t.prototype.fireEvent=function(t){var e=_(t.constructor),n=this.listeners[e];if(n)for(var o=0;o<n.length;o++)try{var i=n[o];i.fn.call(i.listener,t)}catch(t){l(t)}return this},t}();function w(){var t=f(\"EV\");if(-1!==g.indexOf(t))throw new Error(\"The event name \"+t+\" is already taken\");return g.push(t),function(e){return e.__event_name__=t,e}}var T,R=function(){function t(t,e,n){this.entity=t,this.componentName=e,this.component=n}return t=r([w()],t)}(),b=function(){function t(t,e,n){this.entity=t,this.componentName=e,this.classId=n}return t=r([w()],t)}(),A=function(){function t(t,e){this.entity=t,this.parent=e}return t=r([w()],t)}();t.UIValueType=void 0,(T=t.UIValueType||(t.UIValueType={}))[T.PERCENT=0]=\"PERCENT\",T[T.PIXELS=1]=\"PIXELS\";var E=function(){function e(e){if(this.type=t.UIValueType.PIXELS,\"string\"==typeof e){var n=e;n.indexOf(\"px\")>-1?this.type=t.UIValueType.PIXELS:n.indexOf(\"%\")>-1&&(this.type=t.UIValueType.PERCENT),this.value=parseFloat(n)}else this.value=e}return e.prototype.toString=function(){var e=this.value.toString();return this.type===t.UIValueType.PERCENT?e+=\"%\":e+=\"px\",e},e}(),S=\"__name__symbol_\",C=\"__classId__symbol_\",I=\"__component__id_\",z=function(){function t(t,e,n){this.componentId=t,this.componentName=e,this.classId=n}return t=r([w()],t)}(),P=function(){function t(t){this.componentId=t}return t=r([w()],t)}(),O=function(){function t(t,e){this.componentId=t,this.component=e}return t=r([w()],t)}();function M(t,e){return function(n){if(n.isComponent)throw new TypeError(\"You cannot extend a component. Trying to extend \"+n.originalClassName+\" with: \"+t);var o=n,i=function(){var n=Array.prototype.slice.call(arguments),i=new(o.bind.apply(o,h([void 0],p(n))));return Object.defineProperty(i,S,{enumerable:!1,writable:!1,configurable:!1,value:t}),void 0!==e&&Object.defineProperty(i,C,{enumerable:!1,writable:!1,configurable:!1,value:e}),i};return void 0!==e&&(i.__classId__symbol_=e),i.__name__symbol_=t,i.isComponent=!0,i.originalClassName=t,(i.prototype=n.prototype).constructor=n,i}}function F(t,e){return function(n){if(n.isComponent)throw new TypeError(\"You cannot extend a component. Trying to extend \"+n.originalClassName+\" with: \"+t);if(\"number\"!=typeof e||isNaN(e))throw new Error(\"classId: \"+e+\" is an invalid integer\");var o=n,i=function(){if(!F.engine)throw new Error(\"You need to set a DisposableComponent.engine before creating disposable components\");var n=Array.prototype.slice.call(arguments),i=new(o.bind.apply(o,h([void 0],p(n)))),r=f(\"C\");return Object.defineProperty(i,S,{enumerable:!1,writable:!1,configurable:!1,value:t}),Object.defineProperty(i,I,{enumerable:!1,writable:!1,configurable:!1,value:r}),void 0!==e&&Object.defineProperty(i,C,{enumerable:!1,writable:!1,configurable:!1,value:e}),F.engine&&F.engine.registerComponent(i),i};return void 0!==e&&(i.__classId__symbol_=e),i.__name__symbol_=t,i.isComponent=!0,i.isDisposableComponent=!0,i.originalClassName=t,(i.prototype=n.prototype).constructor=n,i}}function L(t){if(!t)throw new TypeError(t+\" is not a component.\");if(t.__name__symbol_)return t.__name__symbol_;throw new TypeError(t+\" is not a registered component.\")}function N(t){if(!t)throw new TypeError(t+\" is not a component.\");if(t.__classId__symbol_)return t.__classId__symbol_;if(!t.__name__symbol_)throw new TypeError(t+\" is not a registered component.\");return null}function D(t){if(!t)throw new TypeError(t+\" is not a component.\");if(t.__component__id_)return t.__component__id_;throw new TypeError(t+\" is not a registered disposable component.\")}!function(t){t.engine=null}(F||(F={}));var U=function(){function t(){this.dirty=!1,this.data={},this.subscriptions=[]}return t.component=function(t,e){if(delete t[e]){var n=e+\"_\"+Math.random();t[n]=void 0,Object.defineProperty(t,n,i(i({},Object.getOwnPropertyDescriptor(t,n)),{enumerable:!1})),Object.defineProperty(t,e.toString(),{get:function(){return this[n]},set:function(t){var o=this[n];if(this.data[e]=t?D(t):null,this[n]=t,t!==o){this.dirty=!0;for(var i=0;i<this.subscriptions.length;i++)this.subscriptions[i](e,t,o)}},enumerable:!0})}},t.field=function(t,e){delete t[e]&&Object.defineProperty(t,e.toString(),{get:function(){return this.data[e]},set:function(t){var n=this.data[e];if(this.data[e]=t,t!==n){this.dirty=!0;for(var o=0;o<this.subscriptions.length;o++)this.subscriptions[o](e,t,n)}},enumerable:!0})},t.uiValue=function(t,e){delete t[e]&&Object.defineProperty(t,e.toString(),{get:function(){return this.data[e].toString()},set:function(t){var n=this.data[e],o=new E(t);if(this.data[e]=o,o!==n){this.dirty=!0;for(var i=0;i<this.subscriptions.length;i++)this.subscriptions[i](e,o,n)}},enumerable:!0})},t.readonly=function(t,e){delete t[e]&&Object.defineProperty(t,e.toString(),{get:function(){if(e in this.data==!1)throw new Error(\"The field \"+e+\" is uninitialized\");return this.data[e]},set:function(t){if(e in this.data)throw new Error(\"The field \"+e+\" is readonly\");this.data[e]=t,this.dirty=!0},enumerable:!0,configurable:!1})},t.prototype.onChange=function(t){return this.subscriptions.push(t),this},t.prototype.toJSON=function(){return this.data},t}();function B(t){return I in t}var H=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.entities=[],this.active=!1,this._requiresNames=[],!t)throw new Error(\"ComponentGroup: Could not load the requires list\");if(!(t instanceof Array))throw new Error(\"ComponentGroup: requires list is not an Array\");Object.defineProperty(this,\"requires\",{get:function(){return t.slice()}}),Object.defineProperty(this,\"requiresNames\",{get:function(){return this._requiresNames.slice()}});for(var n=function(e){var n=t[e],i=null;if(!n)throw new Error(\"ComponentGroup: the required component at location \"+e+\" is invalid\");try{i=L(n)}catch(t){throw new Error(\"ComponentGroup: the required component at location \"+e+\" is not registered as a @Component. Remember to provide the class of the component, not the name\")}if(o._requiresNames.some((function(t){return t===i})))throw new Error(\"ComponentGroup: the required component list has a repeated name \"+i);o._requiresNames.push(i)},o=this,i=0;i<t.length;i++)n(i)}return t.prototype.hasEntity=function(t){return!!t.isAddedToEngine()&&-1!==this.entities.indexOf(t)},t.prototype.addEntity=function(t){if(!t.isAddedToEngine())throw new TypeError(\"ComponentGroup: Cannot add a entity that is not added to the engine\");-1===this.entities.indexOf(t)&&this.entities.push(t)},t.prototype.removeEntity=function(t){var e=this.entities.indexOf(t);-1!==e&&this.entities.splice(e,1)},t.prototype.componentRemoved=function(t,e){-1!==this._requiresNames.indexOf(e)&&this.removeEntity(t)},t.prototype.meetsRequirements=function(t){for(var e=0;e<this._requiresNames.length;e++){if(!(this._requiresNames[e]in t.components))return!1}return!0},t}(),k=function(){function t(t){this.name=t,this.children={},this.eventManager=null,this.alive=!1,this.uuid=f(\"E\"),this.components={},this.engine=null,this._parent=null}return t.prototype.addComponentOrReplace=function(t){if(\"function\"==typeof t)throw new Error(\"You passed a function or class as a component, an instance of component is expected\");if(\"object\"!=typeof t)throw new Error(\"You passed a \"+typeof t+\", an instance of component is expected\");var e=L(t);if(this.components[e]){if(this.components[e]===t)return t;this.removeComponent(this.components[e],!1)}return this.addComponent(t)},t.prototype.hasComponent=function(t){var e=typeof t;if(\"string\"!==e&&\"object\"!==e&&\"function\"!==e)throw new Error(\"Entity#has(component): component is not a class, name or instance\");if(null==t)return!1;var n=\"string\"===e?t:L(t),o=this.components[n];return!!o&&(\"object\"===e?o===t:\"function\"!==e||o instanceof t)},t.prototype.getComponent=function(t){var e=typeof t;if(\"string\"!==e&&\"function\"!==e)throw new Error(\"Entity#get(component): component is not a class or name\");var n=\"string\"===e?t:L(t),o=this.components[n];if(!o)throw new Error('Can not get component \"'+n+'\" from entity \"'+this.identifier+'\"');if(\"function\"===e){if(o instanceof t)return o;throw new Error('Can not get component \"'+n+'\" from entity \"'+this.identifier+'\" (by instance)')}return o},t.prototype.getComponentOrNull=function(t){var e=typeof t;if(\"string\"!==e&&\"function\"!==e)throw new Error(\"Entity#getOrNull(component): component is not a class or name\");var n=\"string\"===e?t:L(t),o=this.components[n];return o?\"function\"===e?o instanceof t?o:null:o:null},t.prototype.getComponentOrCreate=function(t){if(\"function\"!=typeof t)throw new Error(\"Entity#getOrCreate(component): component is not a class\");var e=this.getComponentOrNull(t);return e||(L(e=new t),this.addComponentOrReplace(e)),e},t.prototype.addComponent=function(t){if(\"object\"!=typeof t)throw new Error(\"Entity#add(component): You passed a function or class as a component, an instance of component is expected\");var e=L(t),n=N(t);if(this.components[e])throw new Error('A component of type \"'+e+'\" is already present in entity \"'+this.identifier+'\"');this.components[e]=t,this.eventManager&&this.eventManager.fireEvent(new b(this,e,n));var o=t;return\"function\"==typeof o.addedToEntity&&o.addedToEntity(this),t},t.prototype.removeComponent=function(t,e){void 0===e&&(e=!0);var n=typeof t;if(\"string\"!==n&&\"function\"!==n&&\"object\"!==n)throw new Error(\"Entity#remove(component): component is not a class, class or name\");var o=\"string\"===n?t:L(t),i=this.components[o];if(i){if(\"function\"===n)return i instanceof t?(delete this.components[o],void(i&&(e&&this.eventManager&&this.eventManager.fireEvent(new R(this,o,i)),\"function\"==typeof i.removedFromEntity&&i.removedFromEntity(this)))):void d('Entity Warning: Trying to remove wrong (by constructor) component \"'+o+'\" from entity \"'+this.identifier+'\"');delete this.components[o],i&&(e&&this.eventManager&&this.eventManager.fireEvent(new R(this,o,i)),\"function\"==typeof i.removedFromEntity&&i.removedFromEntity(this))}else d('Entity Warning: Trying to remove inexisting component \"'+o+'\" from entity \"'+this.identifier+'\"')},t.prototype.isAddedToEngine=function(){return!(!this.engine||!(this.uuid in this.engine.entities)&&this.engine.rootEntity!==this)},t.prototype.setParent=function(t){var e;if(t&&\"getEntityRepresentation\"in t){if(!this.engine)throw new Error(\"In order to set an attachable as parent, you first need to add the entity to the engine.\");e=t.getEntityRepresentation(this.engine)}else e=!t&&this.engine?this.engine.rootEntity:t;var n=this.getParent();if(e===this)throw new Error('Failed to set parent for entity \"'+this.identifier+\"\\\": An entity can't set itself as a its own parent\");if(e===n)return this;var o=this.getCircularAncestor(e);if(o)throw new Error('Failed to set parent for entity \"'+this.identifier+'\": Circular parent references are not allowed (See entity \"'+o+'\")');return n&&delete n.children[this.uuid],null!==e&&\"0\"!==e.uuid&&(!e.isAddedToEngine()&&this.isAddedToEngine()&&this.engine.removeEntity(this),e.isAddedToEngine()&&!this.isAddedToEngine()&&e.engine.addEntity(this)),this._parent=e||null,this.registerAsChild(),this.eventManager&&this.engine&&this.eventManager.fireEvent(new A(this,e)),this},t.prototype.getParent=function(){return this._parent},Object.defineProperty(t.prototype,\"identifier\",{get:function(){return this.name||this.uuid},enumerable:!1,configurable:!0}),t.prototype.getCircularAncestor=function(t){for(var e=this.engine?this.engine.rootEntity:null,n=t;n&&n!==e;){var o=n.getParent();if(o===this)return n.uuid;n=o}return null},t.prototype.registerAsChild=function(){var t=this.getParent();this.uuid&&t&&(t.children[this.uuid]=this)},t}(),V=function(){function t(t){this.eventManager=new x,this.systems=[],this.entityLists={},this.addedSystems=[],this._entities={},this._disposableComponents={},this._componentGroups={},this.simpleSystems=[],this.eventManager.addListener(b,this,this.componentAddedHandler),this.eventManager.addListener(R,this,this.componentRemovedHandler),this.rootEntity=t,this.firstPersonCameraEntity=new k,this.firstPersonCameraEntity.uuid=\"FirstPersonCameraEntityReference\",this.addEntity(this.firstPersonCameraEntity),this.avatarEntity=new k,this.avatarEntity.uuid=\"AvatarEntityReference\",this.addEntity(this.avatarEntity)}return Object.defineProperty(t.prototype,\"entities\",{get:function(){return this._entities},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"disposableComponents\",{get:function(){return this._disposableComponents},enumerable:!1,configurable:!0}),t.prototype.addEntity=function(t){var e=t.getParent();if(t.isAddedToEngine())return t;for(var n in t.eventManager=this.eventManager,t.engine=this,this._entities[t.uuid]=t,this.checkRequirementsAndAdd(t),e?e.isAddedToEngine()||e===this.rootEntity||d(\"Engine: warning, added an entity with a parent not present in the engine. Parent id: \"+e.uuid):t.setParent(this.rootEntity),t.alive=!0,t.children){var o=t.children[n];o&&(o.isAddedToEngine()||this.addEntity(o))}return t},t.prototype.removeEntity=function(t){var e=t.uuid;if(t.isAddedToEngine()){for(var n in t.components){var o=this._componentGroups[n];if(o)for(var i in o)o[i].removeEntity(t);delete this.entityLists[n][e]}for(var r=0;r<this.simpleSystems.length;r++){var s=this.simpleSystems[r];s.onRemoveEntity&&s.onRemoveEntity(t)}for(var r in t.children){var a=t.children[r];a&&this.removeEntity(a)}return t.alive=!1,t.eventManager=null,delete this._entities[e],!0}for(var n in d(\"Engine: Trying to remove non existent entity from engine.\"),t.isAddedToEngine()?d(\"Engine: Entity id: \"+e):d('Engine: Entity \"'+t.uuid+'\" has not been added to any engine yet.'),d(\"Engine: Entity's components:\"),t.components)d(n);return!1},t.prototype.addSystem=function(t,e){if(void 0===e&&(e=0),-1!==this.addedSystems.indexOf(t))return d(\"Engine: Trying to add a system that is already added. Aborting\"),t;if(this.systems.length>0)for(var n=0;n<this.systems.length;n++){var o=this.systems[n],i=n===this.systems.length-1;if(o.priority>e){this.addedSystems.push(t),this.systems.splice(n,0,{system:t,priority:e});break}if(i){this.addedSystems.push(t),this.systems.splice(n+1,0,{system:t,priority:e});break}}else this.addedSystems.push(t),this.systems.splice(1,0,{system:t,priority:e});return this.registerSystem(t),t},t.prototype.removeSystem=function(t){var e=this.addedSystems.indexOf(t);if(-1!==e){t.active=!1,t.deactivate&&t.deactivate(),this.addedSystems.splice(e,1);for(var n=0;n<this.systems.length;n++){this.systems[n].system===t&&this.systems.splice(n,1)}return!0}return!1},t.prototype.update=function(t){for(var e in this.systems){var n=this.systems[e].system;if(n.active&&n.update)try{n.update(t)}catch(t){l(t)}}return this},t.prototype.getEntitiesWithComponent=function(t){var e=\"string\"==typeof t?t:L(t);return e in this.entityLists?this.entityLists[e]:this.entityLists[e]={}},t.prototype.registerComponent=function(t){var e=D(t),n=L(t),o=N(t);this._disposableComponents[e]=t,null!==o&&(this.eventManager.fireEvent(new z(e,n,o)),this.eventManager.fireEvent(new O(e,t)))},t.prototype.disposeComponent=function(t){var e=D(t);return delete this._disposableComponents[e]&&(this.eventManager.fireEvent(new P(e)),t.onDispose&&t.onDispose(),!0)},t.prototype.updateComponent=function(t){this.eventManager.fireEvent(new O(D(t),t))},t.prototype.getComponentGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=void 0;if(t.length>0&&(u=this._componentGroups[L(t[0])]))for(var o=t.slice(),i=0;i<u.length;i++){var r=u[i];if(o.length===r.requires.length){for(var s=0;s<o.length&&-1!==r.requires.indexOf(o[s]);s++)s===o.length-1&&(n=r);if(n)break}}if(n)return n;(n=new(H.bind.apply(H,h([void 0],p(t))))).active=!0;var a=n.requiresNames;for(i=0;i<a.length;i++){var u,c=a[i];(u=this._componentGroups[c])||(this._componentGroups[c]=u=[]),-1===u.indexOf(n)&&u.push(n)}for(var d in this._entities)this.checkRequirements(this._entities[d],n);return n},t.prototype.removeComponentGroup=function(t){if(t.active){t.active=!1;for(var e=t.requiresNames,n=0;n<e.length;n++){var o=e[n],i=this._componentGroups[o];if(i){var r=i.indexOf(t);-1!==r&&i.splice(r,1)}}return!0}return!1},t.prototype.registerSystem=function(t){t.active=!0,t.activate&&t.activate(this),this.simpleSystems.push(t)},t.prototype.checkRequirementsAndAdd=function(t){if(t.isAddedToEngine()){for(var e in t.components){e in this.entityLists||(this.entityLists[e]={}),this.entityLists[e][t.uuid]=t;var n=this._componentGroups[e];if(n)for(var o in n)this.checkRequirements(t,n[o])}for(var i=0;i<this.simpleSystems.length;i++){var r=this.simpleSystems[i];r.onAddEntity&&r.onAddEntity(t)}}},t.prototype.checkRequirements=function(t,e){e.meetsRequirements(t)?e.hasEntity(t)||e.addEntity(t):e.hasEntity(t)&&e.removeEntity(t)},t.prototype.componentAddedHandler=function(t){var e,n=t.entity,o=t.componentName;if(n.isAddedToEngine()){this.entityLists[o]?this.entityLists[o][n.uuid]=n:this.entityLists[o]=((e={})[n.uuid]=n,e);var i=this._componentGroups[o];if(i)for(var r in i)this.checkRequirements(n,i[r])}},t.prototype.componentRemovedHandler=function(t){var e=t.entity,n=t.componentName;if(e.isAddedToEngine()){delete this.entityLists[n][e.uuid];var o=this._componentGroups[n];if(o)for(var i in o)this.checkRequirements(e,o[i])}},t}(),W=Promise.resolve().then.bind(Promise.resolve());function q(t){var e=W(t);return e.isComplete=!1,e.then((function(t){e.isComplete=!0,e.result=t,e.didFail=!1})).catch((function(t){e.isComplete=!0,e.error=t,e.didFail=!0,l(\"executeTask: FAILED \"+t.toString(),t)})),e}var G,j=function(){function t(t,e,n,o){void 0===e&&(e=!1),this.initalize(t,e,n,o)}return t.prototype.initalize=function(t,e,n,o){return void 0===e&&(e=!1),this.mask=t,this.skipNextObservers=e,this.target=n,this.currentTarget=o,this},t}(),Y=function(t,e,n){void 0===n&&(n=null),this.callback=t,this.mask=e,this.scope=n,this.unregisterOnNextCall=!1,this._willBeUnregistered=!1},X=function(){function t(){this._observers=null,this._observables=null}return t.Watch=function(e,n,o,i){var r,s;void 0===o&&(o=-1),void 0===i&&(i=null);var a=new t;a._observers=new Array,a._observables=e;try{for(var p=u(e),h=p.next();!h.done;h=p.next()){var c=h.value.add(n,o,!1,i);c&&a._observers.push(c)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(s=p.return)&&s.call(p)}finally{if(r)throw r.error}}return a},t.prototype.dispose=function(){if(this._observers&&this._observables)for(var t=0;t<this._observers.length;t++)this._observables[t].remove(this._observers[t]);this._observers=null,this._observables=null},t}(),Z=function(){function t(t){this._observers=new Array,this._onObserverAdded=null,this._eventState=new j(0),t&&(this._onObserverAdded=t)}return t.prototype.add=function(t,e,n,o,i){if(void 0===e&&(e=-1),void 0===n&&(n=!1),void 0===o&&(o=null),void 0===i&&(i=!1),!t)return null;var r=new Y(t,e,o);return r.unregisterOnNextCall=i,n?this._observers.unshift(r):this._observers.push(r),this._onObserverAdded&&this._onObserverAdded(r),r},t.prototype.addOnce=function(t){return this.add(t,void 0,void 0,void 0,!0)},t.prototype.remove=function(t){return!!t&&(-1!==this._observers.indexOf(t)&&(this._deferUnregister(t),!0))},t.prototype.removeCallback=function(t,e){for(var n=0;n<this._observers.length;n++)if(this._observers[n].callback===t&&(!e||e===this._observers[n].scope))return this._deferUnregister(this._observers[n]),!0;return!1},t.prototype.notifyObservers=function(t,e,n,o){var i,r;if(void 0===e&&(e=-1),!this._observers.length)return!0;var s=this._eventState;s.mask=e,s.target=n,s.currentTarget=o,s.skipNextObservers=!1,s.lastReturnValue=t;try{for(var a=u(this._observers),p=a.next();!p.done;p=a.next()){var h=p.value;if(!h._willBeUnregistered&&(h.mask&e&&(h.scope?s.lastReturnValue=h.callback.apply(h.scope,[t,s]):s.lastReturnValue=h.callback(t,s),h.unregisterOnNextCall&&this._deferUnregister(h)),s.skipNextObservers))return!1}}catch(t){i={error:t}}finally{try{p&&!p.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return!0},t.prototype.notifyObserversWithPromise=function(t,e,n,o){var i=this;void 0===e&&(e=-1);var r=Promise.resolve(t);if(!this._observers.length)return r;var s=this._eventState;return s.mask=e,s.target=n,s.currentTarget=o,s.skipNextObservers=!1,this._observers.forEach((function(n){s.skipNextObservers||n._willBeUnregistered||n.mask&e&&(r=n.scope?r.then((function(e){return s.lastReturnValue=e,n.callback.apply(n.scope,[t,s])})):r.then((function(e){return s.lastReturnValue=e,n.callback(t,s)})),n.unregisterOnNextCall&&i._deferUnregister(n))})),r.then((function(){return t}))},t.prototype.notifyObserver=function(t,e,n){void 0===n&&(n=-1);var o=this._eventState;o.mask=n,o.skipNextObservers=!1,t.callback(e,o)},t.prototype.hasObservers=function(){return this._observers.length>0},t.prototype.clear=function(){this._observers=new Array,this._onObserverAdded=null},t.prototype.clone=function(){var e=new t;return e._observers=this._observers.slice(0),e},t.prototype.hasSpecificMask=function(t){var e,n;void 0===t&&(t=-1);try{for(var o=u(this._observers),i=o.next();!i.done;i=o.next()){var r=i.value;if(r.mask&t||r.mask===t)return!0}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return!1},t.prototype._deferUnregister=function(t){var e=this;t.unregisterOnNextCall=!1,t._willBeUnregistered=!0,q((function(){return s(e,void 0,void 0,(function(){return a(this,(function(e){return[2,this._remove(t)]}))}))}))},t.prototype._remove=function(t){if(!t)return!1;var e=this._observers.indexOf(t);return-1!==e&&(this._observers.splice(e,1),!0)},t}();var J,Q=function(){function t(t,e){this.uuid=t,this.payload=e}return t=r([w()],t)}(),K=function(){function t(t){this.payload=t}return t=r([w()],t)}(),$=function(){function t(t){this.payload=t}return t=r([w()],t)}();function tt(t){return function(){J&&J.subscribe(t)}}var et=new Z(tt(\"cameraModeChanged\")),nt=new Z(tt(\"idleStateChanged\")),ot=new Z(tt(\"onEnterScene\")),it=ot,rt=new Z(tt(\"onLeaveScene\")),st=rt,at=new Z(tt(\"sceneStart\")),ut=new Z(tt(\"playerExpression\")),pt=new Z(tt(\"videoEvent\")),ht=new Z(tt(\"profileChanged\"));function ct(t){(J=t)&&J.onEvent((function(t){switch(t.type){case\"onEnterScene\":return void ot.notifyObservers(t.data);case\"onLeaveScene\":return void rt.notifyObservers(t.data);case\"cameraModeChanged\":return void et.notifyObservers(t.data);case\"idleStateChanged\":return void nt.notifyObservers(t.data);case\"sceneStart\":return void at.notifyObservers(t.data);case\"playerExpression\":return void ut.notifyObservers(t.data);case\"videoEvent\":var e=t.data,n=F.engine.disposableComponents[e.componentId];return n&&n.update(e),void pt.notifyObservers(e);case\"profileChanged\":return void ht.notifyObservers(t.data)}}))}var dt,lt,ft=function(){function t(t){this.dcl=t,this.cachedComponents={}}return t.prototype.activate=function(t){var e=this;this.engine=t,t.eventManager.addListener(b,this,this.componentAdded),t.eventManager.addListener(R,this,this.componentRemoved),t.eventManager.addListener(z,this,this.disposableComponentCreated),t.eventManager.addListener(P,this,this.disposableComponentRemoved),t.eventManager.addListener(O,this,this.disposableComponentUpdated),t.eventManager.addListener(A,this,this.parentChanged);var n=t.rootEntity.uuid;this.dcl.addEntity(n),this.dcl.onUpdate((function(n){t.update(n),e.presentEntities()})),this.dcl.onEvent((function(e){var n=e.data;switch(e.type){case\"uuidEvent\":t.eventManager.fireEvent(new Q(n.uuid,n.payload));break;case\"raycastResponse\":(\"HitFirst\"===n.queryType||\"HitAll\"===n.queryType)&&t.eventManager.fireEvent(new K(n));break;case\"pointerEvent\":t.eventManager.fireEvent(new $(n.payload))}}))},t.prototype.onAddEntity=function(t){if(t&&t.isAddedToEngine()){var e=t.uuid,n=t.getParent();for(var o in this.dcl.addEntity(e),n&&this.dcl.setParent(e,n.uuid),this.cachedComponents[e]={},t.components){var i=t.components[o],r=N(i);if(null!==r)if(B(i))this.dcl.attachEntityComponent(t.uuid,o,D(i));else{var s=JSON.stringify(i);this.dcl.updateEntityComponent(e,o,r,s),this.cachedComponents[e][o]=s}}}},t.prototype.onRemoveEntity=function(t){if(t.isAddedToEngine()){var e=t.uuid;this.dcl.removeEntity(e),delete this.cachedComponents[e]}},t.prototype.presentEntities=function(){for(var t in this.engine.entities){var e=this.engine.entities[t];for(var n in e.components){var o=N(s=e.components[n]);if(null!==o&&!B(s)){var i=this.getJsonIfDirty(e.uuid,n,s);i&&(this.dcl.updateEntityComponent(e.uuid,n,o,i),this.clearDirty(e.uuid,n,s,i))}}}for(var r in this.engine.disposableComponents){var s;(s=this.engine.disposableComponents[r])instanceof U&&s.dirty&&(this.dcl.componentUpdated(r,JSON.stringify(s)),s.dirty=!1)}},t.prototype.componentAdded=function(t){if(t.entity.isAddedToEngine()){var e=t.entity.components[t.componentName];if(B(e))this.dcl.attachEntityComponent(t.entity.uuid,t.componentName,D(e));else if(null!==t.classId){var n=JSON.stringify(e);this.dcl.updateEntityComponent(t.entity.uuid,t.componentName,t.classId,n),this.cachedComponents[t.entity.uuid][t.componentName]=n}}},t.prototype.componentRemoved=function(t){t.entity.isAddedToEngine()&&(this.dcl.removeEntityComponent(t.entity.uuid,t.componentName),delete this.cachedComponents[t.entity.uuid][t.componentName])},t.prototype.disposableComponentCreated=function(t){this.dcl.componentCreated(t.componentId,t.componentName,t.classId)},t.prototype.disposableComponentRemoved=function(t){this.dcl.componentDisposed(t.componentId)},t.prototype.disposableComponentUpdated=function(t){this.dcl.componentUpdated(t.componentId,JSON.stringify(t.component))},t.prototype.parentChanged=function(t){this.dcl.setParent(t.entity.uuid,t.parent?t.parent.uuid:\"0\")},t.prototype.getJsonIfDirty=function(t,e,n){var o=JSON.stringify(n);return o!==this.cachedComponents[t][e]&&o},t.prototype.clearDirty=function(t,e,n,o){this.cachedComponents[t][e]=o},t}();t.Orientation=void 0,(dt=t.Orientation||(t.Orientation={}))[dt.CW=0]=\"CW\",dt[dt.CCW=1]=\"CCW\",t.Space=void 0,(lt=t.Space||(t.Space={}))[lt.LOCAL=0]=\"LOCAL\",lt[lt.WORLD=1]=\"WORLD\",lt[lt.BONE=2]=\"BONE\";var yt,vt,mt=1/2.2,gt=2.2,_t=1e-6,xt=Math.PI/180,wt=360/(2*Math.PI),Tt=function(){function t(){}return t.WithinEpsilon=function(t,e,n){void 0===n&&(n=1401298e-51);var o=t-e;return-n<=o&&o<=n},t.ToHex=function(t){var e=t.toString(16);return t<=15?(\"0\"+e).toUpperCase():e.toUpperCase()},t.Sign=function(t){var e=+t;return 0===e||isNaN(e)?e:e>0?1:-1},t.Clamp=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),Math.min(n,Math.max(e,t))},t.Log2=function(t){return Math.log(t)*Math.LOG2E},t.Repeat=function(t,e){return t-Math.floor(t/e)*e},t.Normalize=function(t,e,n){return(t-e)/(n-e)},t.Denormalize=function(t,e,n){return t*(n-e)+e},t.DeltaAngle=function(e,n){var o=t.Repeat(n-e,360);return o>180&&(o-=360),o},t.PingPong=function(e,n){var o=t.Repeat(e,2*n);return n-Math.abs(o-n)},t.SmoothStep=function(e,n,o){var i=t.Clamp(o);return n*(i=-2*i*i*i+3*i*i)+e*(1-i)},t.MoveTowards=function(e,n,o){return Math.abs(n-e)<=o?n:e+t.Sign(n-e)*o},t.MoveTowardsAngle=function(e,n,o){var i=t.DeltaAngle(e,n);return-o<i&&i<o?n:t.MoveTowards(e,e+i,o)},t.Lerp=function(t,e,n){return t+(e-t)*n},t.LerpAngle=function(e,n,o){var i=t.Repeat(n-e,360);return i>180&&(i-=360),e+i*t.Clamp(o)},t.InverseLerp=function(e,n,o){return e!==n?t.Clamp((o-e)/(n-e)):0},t.Hermite=function(t,e,n,o,i){var r=i*i,s=i*r;return t*(2*s-3*r+1)+n*(-2*s+3*r)+e*(s-2*r+i)+o*(s-r)},t.RandomRange=function(t,e){return t===e?t:Math.random()*(e-t)+t},t.RangeToPercent=function(t,e,n){return(t-e)/(n-e)},t.PercentToRange=function(t,e,n){return(n-e)*t+e},t.NormalizeRadians=function(e){return e-t.TwoPi*Math.floor((e+Math.PI)/t.TwoPi)},t.TwoPi=2*Math.PI,t}(),Rt=function(){function t(t,e,n,o){this.x=t,this.y=e,this.z=n,this.w=o}return t.Add=function(e,n){return new t(e.x,e.y,e.z,e.w).addInPlace(n)},t.FromArray=function(e,n){return void 0===n&&(n=0),new t(e[n],e[n+1],e[n+2],e[n+3])},t.FromArrayToRef=function(t,e,n){n.x=t[e],n.y=t[e+1],n.z=t[e+2],n.w=t[e+3]},t.FromFloatArrayToRef=function(e,n,o){t.FromArrayToRef(e,n,o)},t.FromFloatsToRef=function(t,e,n,o,i){i.x=t,i.y=e,i.z=n,i.w=o},t.Zero=function(){return new t(0,0,0,0)},t.One=function(){return new t(1,1,1,1)},t.Normalize=function(e){var n=t.Zero();return t.NormalizeToRef(e,n),n},t.NormalizeToRef=function(t,e){e.copyFrom(t),e.normalize()},t.Minimize=function(e,n){var o=new t(e.x,e.y,e.z,e.w);return o.minimizeInPlace(n),o},t.Maximize=function(e,n){var o=new t(e.x,e.y,e.z,e.w);return o.maximizeInPlace(n),o},t.Distance=function(e,n){return Math.sqrt(t.DistanceSquared(e,n))},t.DistanceSquared=function(t,e){var n=t.x-e.x,o=t.y-e.y,i=t.z-e.z,r=t.w-e.w;return n*n+o*o+i*i+r*r},t.Center=function(e,n){var o=t.Add(e,n);return o.scaleInPlace(.5),o},t.TransformNormal=function(e,n){var o=t.Zero();return t.TransformNormalToRef(e,n,o),o},t.TransformNormalToRef=function(t,e,n){var o=e.m,i=t.x*o[0]+t.y*o[4]+t.z*o[8],r=t.x*o[1]+t.y*o[5]+t.z*o[9],s=t.x*o[2]+t.y*o[6]+t.z*o[10];n.x=i,n.y=r,n.z=s,n.w=t.w},t.TransformNormalFromFloatsToRef=function(t,e,n,o,i,r){var s=i.m;r.x=t*s[0]+e*s[4]+n*s[8],r.y=t*s[1]+e*s[5]+n*s[9],r.z=t*s[2]+e*s[6]+n*s[10],r.w=o},t.prototype.toString=function(){return\"{X: \"+this.x+\" Y:\"+this.y+\" Z:\"+this.z+\" W:\"+this.w+\"}\"},t.prototype.getClassName=function(){return\"Vector4\"},t.prototype.getHashCode=function(){var t=this.x||0;return t=397*(t=397*(t=397*t^(this.y||0))^(this.z||0))^(this.w||0)},t.prototype.asArray=function(){var t=new Array;return this.toArray(t,0),t},t.prototype.toArray=function(t,e){return void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,this},t.prototype.addInPlace=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y,this.z+e.z,this.w+e.w)},t.prototype.addToRef=function(t,e){return e.x=this.x+t.x,e.y=this.y+t.y,e.z=this.z+t.z,e.w=this.w+t.w,this},t.prototype.subtractInPlace=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this},t.prototype.subtract=function(e){return new t(this.x-e.x,this.y-e.y,this.z-e.z,this.w-e.w)},t.prototype.subtractToRef=function(t,e){return e.x=this.x-t.x,e.y=this.y-t.y,e.z=this.z-t.z,e.w=this.w-t.w,this},t.prototype.subtractFromFloats=function(e,n,o,i){return new t(this.x-e,this.y-n,this.z-o,this.w-i)},t.prototype.subtractFromFloatsToRef=function(t,e,n,o,i){return i.x=this.x-t,i.y=this.y-e,i.z=this.z-n,i.w=this.w-o,this},t.prototype.negate=function(){return new t(-this.x,-this.y,-this.z,-this.w)},t.prototype.scaleInPlace=function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},t.prototype.scale=function(e){return new t(this.x*e,this.y*e,this.z*e,this.w*e)},t.prototype.scaleToRef=function(t,e){return e.x=this.x*t,e.y=this.y*t,e.z=this.z*t,e.w=this.w*t,this},t.prototype.scaleAndAddToRef=function(t,e){return e.x+=this.x*t,e.y+=this.y*t,e.z+=this.z*t,e.w+=this.w*t,this},t.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},t.prototype.equalsWithEpsilon=function(t,e){return void 0===e&&(e=_t),t&&Tt.WithinEpsilon(this.x,t.x,e)&&Tt.WithinEpsilon(this.y,t.y,e)&&Tt.WithinEpsilon(this.z,t.z,e)&&Tt.WithinEpsilon(this.w,t.w,e)},t.prototype.equalsToFloats=function(t,e,n,o){return this.x===t&&this.y===e&&this.z===n&&this.w===o},t.prototype.multiplyInPlace=function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this},t.prototype.multiply=function(e){return new t(this.x*e.x,this.y*e.y,this.z*e.z,this.w*e.w)},t.prototype.multiplyToRef=function(t,e){return e.x=this.x*t.x,e.y=this.y*t.y,e.z=this.z*t.z,e.w=this.w*t.w,this},t.prototype.multiplyByFloats=function(e,n,o,i){return new t(this.x*e,this.y*n,this.z*o,this.w*i)},t.prototype.divide=function(e){return new t(this.x/e.x,this.y/e.y,this.z/e.z,this.w/e.w)},t.prototype.divideToRef=function(t,e){return e.x=this.x/t.x,e.y=this.y/t.y,e.z=this.z/t.z,e.w=this.w/t.w,this},t.prototype.divideInPlace=function(t){return this.divideToRef(t,this)},t.prototype.minimizeInPlace=function(t){return t.x<this.x&&(this.x=t.x),t.y<this.y&&(this.y=t.y),t.z<this.z&&(this.z=t.z),t.w<this.w&&(this.w=t.w),this},t.prototype.maximizeInPlace=function(t){return t.x>this.x&&(this.x=t.x),t.y>this.y&&(this.y=t.y),t.z>this.z&&(this.z=t.z),t.w>this.w&&(this.w=t.w),this},t.prototype.floor=function(){return new t(Math.floor(this.x),Math.floor(this.y),Math.floor(this.z),Math.floor(this.w))},t.prototype.fract=function(){return new t(this.x-Math.floor(this.x),this.y-Math.floor(this.y),this.z-Math.floor(this.z),this.w-Math.floor(this.w))},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},t.prototype.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},t.prototype.normalize=function(){var t=this.length();return 0===t?this:this.scaleInPlace(1/t)},t.prototype.toVector3=function(){return new Et(this.x,this.y,this.z)},t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.w)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},t.prototype.copyFromFloats=function(t,e,n,o){return this.x=t,this.y=e,this.z=n,this.w=o,this},t.prototype.set=function(t,e,n,o){return this.copyFromFloats(t,e,n,o)},t.prototype.setAll=function(t){return this.x=this.y=this.z=this.w=t,this},t}(),bt=function(){function t(){this._isIdentity=!1,this._isIdentityDirty=!0,this._isIdentity3x2=!0,this._isIdentity3x2Dirty=!0,this._m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this._updateIdentityStatus(!1)}return Object.defineProperty(t.prototype,\"m\",{get:function(){return this._m},enumerable:!1,configurable:!0}),Object.defineProperty(t,\"IdentityReadOnly\",{get:function(){return t._identityReadOnly},enumerable:!1,configurable:!0}),t.FromArray=function(e,n){void 0===n&&(n=0);var o=new t;return t.FromArrayToRef(e,n,o),o},t.FromArrayToRef=function(t,e,n){for(var o=0;o<16;o++)n._m[o]=t[o+e];n._markAsUpdated()},t.FromFloatArrayToRefScaled=function(t,e,n,o){for(var i=0;i<16;i++)o._m[i]=t[i+e]*n;o._markAsUpdated()},t.FromValuesToRef=function(t,e,n,o,i,r,s,a,u,p,h,c,d,l,f,y,v){var m=v._m;m[0]=t,m[1]=e,m[2]=n,m[3]=o,m[4]=i,m[5]=r,m[6]=s,m[7]=a,m[8]=u,m[9]=p,m[10]=h,m[11]=c,m[12]=d,m[13]=l,m[14]=f,m[15]=y,v._markAsUpdated()},t.FromValues=function(e,n,o,i,r,s,a,u,p,h,c,d,l,f,y,v){var m=new t,g=m._m;return g[0]=e,g[1]=n,g[2]=o,g[3]=i,g[4]=r,g[5]=s,g[6]=a,g[7]=u,g[8]=p,g[9]=h,g[10]=c,g[11]=d,g[12]=l,g[13]=f,g[14]=y,g[15]=v,m._markAsUpdated(),m},t.Compose=function(e,n,o){var i=new t;return t.ComposeToRef(e,n,o,i),i},t.ComposeToRef=function(e,n,o,i){t.ScalingToRef(e.x,e.y,e.z,St.Matrix[1]),n.toRotationMatrix(St.Matrix[0]),St.Matrix[1].multiplyToRef(St.Matrix[0],i),i.setTranslation(o)},t.Identity=function(){var e=t.FromValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return e._updateIdentityStatus(!0),e},t.IdentityToRef=function(e){t.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,e),e._updateIdentityStatus(!0)},t.Zero=function(){var e=t.FromValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return e._updateIdentityStatus(!1),e},t.RotationX=function(e){var n=new t;return t.RotationXToRef(e,n),n},t.Invert=function(e){var n=new t;return e.invertToRef(n),n},t.RotationXToRef=function(e,n){var o=Math.sin(e),i=Math.cos(e);t.FromValuesToRef(1,0,0,0,0,i,o,0,0,-o,i,0,0,0,0,1,n),n._updateIdentityStatus(1===i&&0===o)},t.RotationY=function(e){var n=new t;return t.RotationYToRef(e,n),n},t.RotationYToRef=function(e,n){var o=Math.sin(e),i=Math.cos(e);t.FromValuesToRef(i,0,-o,0,0,1,0,0,o,0,i,0,0,0,0,1,n),n._updateIdentityStatus(1===i&&0===o)},t.RotationZ=function(e){var n=new t;return t.RotationZToRef(e,n),n},t.RotationZToRef=function(e,n){var o=Math.sin(e),i=Math.cos(e);t.FromValuesToRef(i,o,0,0,-o,i,0,0,0,0,1,0,0,0,0,1,n),n._updateIdentityStatus(1===i&&0===o)},t.RotationAxis=function(e,n){var o=new t;return t.RotationAxisToRef(e,n,o),o},t.RotationAxisToRef=function(t,e,n){var o=Math.sin(-e),i=Math.cos(-e),r=1-i;t.normalize();var s=n._m;s[0]=t.x*t.x*r+i,s[1]=t.x*t.y*r-t.z*o,s[2]=t.x*t.z*r+t.y*o,s[3]=0,s[4]=t.y*t.x*r+t.z*o,s[5]=t.y*t.y*r+i,s[6]=t.y*t.z*r-t.x*o,s[7]=0,s[8]=t.z*t.x*r-t.y*o,s[9]=t.z*t.y*r+t.x*o,s[10]=t.z*t.z*r+i,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,n._markAsUpdated()},t.RotationYawPitchRoll=function(e,n,o){var i=new t;return t.RotationYawPitchRollToRef(e,n,o,i),i},t.RotationYawPitchRollToRef=function(t,e,n,o){At.RotationYawPitchRollToRef(t,e,n,St.Quaternion[0]),St.Quaternion[0].toRotationMatrix(o)},t.Scaling=function(e,n,o){var i=new t;return t.ScalingToRef(e,n,o,i),i},t.ScalingToRef=function(e,n,o,i){t.FromValuesToRef(e,0,0,0,0,n,0,0,0,0,o,0,0,0,0,1,i),i._updateIdentityStatus(1===e&&1===n&&1===o)},t.Translation=function(e,n,o){var i=new t;return t.TranslationToRef(e,n,o,i),i},t.TranslationToRef=function(e,n,o,i){t.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,e,n,o,1,i),i._updateIdentityStatus(0===e&&0===n&&0===o)},t.Lerp=function(e,n,o){var i=new t;return t.LerpToRef(e,n,o,i),i},t.LerpToRef=function(t,e,n,o){for(var i=0;i<16;i++)o._m[i]=t._m[i]*(1-n)+e._m[i]*n;o._markAsUpdated()},t.DecomposeLerp=function(e,n,o){var i=new t;return t.DecomposeLerpToRef(e,n,o,i),i},t.DecomposeLerpToRef=function(e,n,o,i){var r=St.Vector3[0],s=St.Quaternion[0],a=St.Vector3[1];e.decompose(r,s,a);var u=St.Vector3[2],p=St.Quaternion[1],h=St.Vector3[3];n.decompose(u,p,h);var c=St.Vector3[4];Et.LerpToRef(r,u,o,c);var d=St.Quaternion[2];At.SlerpToRef(s,p,o,d);var l=St.Vector3[5];Et.LerpToRef(a,h,o,l),t.ComposeToRef(c,d,l,i)},t.LookAtLH=function(e,n,o){var i=new t;return t.LookAtLHToRef(e,n,o,i),i},t.LookAtLHToRef=function(e,n,o,i){var r=St.Vector3[0],s=St.Vector3[1],a=St.Vector3[2];n.subtractToRef(e,a),a.normalize(),Et.CrossToRef(o,a,r);var u=r.lengthSquared();0===u?r.x=1:r.normalizeFromLength(Math.sqrt(u)),Et.CrossToRef(a,r,s),s.normalize();var p=-Et.Dot(r,e),h=-Et.Dot(s,e),c=-Et.Dot(a,e);t.FromValuesToRef(r.x,s.x,a.x,0,r.y,s.y,a.y,0,r.z,s.z,a.z,0,p,h,c,1,i)},t.LookAtRH=function(e,n,o){var i=new t;return t.LookAtRHToRef(e,n,o,i),i},t.LookAtRHToRef=function(e,n,o,i){var r=St.Vector3[0],s=St.Vector3[1],a=St.Vector3[2];e.subtractToRef(n,a),a.normalize(),Et.CrossToRef(o,a,r);var u=r.lengthSquared();0===u?r.x=1:r.normalizeFromLength(Math.sqrt(u)),Et.CrossToRef(a,r,s),s.normalize();var p=-Et.Dot(r,e),h=-Et.Dot(s,e),c=-Et.Dot(a,e);t.FromValuesToRef(r.x,s.x,a.x,0,r.y,s.y,a.y,0,r.z,s.z,a.z,0,p,h,c,1,i)},t.OrthoLH=function(e,n,o,i){var r=new t;return t.OrthoLHToRef(e,n,o,i,r),r},t.OrthoLHToRef=function(e,n,o,i,r){var s=2/e,a=2/n,u=2/(i-o),p=-(i+o)/(i-o);t.FromValuesToRef(s,0,0,0,0,a,0,0,0,0,u,0,0,0,p,1,r),r._updateIdentityStatus(1===s&&1===a&&1===u&&0===p)},t.OrthoOffCenterLH=function(e,n,o,i,r,s){var a=new t;return t.OrthoOffCenterLHToRef(e,n,o,i,r,s,a),a},t.OrthoOffCenterLHToRef=function(e,n,o,i,r,s,a){var u=2/(n-e),p=2/(i-o),h=2/(s-r),c=-(s+r)/(s-r),d=(e+n)/(e-n),l=(i+o)/(o-i);t.FromValuesToRef(u,0,0,0,0,p,0,0,0,0,h,0,d,l,c,1,a),a._markAsUpdated()},t.OrthoOffCenterRH=function(e,n,o,i,r,s){var a=new t;return t.OrthoOffCenterRHToRef(e,n,o,i,r,s,a),a},t.OrthoOffCenterRHToRef=function(e,n,o,i,r,s,a){t.OrthoOffCenterLHToRef(e,n,o,i,r,s,a),a._m[10]*=-1},t.PerspectiveLH=function(e,n,o,i){var r=new t,s=2*o/e,a=2*o/n,u=(i+o)/(i-o),p=-2*i*o/(i-o);return t.FromValuesToRef(s,0,0,0,0,a,0,0,0,0,u,1,0,0,p,0,r),r._updateIdentityStatus(!1),r},t.PerspectiveFovLH=function(e,n,o,i){var r=new t;return t.PerspectiveFovLHToRef(e,n,o,i,r),r},t.PerspectiveFovLHToRef=function(e,n,o,i,r,s){void 0===s&&(s=!0);var a=o,u=i,p=1/Math.tan(.5*e),h=s?p/n:p,c=s?p:p*n,d=(u+a)/(u-a),l=-2*u*a/(u-a);t.FromValuesToRef(h,0,0,0,0,c,0,0,0,0,d,1,0,0,l,0,r),r._updateIdentityStatus(!1)},t.PerspectiveFovRH=function(e,n,o,i){var r=new t;return t.PerspectiveFovRHToRef(e,n,o,i,r),r},t.PerspectiveFovRHToRef=function(e,n,o,i,r,s){void 0===s&&(s=!0);var a=o,u=i,p=1/Math.tan(.5*e),h=s?p/n:p,c=s?p:p*n,d=-(u+a)/(u-a),l=-2*u*a/(u-a);t.FromValuesToRef(h,0,0,0,0,c,0,0,0,0,d,-1,0,0,l,0,r),r._updateIdentityStatus(!1)},t.PerspectiveFovWebVRToRef=function(t,e,n,o,i){void 0===i&&(i=!1);var r=i?-1:1,s=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),u=Math.tan(t.leftDegrees*Math.PI/180),p=Math.tan(t.rightDegrees*Math.PI/180),h=2/(u+p),c=2/(s+a),d=o._m;d[0]=h,d[1]=d[2]=d[3]=d[4]=0,d[5]=c,d[6]=d[7]=0,d[8]=(u-p)*h*.5,d[9]=-(s-a)*c*.5,d[10]=-n/(e-n),d[11]=1*r,d[12]=d[13]=d[15]=0,d[14]=-2*n*e/(n-e),o._markAsUpdated()},t.GetAsMatrix2x2=function(t){return[t._m[0],t._m[1],t._m[4],t._m[5]]},t.GetAsMatrix3x3=function(t){return[t._m[0],t._m[1],t._m[2],t._m[4],t._m[5],t._m[6],t._m[8],t._m[9],t._m[10]]},t.Transpose=function(e){var n=new t;return t.TransposeToRef(e,n),n},t.TransposeToRef=function(t,e){var n=e._m,o=t._m;n[0]=o[0],n[1]=o[4],n[2]=o[8],n[3]=o[12],n[4]=o[1],n[5]=o[5],n[6]=o[9],n[7]=o[13],n[8]=o[2],n[9]=o[6],n[10]=o[10],n[11]=o[14],n[12]=o[3],n[13]=o[7],n[14]=o[11],n[15]=o[15],e._updateIdentityStatus(t._isIdentity,t._isIdentityDirty)},t.Reflection=function(e){var n=new t;return t.ReflectionToRef(e,n),n},t.ReflectionToRef=function(e,n){e.normalize();var o=e.normal.x,i=e.normal.y,r=e.normal.z,s=-2*o,a=-2*i,u=-2*r;t.FromValuesToRef(s*o+1,a*o,u*o,0,s*i,a*i+1,u*i,0,s*r,a*r,u*r+1,0,s*e.d,a*e.d,u*e.d,1,n)},t.FromXYZAxesToRef=function(e,n,o,i){t.FromValuesToRef(e.x,e.y,e.z,0,n.x,n.y,n.z,0,o.x,o.y,o.z,0,0,0,0,1,i)},t.FromQuaternionToRef=function(t,e){var n=t.x*t.x,o=t.y*t.y,i=t.z*t.z,r=t.x*t.y,s=t.z*t.w,a=t.z*t.x,u=t.y*t.w,p=t.y*t.z,h=t.x*t.w;e._m[0]=1-2*(o+i),e._m[1]=2*(r+s),e._m[2]=2*(a-u),e._m[3]=0,e._m[4]=2*(r-s),e._m[5]=1-2*(i+n),e._m[6]=2*(p+h),e._m[7]=0,e._m[8]=2*(a+u),e._m[9]=2*(p-h),e._m[10]=1-2*(o+n),e._m[11]=0,e._m[12]=0,e._m[13]=0,e._m[14]=0,e._m[15]=1,e._markAsUpdated()},t.prototype._markAsUpdated=function(){this.updateFlag=t._updateFlagSeed++,this._isIdentity=!1,this._isIdentity3x2=!1,this._isIdentityDirty=!0,this._isIdentity3x2Dirty=!0},t.prototype.isIdentity=function(){if(this._isIdentityDirty){this._isIdentityDirty=!1;var t=this._m;this._isIdentity=1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&0===t[12]&&0===t[13]&&0===t[14]&&1===t[15]}return this._isIdentity},t.prototype.isIdentityAs3x2=function(){return this._isIdentity3x2Dirty&&(this._isIdentity3x2Dirty=!1,1!==this._m[0]||1!==this._m[5]||1!==this._m[15]||0!==this._m[1]||0!==this._m[2]||0!==this._m[3]||0!==this._m[4]||0!==this._m[6]||0!==this._m[7]||0!==this._m[8]||0!==this._m[9]||0!==this._m[10]||0!==this._m[11]||0!==this._m[12]||0!==this._m[13]||0!==this._m[14]?this._isIdentity3x2=!1:this._isIdentity3x2=!0),this._isIdentity3x2},t.prototype.determinant=function(){if(!0===this._isIdentity)return 1;var t=this._m,e=t[0],n=t[1],o=t[2],i=t[3],r=t[4],s=t[5],a=t[6],u=t[7],p=t[8],h=t[9],c=t[10],d=t[11],l=t[12],f=t[13],y=t[14],v=t[15],m=c*v-y*d,g=h*v-f*d,_=h*y-f*c,x=p*v-l*d,w=p*y-c*l,T=p*f-l*h;return e*+(s*m-a*g+u*_)+n*-(r*m-a*x+u*w)+o*+(r*g-s*x+u*T)+i*-(r*_-s*w+a*T)},t.prototype.toArray=function(){return this._m},t.prototype.asArray=function(){return this._m},t.prototype.invert=function(){return this.invertToRef(this),this},t.prototype.reset=function(){return t.FromValuesToRef(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,this),this._updateIdentityStatus(!1),this},t.prototype.add=function(e){var n=new t;return this.addToRef(e,n),n},t.prototype.addToRef=function(t,e){for(var n=0;n<16;n++)e._m[n]=this._m[n]+t._m[n];return e._markAsUpdated(),this},t.prototype.addToSelf=function(t){for(var e=0;e<16;e++)this._m[e]+=t._m[e];return this._markAsUpdated(),this},t.prototype.invertToRef=function(e){if(!0===this._isIdentity)return t.IdentityToRef(e),this;var n=this._m,o=n[0],i=n[1],r=n[2],s=n[3],a=n[4],u=n[5],p=n[6],h=n[7],c=n[8],d=n[9],l=n[10],f=n[11],y=n[12],v=n[13],m=n[14],g=n[15],_=l*g-m*f,x=d*g-v*f,w=d*m-v*l,T=c*g-y*f,R=c*m-l*y,b=c*v-y*d,A=+(u*_-p*x+h*w),E=-(a*_-p*T+h*R),S=+(a*x-u*T+h*b),C=-(a*w-u*R+p*b),I=o*A+i*E+r*S+s*C;if(0===I)return e.copyFrom(this),this;var z=1/I,P=p*g-m*h,O=u*g-v*h,M=u*m-v*p,F=a*g-y*h,L=a*m-y*p,N=a*v-y*u,D=p*f-l*h,U=u*f-d*h,B=u*l-d*p,H=a*f-c*h,k=a*l-c*p,V=a*d-c*u,W=-(i*_-r*x+s*w),q=+(o*_-r*T+s*R),G=-(o*x-i*T+s*b),j=+(o*w-i*R+r*b),Y=+(i*P-r*O+s*M),X=-(o*P-r*F+s*L),Z=+(o*O-i*F+s*N),J=-(o*M-i*L+r*N),Q=-(i*D-r*U+s*B),K=+(o*D-r*H+s*k),$=-(o*U-i*H+s*V),tt=+(o*B-i*k+r*V);return t.FromValuesToRef(A*z,W*z,Y*z,Q*z,E*z,q*z,X*z,K*z,S*z,G*z,Z*z,$*z,C*z,j*z,J*z,tt*z,e),this},t.prototype.addAtIndex=function(t,e){return this._m[t]+=e,this._markAsUpdated(),this},t.prototype.multiplyAtIndex=function(t,e){return this._m[t]*=e,this._markAsUpdated(),this},t.prototype.setTranslationFromFloats=function(t,e,n){return this._m[12]=t,this._m[13]=e,this._m[14]=n,this._markAsUpdated(),this},t.prototype.setTranslation=function(t){return this.setTranslationFromFloats(t.x,t.y,t.z)},t.prototype.getTranslation=function(){return new Et(this._m[12],this._m[13],this._m[14])},t.prototype.getTranslationToRef=function(t){return t.x=this._m[12],t.y=this._m[13],t.z=this._m[14],this},t.prototype.removeRotationAndScaling=function(){var e=this.m;return t.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,e[12],e[13],e[14],e[15],this),this._updateIdentityStatus(0===e[12]&&0===e[13]&&0===e[14]&&1===e[15]),this},t.prototype.multiply=function(e){var n=new t;return this.multiplyToRef(e,n),n},t.prototype.copyFrom=function(t){t.copyToArray(this._m);var e=t;return this._updateIdentityStatus(e._isIdentity,e._isIdentityDirty,e._isIdentity3x2,e._isIdentity3x2Dirty),this},t.prototype.copyToArray=function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)t[e+n]=this._m[n];return this},t.prototype.multiplyToRef=function(t,e){return this._isIdentity?(e.copyFrom(t),this):t._isIdentity?(e.copyFrom(this),this):(this.multiplyToArray(t,e._m,0),e._markAsUpdated(),this)},t.prototype.multiplyToArray=function(t,e,n){var o=this._m,i=t.m,r=o[0],s=o[1],a=o[2],u=o[3],p=o[4],h=o[5],c=o[6],d=o[7],l=o[8],f=o[9],y=o[10],v=o[11],m=o[12],g=o[13],_=o[14],x=o[15],w=i[0],T=i[1],R=i[2],b=i[3],A=i[4],E=i[5],S=i[6],C=i[7],I=i[8],z=i[9],P=i[10],O=i[11],M=i[12],F=i[13],L=i[14],N=i[15];return e[n]=r*w+s*A+a*I+u*M,e[n+1]=r*T+s*E+a*z+u*F,e[n+2]=r*R+s*S+a*P+u*L,e[n+3]=r*b+s*C+a*O+u*N,e[n+4]=p*w+h*A+c*I+d*M,e[n+5]=p*T+h*E+c*z+d*F,e[n+6]=p*R+h*S+c*P+d*L,e[n+7]=p*b+h*C+c*O+d*N,e[n+8]=l*w+f*A+y*I+v*M,e[n+9]=l*T+f*E+y*z+v*F,e[n+10]=l*R+f*S+y*P+v*L,e[n+11]=l*b+f*C+y*O+v*N,e[n+12]=m*w+g*A+_*I+x*M,e[n+13]=m*T+g*E+_*z+x*F,e[n+14]=m*R+g*S+_*P+x*L,e[n+15]=m*b+g*C+_*O+x*N,this},t.prototype.equals=function(t){var e=t;if(!e)return!1;if((this._isIdentity||e._isIdentity)&&!this._isIdentityDirty&&!e._isIdentityDirty)return this._isIdentity&&e._isIdentity;var n=this.m,o=e.m;return n[0]===o[0]&&n[1]===o[1]&&n[2]===o[2]&&n[3]===o[3]&&n[4]===o[4]&&n[5]===o[5]&&n[6]===o[6]&&n[7]===o[7]&&n[8]===o[8]&&n[9]===o[9]&&n[10]===o[10]&&n[11]===o[11]&&n[12]===o[12]&&n[13]===o[13]&&n[14]===o[14]&&n[15]===o[15]},t.prototype.clone=function(){var e=new t;return e.copyFrom(this),e},t.prototype.getClassName=function(){return\"Matrix\"},t.prototype.getHashCode=function(){for(var t=this._m[0]||0,e=1;e<16;e++)t=397*t^(this._m[e]||0);return t},t.prototype.decompose=function(e,n,o){if(this._isIdentity)return o&&o.setAll(0),e&&e.setAll(1),n&&n.copyFromFloats(0,0,0,1),!0;var i=this._m;o&&o.copyFromFloats(i[12],i[13],i[14]);var r=e||St.Vector3[0];if(r.x=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]),r.y=Math.sqrt(i[4]*i[4]+i[5]*i[5]+i[6]*i[6]),r.z=Math.sqrt(i[8]*i[8]+i[9]*i[9]+i[10]*i[10]),this.determinant()<=0&&(r.y*=-1),0===r.x||0===r.y||0===r.z)return n&&n.copyFromFloats(0,0,0,1),!1;if(n){var s=1/r.x,a=1/r.y,u=1/r.z;t.FromValuesToRef(i[0]*s,i[1]*s,i[2]*s,0,i[4]*a,i[5]*a,i[6]*a,0,i[8]*u,i[9]*u,i[10]*u,0,0,0,0,1,St.Matrix[0]),At.FromRotationMatrixToRef(St.Matrix[0],n)}return!0},t.prototype.getRow=function(t){if(t<0||t>3)return null;var e=4*t;return new Rt(this._m[e+0],this._m[e+1],this._m[e+2],this._m[e+3])},t.prototype.setRow=function(t,e){return this.setRowFromFloats(t,e.x,e.y,e.z,e.w)},t.prototype.transpose=function(){return t.Transpose(this)},t.prototype.transposeToRef=function(e){return t.TransposeToRef(this,e),this},t.prototype.setRowFromFloats=function(t,e,n,o,i){if(t<0||t>3)return this;var r=4*t;return this._m[r+0]=e,this._m[r+1]=n,this._m[r+2]=o,this._m[r+3]=i,this._markAsUpdated(),this},t.prototype.scale=function(e){var n=new t;return this.scaleToRef(e,n),n},t.prototype.scaleToRef=function(t,e){for(var n=0;n<16;n++)e._m[n]=this._m[n]*t;return e._markAsUpdated(),this},t.prototype.scaleAndAddToRef=function(t,e){for(var n=0;n<16;n++)e._m[n]+=this._m[n]*t;return e._markAsUpdated(),this},t.prototype.toNormalMatrix=function(e){var n=St.Matrix[0];this.invertToRef(n),n.transposeToRef(e);var o=e._m;t.FromValuesToRef(o[0],o[1],o[2],0,o[4],o[5],o[6],0,o[8],o[9],o[10],0,0,0,0,1,e)},t.prototype.getRotationMatrix=function(){var e=new t;return this.getRotationMatrixToRef(e),e},t.prototype.getRotationMatrixToRef=function(e){var n=St.Vector3[0];if(!this.decompose(n))return t.IdentityToRef(e),this;var o=this._m,i=1/n.x,r=1/n.y,s=1/n.z;return t.FromValuesToRef(o[0]*i,o[1]*i,o[2]*i,0,o[4]*r,o[5]*r,o[6]*r,0,o[8]*s,o[9]*s,o[10]*s,0,0,0,0,1,e),this},t.prototype.toggleModelMatrixHandInPlace=function(){var t=this._m;t[2]*=-1,t[6]*=-1,t[8]*=-1,t[9]*=-1,t[14]*=-1,this._markAsUpdated()},t.prototype.toggleProjectionMatrixHandInPlace=function(){var t=this._m;t[8]*=-1,t[9]*=-1,t[10]*=-1,t[11]*=-1,this._markAsUpdated()},t.prototype._updateIdentityStatus=function(e,n,o,i){void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===i&&(i=!0),this.updateFlag=t._updateFlagSeed++,this._isIdentity=e,this._isIdentity3x2=e||o,this._isIdentityDirty=!this._isIdentity&&n,this._isIdentity3x2Dirty=!this._isIdentity3x2&&i},t._updateFlagSeed=0,t._identityReadOnly=t.Identity(),t}(),At=function(){function t(t,e,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=1),this.x=t,this.y=e,this.z=n,this.w=o}return t.FromRotationMatrix=function(e){var n=new t;return t.FromRotationMatrixToRef(e,n),n},t.FromRotationMatrixToRef=function(t,e){var n,o=t.m,i=o[0],r=o[4],s=o[8],a=o[1],u=o[5],p=o[9],h=o[2],c=o[6],d=o[10],l=i+u+d;l>0?(n=.5/Math.sqrt(l+1),e.w=.25/n,e.x=(c-p)*n,e.y=(s-h)*n,e.z=(a-r)*n):i>u&&i>d?(n=2*Math.sqrt(1+i-u-d),e.w=(c-p)/n,e.x=.25*n,e.y=(r+a)/n,e.z=(s+h)/n):u>d?(n=2*Math.sqrt(1+u-i-d),e.w=(s-h)/n,e.x=(r+a)/n,e.y=.25*n,e.z=(p+c)/n):(n=2*Math.sqrt(1+d-i-u),e.w=(a-r)/n,e.x=(s+h)/n,e.y=(p+c)/n,e.z=.25*n)},t.Dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w},t.AreClose=function(e,n){return t.Dot(e,n)>=0},t.Zero=function(){return new t(0,0,0,0)},t.Inverse=function(e){return new t(-e.x,-e.y,-e.z,e.w)},t.IsIdentity=function(t){return t&&0===t.x&&0===t.y&&0===t.z&&1===t.w},t.RotationAxis=function(e,n){var o=n*xt;return t.RotationAxisToRef(e,o,new t)},t.RotationAxisToRef=function(t,e,n){var o=e*xt,i=Math.sin(o/2);return t.normalize(),n.w=Math.cos(o/2),n.x=t.x*i,n.y=t.y*i,n.z=t.z*i,n},t.FromArray=function(e,n){return void 0===n&&(n=0),new t(e[n],e[n+1],e[n+2],e[n+3])},t.FromEulerAnglesRef=function(e,n,o,i){return t.RotationYawPitchRollToRef(n*xt,e*xt,o*xt,i)},t.RotationYawPitchRoll=function(e,n,o){var i=new t;return t.RotationYawPitchRollToRef(e,n,o,i),i},t.RotationYawPitchRollToRef=function(t,e,n,o){var i=.5*e,r=.5*t,s=.5*n,a=Math.cos(i),u=Math.cos(r),p=Math.cos(s),h=Math.sin(i),c=Math.sin(r),d=Math.sin(s);o.x=u*h*p+c*a*d,o.y=c*a*p-u*h*d,o.z=u*a*d-c*h*p,o.w=u*a*p+c*h*d},t.RotationAlphaBetaGamma=function(e,n,o){var i=new t;return t.RotationAlphaBetaGammaToRef(e,n,o,i),i},t.RotationAlphaBetaGammaToRef=function(t,e,n,o){var i=.5*(n+t),r=.5*(n-t),s=.5*e;o.x=Math.cos(r)*Math.sin(s),o.y=Math.sin(r)*Math.sin(s),o.z=Math.sin(i)*Math.cos(s),o.w=Math.cos(i)*Math.cos(s)},t.RotationQuaternionFromAxis=function(e,n,o){var i=new t(0,0,0,0);return t.RotationQuaternionFromAxisToRef(e,n,o,i),i},t.RotationQuaternionFromAxisToRef=function(e,n,o,i){var r=St.Matrix[0];bt.FromXYZAxesToRef(e.normalize(),n.normalize(),o.normalize(),r),t.FromRotationMatrixToRef(r,i)},t.Slerp=function(e,n,o){var i=t.Identity;return t.SlerpToRef(e,n,o,i),i},t.SlerpToRef=function(t,e,n,o){var i,r,s=t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w,a=!1;if(s<0&&(a=!0,s=-s),s>.999999)r=1-n,i=a?-n:n;else{var u=Math.acos(s),p=1/Math.sin(u);r=Math.sin((1-n)*u)*p,i=a?-Math.sin(n*u)*p:Math.sin(n*u)*p}o.x=r*t.x+i*e.x,o.y=r*t.y+i*e.y,o.z=r*t.z+i*e.z,o.w=r*t.w+i*e.w},t.Hermite=function(e,n,o,i,r){var s=r*r,a=r*s,u=2*a-3*s+1,p=-2*a+3*s,h=a-2*s+r,c=a-s;return new t(e.x*u+o.x*p+n.x*h+i.x*c,e.y*u+o.y*p+n.y*h+i.y*c,e.z*u+o.z*p+n.z*h+i.z*c,e.w*u+o.w*p+n.w*h+i.w*c)},Object.defineProperty(t,\"Identity\",{get:function(){return new t(0,0,0,1)},enumerable:!1,configurable:!0}),t.Angle=function(e,n){var o=t.Dot(e,n);return 2*Math.acos(Math.min(Math.abs(o),1))*wt},t.Euler=function(e,n,o){return t.RotationYawPitchRoll(n*xt,e*xt,o*xt)},t.LookRotation=function(e,n){void 0===n&&(n=St.staticUp);var o=Et.Normalize(e),i=Et.Normalize(Et.Cross(n,o)),r=Et.Cross(o,i),s=i.x,a=i.y,u=i.z,p=r.x,h=r.y,c=r.z,d=o.x,l=o.y,f=o.z,y=s+h+f,v=new t;if(y>0){var m=Math.sqrt(y+1);return v.w=.5*m,m=.5/m,v.x=(c-l)*m,v.y=(d-u)*m,v.z=(a-p)*m,v}if(s>=h&&s>=f){var g=Math.sqrt(1+s-h-f),_=.5/g;return v.x=.5*g,v.y=(a+p)*_,v.z=(u+d)*_,v.w=(c-l)*_,v}if(h>f){var x=Math.sqrt(1+h-s-f),w=.5/x;return v.x=(p+a)*w,v.y=.5*x,v.z=(l+c)*w,v.w=(d-u)*w,v}var T=Math.sqrt(1+f-s-h),R=.5/T;return v.x=(d+u)*R,v.y=(l+c)*R,v.z=.5*T,v.w=(a-p)*R,v},t.RotateTowards=function(e,n,o){var i=t.Angle(e,n);if(0===i)return n;var r=Math.min(1,o/i);return t.Slerp(e,n,r)},t.FromToRotation=function(e,n,o){void 0===o&&(o=St.staticUp);var i=e.normalize(),r=n.normalize(),s=Et.Cross(i,r),a=Math.sqrt(i.lengthSquared()*r.lengthSquared())+Et.Dot(i,r);return s.lengthSquared()<1e-4?Math.abs(a)<1e-4?new t(o.x,o.y,o.z,0).normalized:t.Identity:new t(s.x,s.y,s.z,a).normalized},Object.defineProperty(t.prototype,\"normalized\",{get:function(){return this.normalize()},enumerable:!1,configurable:!0}),t.prototype.setFromToRotation=function(e,n,o){void 0===o&&(o=St.staticUp);var i=t.FromToRotation(e,n,o);this.x=i.x,this.y=i.y,this.z=i.z,this.w=i.w},Object.defineProperty(t.prototype,\"eulerAngles\",{get:function(){var t=new Et,e=this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w,n=this.x*this.w-this.y*this.z;return n>.4995*e?(t.x=Math.PI/2,t.y=2*Math.atan2(this.y,this.x),t.z=0):n<-.4995*e?(t.x=-Math.PI/2,t.y=-2*Math.atan2(this.y,this.x),t.z=0):(t.x=Math.asin(2*(this.w*this.x-this.y*this.z)),t.y=Math.atan2(2*this.w*this.y+2*this.z*this.x,1-2*(this.x*this.x+this.y*this.y)),t.z=Math.atan2(2*this.w*this.z+2*this.x*this.y,1-2*(this.z*this.z+this.x*this.x))),t.x*=wt,t.y*=wt,t.z*=wt,t.x=Tt.Repeat(t.x,360),t.y=Tt.Repeat(t.y,360),t.z=Tt.Repeat(t.z,360),t},set:function(t){this.setEuler(t.x,t.y,t.z)},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return\"(\"+this.x+\", \"+this.y+\", \"+this.z+\", \"+this.w+\")\"},Object.defineProperty(t.prototype,\"length\",{get:function(){return Math.sqrt(this.lengthSquared)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"lengthSquared\",{get:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},enumerable:!1,configurable:!0}),t.prototype.getClassName=function(){return\"Quaternion\"},t.prototype.getHashCode=function(){var t=this.x||0;return t=397*(t=397*(t=397*t^(this.y||0))^(this.z||0))^(this.w||0)},t.prototype.asArray=function(){return[this.x,this.y,this.z,this.w]},t.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.w)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},t.prototype.copyFromFloats=function(t,e,n,o){return this.x=t,this.y=e,this.z=n,this.w=o,this},t.prototype.set=function(t,e,n,o){return this.copyFromFloats(t,e,n,o)},t.prototype.setEuler=function(e,n,o){return t.RotationYawPitchRollToRef(n*xt,e*xt,o*xt,this),this},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y,this.z+e.z,this.w+e.w)},t.prototype.addInPlace=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this},t.prototype.subtract=function(e){return new t(this.x-e.x,this.y-e.y,this.z-e.z,this.w-e.w)},t.prototype.scale=function(e){return new t(this.x*e,this.y*e,this.z*e,this.w*e)},t.prototype.scaleToRef=function(t,e){return e.x=this.x*t,e.y=this.y*t,e.z=this.z*t,e.w=this.w*t,this},t.prototype.scaleInPlace=function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},t.prototype.scaleAndAddToRef=function(t,e){return e.x+=this.x*t,e.y+=this.y*t,e.z+=this.z*t,e.w+=this.w*t,this},t.prototype.multiply=function(e){var n=new t(0,0,0,1);return this.multiplyToRef(e,n),n},t.prototype.multiplyToRef=function(t,e){var n=this.x*t.w+this.y*t.z-this.z*t.y+this.w*t.x,o=-this.x*t.z+this.y*t.w+this.z*t.x+this.w*t.y,i=this.x*t.y-this.y*t.x+this.z*t.w+this.w*t.z,r=-this.x*t.x-this.y*t.y-this.z*t.z+this.w*t.w;return e.copyFromFloats(n,o,i,r),this},t.prototype.multiplyInPlace=function(t){return this.multiplyToRef(t,this),this},t.prototype.conjugateToRef=function(t){return t.copyFromFloats(-this.x,-this.y,-this.z,this.w),this},t.prototype.conjugateInPlace=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},t.prototype.conjugate=function(){return new t(-this.x,-this.y,-this.z,this.w)},t.prototype.normalize=function(){var t=1/this.length;return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},t.prototype.angleAxis=function(e,n){if(0===n.lengthSquared())return t.Identity;var o=t.Identity,i=e*xt;i*=.5;var r=n.normalize();return r=n.scaleInPlace(Math.sin(i)),o.x=r.x,o.y=r.y,o.z=r.z,o.w=Math.cos(i),o.normalize()},t.prototype.toRotationMatrix=function(t){return bt.FromQuaternionToRef(this,t),this},t.prototype.fromRotationMatrix=function(e){return t.FromRotationMatrixToRef(e,this),this},t}(),Et=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=t,this.y=e,this.z=n}return Object.defineProperty(t.prototype,\"isNonUniform\",{get:function(){var t=Math.abs(this.x),e=Math.abs(this.y);if(t!==e)return!0;var n=Math.abs(this.z);return t!==n||e!==n},enumerable:!1,configurable:!0}),t.Add=function(e,n){return new t(e.x,e.y,e.z).addInPlace(n)},t.GetClipFactor=function(e,n,o,i){var r=t.Dot(e,o)-i;return r/(r-(t.Dot(n,o)-i))},t.GetAngleBetweenVectors=function(e,n,o){var i=e.normalizeToRef(St.Vector3[1]),r=n.normalizeToRef(St.Vector3[2]),s=t.Dot(i,r),a=St.Vector3[3];return t.CrossToRef(i,r,a),t.Dot(a,o)>0?Math.acos(s):-Math.acos(s)},t.FromArray=function(e,n){return void 0===n&&(n=0),new t(e[n],e[n+1],e[n+2])},t.FromFloatArray=function(e,n){return t.FromArray(e,n)},t.FromArrayToRef=function(t,e,n){n.x=t[e],n.y=t[e+1],n.z=t[e+2]},t.FromFloatArrayToRef=function(e,n,o){return t.FromArrayToRef(e,n,o)},t.FromFloatsToRef=function(t,e,n,o){o.copyFromFloats(t,e,n)},t.Zero=function(){return new t(0,0,0)},t.One=function(){return new t(1,1,1)},t.Up=function(){return new t(0,1,0)},t.Down=function(){return new t(0,-1,0)},t.Forward=function(){return new t(0,0,1)},t.Backward=function(){return new t(0,0,-1)},t.Right=function(){return new t(1,0,0)},t.Left=function(){return new t(-1,0,0)},t.TransformCoordinates=function(e,n){var o=t.Zero();return t.TransformCoordinatesToRef(e,n,o),o},t.TransformCoordinatesToRef=function(e,n,o){return t.TransformCoordinatesFromFloatsToRef(e.x,e.y,e.z,n,o)},t.TransformCoordinatesFromFloatsToRef=function(t,e,n,o,i){var r=o.m,s=t*r[0]+e*r[4]+n*r[8]+r[12],a=t*r[1]+e*r[5]+n*r[9]+r[13],u=t*r[2]+e*r[6]+n*r[10]+r[14],p=1/(t*r[3]+e*r[7]+n*r[11]+r[15]);i.x=s*p,i.y=a*p,i.z=u*p},t.TransformNormal=function(e,n){var o=t.Zero();return t.TransformNormalToRef(e,n,o),o},t.TransformNormalToRef=function(t,e,n){this.TransformNormalFromFloatsToRef(t.x,t.y,t.z,e,n)},t.TransformNormalFromFloatsToRef=function(t,e,n,o,i){var r=o.m;i.x=t*r[0]+e*r[4]+n*r[8],i.y=t*r[1]+e*r[5]+n*r[9],i.z=t*r[2]+e*r[6]+n*r[10]},t.CatmullRom=function(e,n,o,i,r){var s=r*r,a=r*s;return new t(.5*(2*n.x+(-e.x+o.x)*r+(2*e.x-5*n.x+4*o.x-i.x)*s+(-e.x+3*n.x-3*o.x+i.x)*a),.5*(2*n.y+(-e.y+o.y)*r+(2*e.y-5*n.y+4*o.y-i.y)*s+(-e.y+3*n.y-3*o.y+i.y)*a),.5*(2*n.z+(-e.z+o.z)*r+(2*e.z-5*n.z+4*o.z-i.z)*s+(-e.z+3*n.z-3*o.z+i.z)*a))},t.Clamp=function(e,n,o){var i=new t;return t.ClampToRef(e,n,o,i),i},t.ClampToRef=function(t,e,n,o){var i=t.x;i=(i=i>n.x?n.x:i)<e.x?e.x:i;var r=t.y;r=(r=r>n.y?n.y:r)<e.y?e.y:r;var s=t.z;s=(s=s>n.z?n.z:s)<e.z?e.z:s,o.copyFromFloats(i,r,s)},t.Hermite=function(e,n,o,i,r){var s=r*r,a=r*s,u=2*a-3*s+1,p=-2*a+3*s,h=a-2*s+r,c=a-s;return new t(e.x*u+o.x*p+n.x*h+i.x*c,e.y*u+o.y*p+n.y*h+i.y*c,e.z*u+o.z*p+n.z*h+i.z*c)},t.Lerp=function(e,n,o){var i=new t(0,0,0);return t.LerpToRef(e,n,o,i),i},t.LerpToRef=function(t,e,n,o){o.x=t.x+(e.x-t.x)*n,o.y=t.y+(e.y-t.y)*n,o.z=t.z+(e.z-t.z)*n},t.Dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},t.Cross=function(e,n){var o=t.Zero();return t.CrossToRef(e,n,o),o},t.CrossToRef=function(t,e,n){var o=t.y*e.z-t.z*e.y,i=t.z*e.x-t.x*e.z,r=t.x*e.y-t.y*e.x;n.copyFromFloats(o,i,r)},t.Normalize=function(e){var n=t.Zero();return t.NormalizeToRef(e,n),n},t.NormalizeToRef=function(t,e){t.normalizeToRef(e)},t.Minimize=function(e,n){var o=new t(e.x,e.y,e.z);return o.minimizeInPlace(n),o},t.Maximize=function(e,n){var o=new t(e.x,e.y,e.z);return o.maximizeInPlace(n),o},t.Distance=function(e,n){return Math.sqrt(t.DistanceSquared(e,n))},t.DistanceSquared=function(t,e){var n=t.x-e.x,o=t.y-e.y,i=t.z-e.z;return n*n+o*o+i*i},t.Center=function(e,n){var o=t.Add(e,n);return o.scaleInPlace(.5),o},t.RotationFromAxis=function(e,n,o){var i=t.Zero();return t.RotationFromAxisToRef(e,n,o,i),i},t.RotationFromAxisToRef=function(t,e,n,o){var i=St.Quaternion[0];At.RotationQuaternionFromAxisToRef(t,e,n,i),o.copyFrom(i.eulerAngles)},t.prototype.toString=function(){return\"(\"+this.x+\", \"+this.y+\", \"+this.z+\")\"},t.prototype.getClassName=function(){return\"Vector3\"},t.prototype.getHashCode=function(){var t=this.x||0;return t=397*(t=397*t^(this.y||0))^(this.z||0)},t.prototype.asArray=function(){var t=[];return this.toArray(t,0),t},t.prototype.toArray=function(t,e){return void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,this},t.prototype.toQuaternion=function(){return At.Identity.setEuler(this.y,this.x,this.z)},t.prototype.addInPlace=function(t){return this.addInPlaceFromFloats(t.x,t.y,t.z)},t.prototype.addInPlaceFromFloats=function(t,e,n){return this.x+=t,this.y+=e,this.z+=n,this},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y,this.z+e.z)},t.prototype.addToRef=function(t,e){return e.copyFromFloats(this.x+t.x,this.y+t.y,this.z+t.z)},t.prototype.subtractInPlace=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},t.prototype.subtract=function(e){return new t(this.x-e.x,this.y-e.y,this.z-e.z)},t.prototype.subtractToRef=function(t,e){return this.subtractFromFloatsToRef(t.x,t.y,t.z,e)},t.prototype.subtractFromFloats=function(e,n,o){return new t(this.x-e,this.y-n,this.z-o)},t.prototype.subtractFromFloatsToRef=function(t,e,n,o){return o.copyFromFloats(this.x-t,this.y-e,this.z-n)},t.prototype.applyMatrix4=function(t){this.applyMatrix4ToRef(t,this)},t.prototype.applyMatrix4ToRef=function(t,e){var n=this,o=n.x,i=n.y,r=n.z,s=t.m,a=1/(s[3]*o+s[7]*i+s[11]*r+s[15]);return e.x=(s[0]*o+s[4]*i+s[8]*r+s[12])*a,e.y=(s[1]*o+s[5]*i+s[9]*r+s[13])*a,e.z=(s[2]*o+s[6]*i+s[10]*r+s[14])*a,e},t.prototype.rotate=function(t){return this.rotateToRef(t,this)},t.prototype.rotateToRef=function(t,e){var n=this,o=n.x,i=n.y,r=n.z,s=t.x,a=t.y,u=t.z,p=t.w,h=p*o+a*r-u*i,c=p*i+u*o-s*r,d=p*r+s*i-a*o,l=-s*o-a*i-u*r;return e.x=h*p+l*-s+c*-u-d*-a,e.y=c*p+l*-a+d*-s-h*-u,e.z=d*p+l*-u+h*-a-c*-s,e},t.prototype.negate=function(){return new t(-this.x,-this.y,-this.z)},t.prototype.scaleInPlace=function(t){return this.x*=t,this.y*=t,this.z*=t,this},t.prototype.scale=function(e){return new t(this.x*e,this.y*e,this.z*e)},t.prototype.scaleToRef=function(t,e){return e.copyFromFloats(this.x*t,this.y*t,this.z*t)},t.prototype.scaleAndAddToRef=function(t,e){return e.addInPlaceFromFloats(this.x*t,this.y*t,this.z*t)},t.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y&&this.z===t.z},t.prototype.equalsWithEpsilon=function(t,e){return void 0===e&&(e=_t),t&&Tt.WithinEpsilon(this.x,t.x,e)&&Tt.WithinEpsilon(this.y,t.y,e)&&Tt.WithinEpsilon(this.z,t.z,e)},t.prototype.equalsToFloats=function(t,e,n){return this.x===t&&this.y===e&&this.z===n},t.prototype.multiplyInPlace=function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this},t.prototype.multiply=function(t){return this.multiplyByFloats(t.x,t.y,t.z)},t.prototype.multiplyToRef=function(t,e){return e.copyFromFloats(this.x*t.x,this.y*t.y,this.z*t.z)},t.prototype.multiplyByFloats=function(e,n,o){return new t(this.x*e,this.y*n,this.z*o)},t.prototype.divide=function(e){return new t(this.x/e.x,this.y/e.y,this.z/e.z)},t.prototype.divideToRef=function(t,e){return e.copyFromFloats(this.x/t.x,this.y/t.y,this.z/t.z)},t.prototype.divideInPlace=function(t){return this.divideToRef(t,this)},t.prototype.minimizeInPlace=function(t){return this.minimizeInPlaceFromFloats(t.x,t.y,t.z)},t.prototype.maximizeInPlace=function(t){return this.maximizeInPlaceFromFloats(t.x,t.y,t.z)},t.prototype.minimizeInPlaceFromFloats=function(t,e,n){return t<this.x&&(this.x=t),e<this.y&&(this.y=e),n<this.z&&(this.z=n),this},t.prototype.maximizeInPlaceFromFloats=function(t,e,n){return t>this.x&&(this.x=t),e>this.y&&(this.y=e),n>this.z&&(this.z=n),this},t.prototype.floor=function(){return new t(Math.floor(this.x),Math.floor(this.y),Math.floor(this.z))},t.prototype.fract=function(){return new t(this.x-Math.floor(this.x),this.y-Math.floor(this.y),this.z-Math.floor(this.z))},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z},t.prototype.normalize=function(){return this.normalizeFromLength(this.length())},t.prototype.normalizeFromLength=function(t){return 0===t||1===t?this:this.scaleInPlace(1/t)},t.prototype.normalizeToNew=function(){var e=new t(0,0,0);return this.normalizeToRef(e),e},t.prototype.normalizeToRef=function(t){var e=this.length();return 0===e||1===e?t.copyFromFloats(this.x,this.y,this.z):this.scaleToRef(1/e,t)},t.prototype.clone=function(){return new t(this.x,this.y,this.z)},t.prototype.copyFrom=function(t){return this.copyFromFloats(t.x,t.y,t.z)},t.prototype.copyFromFloats=function(t,e,n){return this.x=t,this.y=e,this.z=n,this},t.prototype.set=function(t,e,n){return this.copyFromFloats(t,e,n)},t.prototype.setAll=function(t){return this.x=this.y=this.z=t,this},t}(),St={Vector3:v(6,Et.Zero),Matrix:v(2,bt.Identity),Quaternion:v(3,At.Zero),staticUp:Et.Up(),tmpMatrix:bt.Zero()},Ct=function(){function t(t){this._radians=t,this._radians<0&&(this._radians+=2*Math.PI)}return t.BetweenTwoPoints=function(e,n){var o=n.subtract(e);return new t(Math.atan2(o.y,o.x))},t.FromRadians=function(e){return new t(e)},t.FromDegrees=function(e){return new t(e*Math.PI/180)},t.prototype.degrees=function(){return 180*this._radians/Math.PI},t.prototype.radians=function(){return this._radians},t}(),It=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.Zero=function(){return new t(0,0)},t.One=function(){return new t(1,1)},t.Add=function(e,n){return new t(e.x,e.y).addInPlace(n)},t.FromArray=function(e,n){return void 0===n&&(n=0),new t(e[n],e[n+1])},t.FromArrayToRef=function(t,e,n){n.x=t[e],n.y=t[e+1]},t.CatmullRom=function(e,n,o,i,r){var s=r*r,a=r*s;return new t(.5*(2*n.x+(-e.x+o.x)*r+(2*e.x-5*n.x+4*o.x-i.x)*s+(-e.x+3*n.x-3*o.x+i.x)*a),.5*(2*n.y+(-e.y+o.y)*r+(2*e.y-5*n.y+4*o.y-i.y)*s+(-e.y+3*n.y-3*o.y+i.y)*a))},t.Clamp=function(e,n,o){var i=e.x;i=(i=i>o.x?o.x:i)<n.x?n.x:i;var r=e.y;return new t(i,r=(r=r>o.y?o.y:r)<n.y?n.y:r)},t.Hermite=function(e,n,o,i,r){var s=r*r,a=r*s,u=2*a-3*s+1,p=-2*a+3*s,h=a-2*s+r,c=a-s;return new t(e.x*u+o.x*p+n.x*h+i.x*c,e.y*u+o.y*p+n.y*h+i.y*c)},t.Lerp=function(e,n,o){return new t(e.x+(n.x-e.x)*o,e.y+(n.y-e.y)*o)},t.Dot=function(t,e){return t.x*e.x+t.y*e.y},t.Normalize=function(e){var n=new t(e.x,e.y);return n.normalize(),n},t.Minimize=function(e,n){return new t(e.x<n.x?e.x:n.x,e.y<n.y?e.y:n.y)},t.Maximize=function(e,n){return new t(e.x>n.x?e.x:n.x,e.y>n.y?e.y:n.y)},t.Transform=function(e,n){var o=t.Zero();return t.TransformToRef(e,n,o),o},t.TransformToRef=function(t,e,n){var o=e.m,i=t.x*o[0]+t.y*o[4]+o[12],r=t.x*o[1]+t.y*o[5]+o[13];n.x=i,n.y=r},t.PointInTriangle=function(t,e,n,o){var i=.5*(-n.y*o.x+e.y*(-n.x+o.x)+e.x*(n.y-o.y)+n.x*o.y),r=i<0?-1:1,s=(e.y*o.x-e.x*o.y+(o.y-e.y)*t.x+(e.x-o.x)*t.y)*r,a=(e.x*n.y-e.y*n.x+(e.y-n.y)*t.x+(n.x-e.x)*t.y)*r;return s>0&&a>0&&s+a<2*i*r},t.Distance=function(e,n){return Math.sqrt(t.DistanceSquared(e,n))},t.DistanceSquared=function(t,e){var n=t.x-e.x,o=t.y-e.y;return n*n+o*o},t.Center=function(e,n){var o=t.Add(e,n);return o.scaleInPlace(.5),o},t.DistanceOfPointFromSegment=function(e,n,o){var i=t.DistanceSquared(n,o);if(0===i)return t.Distance(e,n);var r=o.subtract(n),s=Math.max(0,Math.min(1,t.Dot(e.subtract(n),r)/i)),a=n.add(r.multiplyByFloats(s,s));return t.Distance(e,a)},t.prototype.toString=function(){return\"{X: \"+this.x+\" Y:\"+this.y+\"}\"},t.prototype.getClassName=function(){return\"Vector2\"},t.prototype.getHashCode=function(){var t=this.x||0;return t=397*t^(this.y||0)},t.prototype.toArray=function(t,e){return void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,this},t.prototype.asArray=function(){var t=new Array;return this.toArray(t,0),t},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.copyFromFloats=function(t,e){return this.x=t,this.y=e,this},t.prototype.set=function(t,e){return this.copyFromFloats(t,e)},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.addToRef=function(t,e){return e.x=this.x+t.x,e.y=this.y+t.y,this},t.prototype.addInPlace=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.addVector3=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.subtract=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.subtractToRef=function(t,e){return e.x=this.x-t.x,e.y=this.y-t.y,this},t.prototype.subtractInPlace=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.multiplyInPlace=function(t){return this.x*=t.x,this.y*=t.y,this},t.prototype.multiply=function(e){return new t(this.x*e.x,this.y*e.y)},t.prototype.multiplyToRef=function(t,e){return e.x=this.x*t.x,e.y=this.y*t.y,this},t.prototype.multiplyByFloats=function(e,n){return new t(this.x*e,this.y*n)},t.prototype.divide=function(e){return new t(this.x/e.x,this.y/e.y)},t.prototype.divideToRef=function(t,e){return e.x=this.x/t.x,e.y=this.y/t.y,this},t.prototype.divideInPlace=function(t){return this.divideToRef(t,this)},t.prototype.negate=function(){return new t(-this.x,-this.y)},t.prototype.scaleInPlace=function(t){return this.x*=t,this.y*=t,this},t.prototype.scale=function(e){var n=new t(0,0);return this.scaleToRef(e,n),n},t.prototype.scaleToRef=function(t,e){return e.x=this.x*t,e.y=this.y*t,this},t.prototype.scaleAndAddToRef=function(t,e){return e.x+=this.x*t,e.y+=this.y*t,this},t.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y},t.prototype.equalsWithEpsilon=function(t,e){return void 0===e&&(e=_t),t&&Tt.WithinEpsilon(this.x,t.x,e)&&Tt.WithinEpsilon(this.y,t.y,e)},t.prototype.floor=function(){return new t(Math.floor(this.x),Math.floor(this.y))},t.prototype.fract=function(){return new t(this.x-Math.floor(this.x),this.y-Math.floor(this.y))},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lengthSquared=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.length();if(0===t)return this;var e=1/t;return this.x*=e,this.y*=e,this},t.prototype.clone=function(){return new t(this.x,this.y)},t}(),zt=function(e,n,o){this.startPoint=e,this.midPoint=n,this.endPoint=o;var i=Math.pow(n.x,2)+Math.pow(n.y,2),r=(Math.pow(e.x,2)+Math.pow(e.y,2)-i)/2,s=(i-Math.pow(o.x,2)-Math.pow(o.y,2))/2,a=(e.x-n.x)*(n.y-o.y)-(n.x-o.x)*(e.y-n.y);this.centerPoint=new It((r*(n.y-o.y)-s*(e.y-n.y))/a,((e.x-n.x)*s-(n.x-o.x)*r)/a),this.radius=this.centerPoint.subtract(this.startPoint).length(),this.startAngle=Ct.BetweenTwoPoints(this.centerPoint,this.startPoint);var u=this.startAngle.degrees(),p=Ct.BetweenTwoPoints(this.centerPoint,this.midPoint).degrees(),h=Ct.BetweenTwoPoints(this.centerPoint,this.endPoint).degrees();p-u>180&&(p-=360),p-u<-180&&(p+=360),h-p>180&&(h-=360),h-p<-180&&(h+=360),this.orientation=p-u<0?t.Orientation.CW:t.Orientation.CCW,this.angle=Ct.FromDegrees(this.orientation===t.Orientation.CW?u-h:h-u)},Pt=function(){function t(){}return t.X=new Et(1,0,0),t.Y=new Et(0,1,0),t.Z=new Et(0,0,1),t}(),Ot=function(){function t(){}return t.Interpolate=function(t,e,n,o,i){for(var r=1-3*o+3*e,s=3*o-6*e,a=3*e,u=t,p=0;p<5;p++){var h=u*u;u-=(r*(h*u)+s*h+a*u-t)*(1/(3*r*h+2*s*u+a)),u=Math.min(1,Math.max(0,u))}return 3*Math.pow(1-u,2)*u*n+3*(1-u)*Math.pow(u,2)*i+Math.pow(u,3)},t}(),Mt=function(){function t(t,e,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=1),this.r=t,this.g=e,this.b=n,this.a=o}return t.FromHexString=function(e){if(\"#\"!==e.substring(0,1)||9!==e.length)return new t(0,0,0,0);var n=parseInt(e.substring(1,3),16),o=parseInt(e.substring(3,5),16),i=parseInt(e.substring(5,7),16),r=parseInt(e.substring(7,9),16);return t.FromInts(n,o,i,r)},t.Lerp=function(e,n,o){var i=new t(0,0,0,0);return t.LerpToRef(e,n,o,i),i},t.LerpToRef=function(t,e,n,o){o.r=t.r+(e.r-t.r)*n,o.g=t.g+(e.g-t.g)*n,o.b=t.b+(e.b-t.b)*n,o.a=t.a+(e.a-t.a)*n},t.Red=function(){return new t(1,0,0,1)},t.Green=function(){return new t(0,1,0,1)},t.Blue=function(){return new t(0,0,1,1)},t.Black=function(){return new t(0,0,0,1)},t.White=function(){return new t(1,1,1,1)},t.Purple=function(){return new t(.5,0,.5,1)},t.Magenta=function(){return new t(1,0,1,1)},t.Yellow=function(){return new t(1,1,0,1)},t.Gray=function(){return new t(.5,.5,.5,1)},t.Teal=function(){return new t(0,1,1,1)},t.Clear=function(){return new t(0,0,0,0)},t.FromColor3=function(e,n){return void 0===n&&(n=1),new t(e.r,e.g,e.b,n)},t.FromArray=function(e,n){return void 0===n&&(n=0),new t(e[n],e[n+1],e[n+2],e[n+3])},t.FromInts=function(e,n,o,i){return new t(e/255,n/255,o/255,i/255)},t.CheckColors4=function(t,e){if(t.length===3*e){for(var n=[],o=0;o<t.length;o+=3){var i=o/3*4;n[i]=t[o],n[i+1]=t[o+1],n[i+2]=t[o+2],n[i+3]=1}return n}return t},t.prototype.addInPlace=function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this.a+=t.a,this},t.prototype.asArray=function(){var t=new Array;return this.toArray(t,0),t},t.prototype.toArray=function(t,e){return void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t[e+3]=this.a,this},t.prototype.add=function(e){return new t(this.r+e.r,this.g+e.g,this.b+e.b,this.a+e.a)},t.prototype.subtract=function(e){return new t(this.r-e.r,this.g-e.g,this.b-e.b,this.a-e.a)},t.prototype.subtractToRef=function(t,e){return e.r=this.r-t.r,e.g=this.g-t.g,e.b=this.b-t.b,e.a=this.a-t.a,this},t.prototype.scale=function(e){return new t(this.r*e,this.g*e,this.b*e,this.a*e)},t.prototype.scaleToRef=function(t,e){return e.r=this.r*t,e.g=this.g*t,e.b=this.b*t,e.a=this.a*t,this},t.prototype.scaleAndAddToRef=function(t,e){return e.r+=this.r*t,e.g+=this.g*t,e.b+=this.b*t,e.a+=this.a*t,this},t.prototype.clampToRef=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=1),n.r=Tt.Clamp(this.r,t,e),n.g=Tt.Clamp(this.g,t,e),n.b=Tt.Clamp(this.b,t,e),n.a=Tt.Clamp(this.a,t,e),this},t.prototype.multiply=function(e){return new t(this.r*e.r,this.g*e.g,this.b*e.b,this.a*e.a)},t.prototype.multiplyToRef=function(t,e){return e.r=this.r*t.r,e.g=this.g*t.g,e.b=this.b*t.b,e.a=this.a*t.a,e},t.prototype.toString=function(){return\"{R: \"+this.r+\" G:\"+this.g+\" B:\"+this.b+\" A:\"+this.a+\"}\"},t.prototype.getClassName=function(){return\"Color4\"},t.prototype.getHashCode=function(){var t=this.r||0;return t=397*(t=397*(t=397*t^(this.g||0))^(this.b||0))^(this.a||0)},t.prototype.clone=function(){return new t(this.r,this.g,this.b,this.a)},t.prototype.copyFrom=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},t.prototype.copyFromFloats=function(t,e,n,o){return this.r=t,this.g=e,this.b=n,this.a=o,this},t.prototype.set=function(t,e,n,o){return this.copyFromFloats(t,e,n,o)},t.prototype.toHexString=function(){var t=255*this.r|0,e=255*this.g|0,n=255*this.b|0,o=255*this.a|0;return\"#\"+Tt.ToHex(t)+Tt.ToHex(e)+Tt.ToHex(n)+Tt.ToHex(o)},t.prototype.toLinearSpace=function(){var e=new t;return this.toLinearSpaceToRef(e),e},t.prototype.toLinearSpaceToRef=function(t){return t.r=Math.pow(this.r,gt),t.g=Math.pow(this.g,gt),t.b=Math.pow(this.b,gt),t.a=this.a,this},t.prototype.toGammaSpace=function(){var e=new t;return this.toGammaSpaceToRef(e),e},t.prototype.toGammaSpaceToRef=function(t){return t.r=Math.pow(this.r,mt),t.g=Math.pow(this.g,mt),t.b=Math.pow(this.b,mt),t.a=this.a,this},t}(),Ft=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.r=t,this.g=e,this.b=n}return t.FromHexString=function(e){if(\"#\"!==e.substring(0,1)||7!==e.length)return new t(0,0,0);var n=parseInt(e.substring(1,3),16),o=parseInt(e.substring(3,5),16),i=parseInt(e.substring(5,7),16);return t.FromInts(n,o,i)},t.FromArray=function(e,n){return void 0===n&&(n=0),new t(e[n],e[n+1],e[n+2])},t.FromInts=function(e,n,o){return new t(e/255,n/255,o/255)},t.Lerp=function(e,n,o){var i=new t(0,0,0);return t.LerpToRef(e,n,o,i),i},t.LerpToRef=function(t,e,n,o){o.r=t.r+(e.r-t.r)*n,o.g=t.g+(e.g-t.g)*n,o.b=t.b+(e.b-t.b)*n},t.Red=function(){return new t(1,0,0)},t.Green=function(){return new t(0,1,0)},t.Blue=function(){return new t(0,0,1)},t.Black=function(){return new t(0,0,0)},t.White=function(){return new t(1,1,1)},t.Purple=function(){return new t(.5,0,.5)},t.Magenta=function(){return new t(1,0,1)},t.Yellow=function(){return new t(1,1,0)},t.Gray=function(){return new t(.5,.5,.5)},t.Teal=function(){return new t(0,1,1)},t.Random=function(){return new t(Math.random(),Math.random(),Math.random())},t.prototype.toString=function(){return\"{R: \"+this.r+\" G:\"+this.g+\" B:\"+this.b+\"}\"},t.prototype.getClassName=function(){return\"Color3\"},t.prototype.getHashCode=function(){var t=this.r||0;return t=397*(t=397*t^(this.g||0))^(this.b||0)},t.prototype.toArray=function(t,e){return void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,this},t.prototype.toColor4=function(t){return void 0===t&&(t=1),new Mt(this.r,this.g,this.b,t)},t.prototype.asArray=function(){var t=new Array;return this.toArray(t,0),t},t.prototype.toLuminance=function(){return.3*this.r+.59*this.g+.11*this.b},t.prototype.multiply=function(e){return new t(this.r*e.r,this.g*e.g,this.b*e.b)},t.prototype.multiplyToRef=function(t,e){return e.r=this.r*t.r,e.g=this.g*t.g,e.b=this.b*t.b,this},t.prototype.equals=function(t){return t&&this.r===t.r&&this.g===t.g&&this.b===t.b},t.prototype.equalsFloats=function(t,e,n){return this.r===t&&this.g===e&&this.b===n},t.prototype.scale=function(e){return new t(this.r*e,this.g*e,this.b*e)},t.prototype.scaleToRef=function(t,e){return e.r=this.r*t,e.g=this.g*t,e.b=this.b*t,this},t.prototype.scaleAndAddToRef=function(t,e){return e.r+=this.r*t,e.g+=this.g*t,e.b+=this.b*t,this},t.prototype.clampToRef=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=1),n.r=Tt.Clamp(this.r,t,e),n.g=Tt.Clamp(this.g,t,e),n.b=Tt.Clamp(this.b,t,e),this},t.prototype.add=function(e){return new t(this.r+e.r,this.g+e.g,this.b+e.b)},t.prototype.addToRef=function(t,e){return e.r=this.r+t.r,e.g=this.g+t.g,e.b=this.b+t.b,this},t.prototype.subtract=function(e){return new t(this.r-e.r,this.g-e.g,this.b-e.b)},t.prototype.subtractToRef=function(t,e){return e.r=this.r-t.r,e.g=this.g-t.g,e.b=this.b-t.b,this},t.prototype.clone=function(){return new t(this.r,this.g,this.b)},t.prototype.copyFrom=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},t.prototype.copyFromFloats=function(t,e,n){return this.r=t,this.g=e,this.b=n,this},t.prototype.set=function(t,e,n){return this.copyFromFloats(t,e,n)},t.prototype.toHexString=function(){var t=255*this.r|0,e=255*this.g|0,n=255*this.b|0;return\"#\"+Tt.ToHex(t)+Tt.ToHex(e)+Tt.ToHex(n)},t.prototype.toLinearSpace=function(){var e=new t;return this.toLinearSpaceToRef(e),e},t.prototype.toLinearSpaceToRef=function(t){return t.r=Math.pow(this.r,gt),t.g=Math.pow(this.g,gt),t.b=Math.pow(this.b,gt),this},t.prototype.toGammaSpace=function(){var e=new t;return this.toGammaSpaceToRef(e),e},t.prototype.toGammaSpaceToRef=function(t){return t.r=Math.pow(this.r,mt),t.g=Math.pow(this.g,mt),t.b=Math.pow(this.b,mt),this},t.prototype.toJSON=function(){return{r:this.r,g:this.g,b:this.b}},t}(),Lt=function(){function t(t){this._length=0,this._points=t,this._length=this._computeLength(t)}return t.CreateQuadraticBezier=function(e,n,o,i){i=i>2?i:3;for(var r=new Array,s=function(t,e,n,o){return(1-t)*(1-t)*e+2*t*(1-t)*n+t*t*o},a=0;a<=i;a++)r.push(new Et(s(a/i,e.x,n.x,o.x),s(a/i,e.y,n.y,o.y),s(a/i,e.z,n.z,o.z)));return new t(r)},t.CreateCubicBezier=function(e,n,o,i,r){r=r>3?r:4;for(var s=new Array,a=function(t,e,n,o,i){return(1-t)*(1-t)*(1-t)*e+3*t*(1-t)*(1-t)*n+3*t*t*(1-t)*o+t*t*t*i},u=0;u<=r;u++)s.push(new Et(a(u/r,e.x,n.x,o.x,i.x),a(u/r,e.y,n.y,o.y,i.y),a(u/r,e.z,n.z,o.z,i.z)));return new t(s)},t.CreateHermiteSpline=function(e,n,o,i,r){for(var s=new Array,a=1/r,u=0;u<=r;u++)s.push(Et.Hermite(e,n,o,i,u*a));return new t(s)},t.CreateCatmullRomSpline=function(e,n,o){var i=new Array,r=1/n,s=0;if(o){for(var a=e.length,u=0;u<a;u++){s=0;for(var p=0;p<n;p++)i.push(Et.CatmullRom(e[u%a],e[(u+1)%a],e[(u+2)%a],e[(u+3)%a],s)),s+=r}i.push(i[0])}else{var h=new Array;h.push(e[0].clone()),Array.prototype.push.apply(h,e),h.push(e[e.length-1].clone());u=0;for(u=0;u<h.length-3;u++){s=0;for(p=0;p<n;p++)i.push(Et.CatmullRom(h[u],h[u+1],h[u+2],h[u+3],s)),s+=r}u--,i.push(Et.CatmullRom(h[u],h[u+1],h[u+2],h[u+3],s))}return new t(i)},t.prototype.getPoints=function(){return this._points},t.prototype.length=function(){return this._length},t.prototype.continue=function(e){for(var n=this._points[this._points.length-1],o=this._points.slice(),i=e.getPoints(),r=1;r<i.length;r++)o.push(i[r].subtract(i[0]).add(n));return new t(o)},t.prototype._computeLength=function(t){for(var e=0,n=1;n<t.length;n++)e+=t[n].subtract(t[n-1]).length();return e},t}(),Nt=function(){function t(t,e,n,o){this.normal=new Et(t,e,n),this.d=o}return t.FromArray=function(e){return new t(e[0],e[1],e[2],e[3])},t.FromPoints=function(e,n,o){var i=new t(0,0,0,0);return i.copyFromPoints(e,n,o),i},t.FromPositionAndNormal=function(e,n){var o=new t(0,0,0,0);return n.normalize(),o.normal=n,o.d=-(n.x*e.x+n.y*e.y+n.z*e.z),o},t.SignedDistanceToPlaneFromPositionAndNormal=function(t,e,n){var o=-(e.x*t.x+e.y*t.y+e.z*t.z);return Et.Dot(n,e)+o},t.prototype.asArray=function(){return[this.normal.x,this.normal.y,this.normal.z,this.d]},t.prototype.clone=function(){return new t(this.normal.x,this.normal.y,this.normal.z,this.d)},t.prototype.getClassName=function(){return\"Plane\"},t.prototype.getHashCode=function(){var t=this.normal.getHashCode();return t=397*t^(this.d||0)},t.prototype.normalize=function(){var t=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z),e=0;return 0!==t&&(e=1/t),this.normal.x*=e,this.normal.y*=e,this.normal.z*=e,this.d*=e,this},t.prototype.transform=function(e){var n=St.Matrix[0];bt.TransposeToRef(e,n);var o=n.m,i=this.normal.x,r=this.normal.y,s=this.normal.z,a=this.d;return new t(i*o[0]+r*o[1]+s*o[2]+a*o[3],i*o[4]+r*o[5]+s*o[6]+a*o[7],i*o[8]+r*o[9]+s*o[10]+a*o[11],i*o[12]+r*o[13]+s*o[14]+a*o[15])},t.prototype.dotCoordinate=function(t){return this.normal.x*t.x+this.normal.y*t.y+this.normal.z*t.z+this.d},t.prototype.copyFromPoints=function(t,e,n){var o,i=e.x-t.x,r=e.y-t.y,s=e.z-t.z,a=n.x-t.x,u=n.y-t.y,p=n.z-t.z,h=r*p-s*u,c=s*a-i*p,d=i*u-r*a,l=Math.sqrt(h*h+c*c+d*d);return o=0!==l?1/l:0,this.normal.x=h*o,this.normal.y=c*o,this.normal.z=d*o,this.d=-(this.normal.x*t.x+this.normal.y*t.y+this.normal.z*t.z),this},t.prototype.isFrontFacingTo=function(t,e){return Et.Dot(this.normal,t)<=e},t.prototype.signedDistanceTo=function(t){return Et.Dot(t,this.normal)+this.d},t}(),Dt=function(){function t(){}return t.GetPlanes=function(e){for(var n=[],o=0;o<6;o++)n.push(new Nt(0,0,0,0));return t.GetPlanesToRef(e,n),n},t.GetNearPlaneToRef=function(t,e){var n=t.m;e.normal.x=n[3]+n[2],e.normal.y=n[7]+n[6],e.normal.z=n[11]+n[10],e.d=n[15]+n[14],e.normalize()},t.GetFarPlaneToRef=function(t,e){var n=t.m;e.normal.x=n[3]-n[2],e.normal.y=n[7]-n[6],e.normal.z=n[11]-n[10],e.d=n[15]-n[14],e.normalize()},t.GetLeftPlaneToRef=function(t,e){var n=t.m;e.normal.x=n[3]+n[0],e.normal.y=n[7]+n[4],e.normal.z=n[11]+n[8],e.d=n[15]+n[12],e.normalize()},t.GetRightPlaneToRef=function(t,e){var n=t.m;e.normal.x=n[3]-n[0],e.normal.y=n[7]-n[4],e.normal.z=n[11]-n[8],e.d=n[15]-n[12],e.normalize()},t.GetTopPlaneToRef=function(t,e){var n=t.m;e.normal.x=n[3]-n[1],e.normal.y=n[7]-n[5],e.normal.z=n[11]-n[9],e.d=n[15]-n[13],e.normalize()},t.GetBottomPlaneToRef=function(t,e){var n=t.m;e.normal.x=n[3]+n[1],e.normal.y=n[7]+n[5],e.normal.z=n[11]+n[9],e.d=n[15]+n[13],e.normalize()},t.GetPlanesToRef=function(e,n){t.GetNearPlaneToRef(e,n[0]),t.GetFarPlaneToRef(e,n[1]),t.GetLeftPlaneToRef(e,n[2]),t.GetRightPlaneToRef(e,n[3]),t.GetTopPlaneToRef(e,n[4]),t.GetBottomPlaneToRef(e,n[5])},t}(),Ut=function(){function e(t,e){this.closed=!1,this._points=new Array,this._length=0,this._points.push(new It(t,e))}return e.StartingAt=function(t,n){return new e(t,n)},e.prototype.addLineTo=function(t,e){if(this.closed)return this;var n=new It(t,e),o=this._points[this._points.length-1];return this._points.push(n),this._length+=n.subtract(o).length(),this},e.prototype.addArcTo=function(e,n,o,i,r){if(void 0===r&&(r=36),this.closed)return this;var s=this._points[this._points.length-1],a=new It(e,n),u=new It(o,i),p=new zt(s,a,u),h=p.angle.radians()/r;p.orientation===t.Orientation.CW&&(h*=-1);for(var c=p.startAngle.radians()+h,d=0;d<r;d++){var l=Math.cos(c)*p.radius+p.centerPoint.x,f=Math.sin(c)*p.radius+p.centerPoint.y;this.addLineTo(l,f),c+=h}return this},e.prototype.close=function(){return this.closed=!0,this},e.prototype.length=function(){var t=this._length;if(!this.closed){var e=this._points[this._points.length-1];t+=this._points[0].subtract(e).length()}return t},e.prototype.getPoints=function(){return this._points},e.prototype.getPointAtLengthPosition=function(t){if(t<0||t>1)return It.Zero();for(var e=t*this.length(),n=0,o=0;o<this._points.length;o++){var i=(o+1)%this._points.length,r=this._points[o],s=this._points[i].subtract(r),a=s.length()+n;if(e>=n&&e<=a){var u=s.normalize(),p=e-n;return new It(r.x+u.x*p,r.y+u.y*p)}n=a}return It.Zero()},e}(),Bt=function(){function t(t,e,n){void 0===e&&(e=null),this.path=t,this._curve=new Array,this._distances=new Array,this._tangents=new Array,this._normals=new Array,this._binormals=new Array;for(var o=0;o<t.length;o++)this._curve[o]=t[o].clone();this._raw=n||!1,this._compute(e)}return t.prototype.getCurve=function(){return this._curve},t.prototype.getTangents=function(){return this._tangents},t.prototype.getNormals=function(){return this._normals},t.prototype.getBinormals=function(){return this._binormals},t.prototype.getDistances=function(){return this._distances},t.prototype.update=function(t,e){void 0===e&&(e=null);for(var n=0;n<t.length;n++)this._curve[n].x=t[n].x,this._curve[n].y=t[n].y,this._curve[n].z=t[n].z;return this._compute(e),this},t.prototype._compute=function(t){var e=this._curve.length;this._tangents[0]=this._getFirstNonNullVector(0),this._raw||this._tangents[0].normalize(),this._tangents[e-1]=this._curve[e-1].subtract(this._curve[e-2]),this._raw||this._tangents[e-1].normalize();var n,o,i,r,s=this._tangents[0],a=this._normalVector(this._curve[0],s,t);this._normals[0]=a,this._raw||this._normals[0].normalize(),this._binormals[0]=Et.Cross(s,this._normals[0]),this._raw||this._binormals[0].normalize(),this._distances[0]=0;for(var u=1;u<e;u++)n=this._getLastNonNullVector(u),u<e-1&&(o=this._getFirstNonNullVector(u),this._tangents[u]=n.add(o),this._tangents[u].normalize()),this._distances[u]=this._distances[u-1]+n.length(),i=this._tangents[u],r=this._binormals[u-1],this._normals[u]=Et.Cross(r,i),this._raw||this._normals[u].normalize(),this._binormals[u]=Et.Cross(i,this._normals[u]),this._raw||this._binormals[u].normalize()},t.prototype._getFirstNonNullVector=function(t){for(var e=1,n=this._curve[t+e].subtract(this._curve[t]);0===n.length()&&t+e+1<this._curve.length;)e++,n=this._curve[t+e].subtract(this._curve[t]);return n},t.prototype._getLastNonNullVector=function(t){for(var e=1,n=this._curve[t].subtract(this._curve[t-e]);0===n.length()&&t>e+1;)e++,n=this._curve[t].subtract(this._curve[t-e]);return n},t.prototype._normalVector=function(t,e,n){var o,i=e.length();if(0===i&&(i=1),null==n){var r=void 0;r=Tt.WithinEpsilon(Math.abs(e.y)/i,1,_t)?Tt.WithinEpsilon(Math.abs(e.x)/i,1,_t)?Tt.WithinEpsilon(Math.abs(e.z)/i,1,_t)?Et.Zero():new Et(0,0,1):new Et(1,0,0):new Et(0,-1,0),o=Et.Cross(e,r)}else o=Et.Cross(e,n),Et.CrossToRef(o,e,o);return o.normalize(),o},t}(),Ht=function(){function t(t,e){this.width=t,this.height=e}return Object.defineProperty(t.prototype,\"surface\",{get:function(){return this.width*this.height},enumerable:!1,configurable:!0}),t.Zero=function(){return new t(0,0)},t.Lerp=function(e,n,o){return new t(e.width+(n.width-e.width)*o,e.height+(n.height-e.height)*o)},t.prototype.toString=function(){return\"{W: \"+this.width+\", H: \"+this.height+\"}\"},t.prototype.getClassName=function(){return\"Size\"},t.prototype.getHashCode=function(){var t=this.width||0;return t=397*t^(this.height||0)},t.prototype.copyFrom=function(t){this.width=t.width,this.height=t.height},t.prototype.copyFromFloats=function(t,e){return this.width=t,this.height=e,this},t.prototype.set=function(t,e){return this.copyFromFloats(t,e)},t.prototype.multiplyByFloats=function(e,n){return new t(this.width*e,this.height*n)},t.prototype.clone=function(){return new t(this.width,this.height)},t.prototype.equals=function(t){return!!t&&(this.width===t.width&&this.height===t.height)},t.prototype.add=function(e){return new t(this.width+e.width,this.height+e.height)},t.prototype.subtract=function(e){return new t(this.width-e.width,this.height-e.height)},t}(),kt={looping:!0,speed:1,weight:1,layer:0},Vt=function(t){function e(e,n){void 0===n&&(n=kt);var o=t.call(this)||this;return o.isAnimationClip=!0,o.looping=kt.looping,o.weight=kt.weight,o.playing=!1,o.shouldReset=!1,o.speed=kt.speed,o.name=f(\"AnimClip\"),o.layer=kt.layer,o.clip=e,o.setParams(i({},n)),o}return o(e,t),e.prototype.setParams=function(t){return this.looping=void 0!==t.looping?t.looping:this.looping,this.speed=t.speed||this.speed,this.weight=t.weight||this.weight,this.layer=t.layer||this.layer,this},e.prototype.toJSON=function(){var e=JSON.parse(JSON.stringify(t.prototype.toJSON.call(this)));return this.shouldReset&&(this.shouldReset=!1),e},e.prototype.play=function(t){var e;void 0===t&&(t=!1),null===(e=this.owner)||void 0===e||e.play(this,t)},e.prototype.pause=function(){var t;null===(t=this.owner)||void 0===t||t.pause(this)},e.prototype.reset=function(){this.shouldReset=!0},e.prototype.stop=function(){var t;null===(t=this.owner)||void 0===t||t.stop(this)},r([U.readonly],e.prototype,\"clip\",void 0),r([U.field],e.prototype,\"looping\",void 0),r([U.field],e.prototype,\"weight\",void 0),r([U.field],e.prototype,\"playing\",void 0),r([U.field],e.prototype,\"shouldReset\",void 0),r([U.field],e.prototype,\"speed\",void 0),r([U.readonly],e.prototype,\"name\",void 0),e}(U);t.InputEventType=void 0,(yt=t.InputEventType||(t.InputEventType={}))[yt.DOWN=0]=\"DOWN\",yt[yt.UP=1]=\"UP\",t.CameraMode=void 0,(vt=t.CameraMode||(t.CameraMode={}))[vt.FirstPerson=0]=\"FirstPerson\",vt[vt.ThirdPerson=1]=\"ThirdPerson\",vt[vt.BuildingToolGodMode=2]=\"BuildingToolGodMode\";var Wt,qt;t.LandRole=void 0,(Wt=t.LandRole||(t.LandRole={})).OWNER=\"owner\",Wt.OPERATOR=\"operator\",t.ActionButton=void 0,(qt=t.ActionButton||(t.ActionButton={})).POINTER=\"POINTER\",qt.PRIMARY=\"PRIMARY\",qt.SECONDARY=\"SECONDARY\",qt.ANY=\"ANY\";var Gt,jt,Yt=function(t){if(this.callback=t,!t||!(\"apply\"in t)||!(\"call\"in t))throw new Error(\"Callback is not a function\");Qt.ensureInstance()},Xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e=r([M(\"pointerDown\")],e)}(Yt),Zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e=r([M(\"pointerUp\")],e)}(Yt),Jt=function(t,e){this.fn=t,this.useRaycast=e},Qt=function(){function e(){var e,n;this.subscriptions=((e={})[t.ActionButton.POINTER]={BUTTON_DOWN:[],BUTTON_UP:[]},e[t.ActionButton.PRIMARY]={BUTTON_DOWN:[],BUTTON_UP:[]},e[t.ActionButton.SECONDARY]={BUTTON_DOWN:[],BUTTON_UP:[]},e[t.ActionButton.ANY]={BUTTON_DOWN:[],BUTTON_UP:[]},e),this.internalState=((n={})[t.ActionButton.POINTER]={BUTTON_DOWN:!1},n[t.ActionButton.PRIMARY]={BUTTON_DOWN:!1},n[t.ActionButton.SECONDARY]={BUTTON_DOWN:!1},n[t.ActionButton.ANY]={BUTTON_DOWN:!1},n)}return Object.defineProperty(e,\"instance\",{get:function(){return e.ensureInstance(),e._instance},enumerable:!1,configurable:!0}),e.ensureInstance=function(){e._instance||(e._instance=new e)},e.prototype.isButtonPressed=function(t){return this.internalState[t]},e.prototype.subscribe=function(t,e,n,o){var i=this;return this.subscriptions[e][t].push(new Jt(o,n)),function(){i.unsubscribe(t,e,o)}},e.prototype.unsubscribe=function(t,e,n){var o=this.getSubscriptionId(t,e,n);return o>-1&&this.subscriptions[e][t].splice(o,1)},e.prototype.handlePointerEvent=function(e){var n=this.getPointerById(e.buttonId),o=i(i({},e),{button:n,direction:(new Et).copyFrom(e.direction),origin:(new Et).copyFrom(e.origin),hit:void 0}),r=e.hit?i(i({},e.hit),{hitPoint:(new Et).copyFrom(e.hit.hitPoint),normal:(new Et).copyFrom(e.hit.normal),worldNormal:(new Et).copyFrom(e.hit.worldNormal)}):void 0;if(e.type===t.InputEventType.DOWN){this.internalState[n].BUTTON_DOWN=!0;for(var s=0;s<this.subscriptions[n].BUTTON_DOWN.length;s++){(a=this.subscriptions[n].BUTTON_DOWN[s]).useRaycast?o.hit=r:o.hit=void 0,a.fn(o)}if(r&&r.entityId&&F.engine)(p=(u=F.engine.entities[r.entityId])&&u.getComponentOrNull(Xt))&&(o.hit=r,p.callback(o))}else{this.internalState[n].BUTTON_DOWN=!1;for(s=0;s<this.subscriptions[n].BUTTON_UP.length;s++){var a;(a=this.subscriptions[n].BUTTON_UP[s]).useRaycast?o.hit=r:o.hit=void 0,a.fn(o)}var u,p;if(r&&r.entityId&&F.engine)(p=(u=F.engine.entities[r.entityId])&&u.getComponentOrNull(Zt))&&(o.hit=r,p.callback(o))}},e.prototype.getSubscriptionId=function(t,e,n){for(var o=0;o<this.subscriptions[e][t].length;o++)if(this.subscriptions[e][t][o].fn===n)return o;return-1},e.prototype.getPointerById=function(e){return 0===e?t.ActionButton.POINTER:1===e?t.ActionButton.PRIMARY:t.ActionButton.SECONDARY},e}();t.CLASS_ID=void 0,(Gt=t.CLASS_ID||(t.CLASS_ID={}))[Gt.TRANSFORM=1]=\"TRANSFORM\",Gt[Gt.UUID_CALLBACK=8]=\"UUID_CALLBACK\",Gt[Gt.BOX_SHAPE=16]=\"BOX_SHAPE\",Gt[Gt.SPHERE_SHAPE=17]=\"SPHERE_SHAPE\",Gt[Gt.PLANE_SHAPE=18]=\"PLANE_SHAPE\",Gt[Gt.CONE_SHAPE=19]=\"CONE_SHAPE\",Gt[Gt.CYLINDER_SHAPE=20]=\"CYLINDER_SHAPE\",Gt[Gt.TEXT_SHAPE=21]=\"TEXT_SHAPE\",Gt[Gt.NFT_SHAPE=22]=\"NFT_SHAPE\",Gt[Gt.UI_WORLD_SPACE_SHAPE=23]=\"UI_WORLD_SPACE_SHAPE\",Gt[Gt.UI_SCREEN_SPACE_SHAPE=24]=\"UI_SCREEN_SPACE_SHAPE\",Gt[Gt.UI_CONTAINER_RECT=25]=\"UI_CONTAINER_RECT\",Gt[Gt.UI_CONTAINER_STACK=26]=\"UI_CONTAINER_STACK\",Gt[Gt.UI_TEXT_SHAPE=27]=\"UI_TEXT_SHAPE\",Gt[Gt.UI_INPUT_TEXT_SHAPE=28]=\"UI_INPUT_TEXT_SHAPE\",Gt[Gt.UI_IMAGE_SHAPE=29]=\"UI_IMAGE_SHAPE\",Gt[Gt.UI_SLIDER_SHAPE=30]=\"UI_SLIDER_SHAPE\",Gt[Gt.CIRCLE_SHAPE=31]=\"CIRCLE_SHAPE\",Gt[Gt.BILLBOARD=32]=\"BILLBOARD\",Gt[Gt.ANIMATION=33]=\"ANIMATION\",Gt[Gt.FONT=34]=\"FONT\",Gt[Gt.UI_FULLSCREEN_SHAPE=40]=\"UI_FULLSCREEN_SHAPE\",Gt[Gt.UI_BUTTON_SHAPE=41]=\"UI_BUTTON_SHAPE\",Gt[Gt.GLTF_SHAPE=54]=\"GLTF_SHAPE\",Gt[Gt.OBJ_SHAPE=55]=\"OBJ_SHAPE\",Gt[Gt.AVATAR_SHAPE=56]=\"AVATAR_SHAPE\",Gt[Gt.BASIC_MATERIAL=64]=\"BASIC_MATERIAL\",Gt[Gt.PBR_MATERIAL=65]=\"PBR_MATERIAL\",Gt[Gt.HIGHLIGHT_ENTITY=66]=\"HIGHLIGHT_ENTITY\",Gt[Gt.SOUND=67]=\"SOUND\",Gt[Gt.TEXTURE=68]=\"TEXTURE\",Gt[Gt.VIDEO_CLIP=70]=\"VIDEO_CLIP\",Gt[Gt.VIDEO_TEXTURE=71]=\"VIDEO_TEXTURE\",Gt[Gt.AUDIO_CLIP=200]=\"AUDIO_CLIP\",Gt[Gt.AUDIO_SOURCE=201]=\"AUDIO_SOURCE\",Gt[Gt.AUDIO_STREAM=202]=\"AUDIO_STREAM\",Gt[Gt.GIZMOS=203]=\"GIZMOS\",Gt[Gt.SMART_ITEM=204]=\"SMART_ITEM\",Gt[Gt.AVATAR_MODIFIER_AREA=205]=\"AVATAR_MODIFIER_AREA\",Gt[Gt.NAME=300]=\"NAME\",Gt[Gt.LOCKED_ON_EDIT=301]=\"LOCKED_ON_EDIT\",Gt[Gt.VISIBLE_ON_EDIT=302]=\"VISIBLE_ON_EDIT\",t.AvatarModifiers=void 0,(jt=t.AvatarModifiers||(t.AvatarModifiers={})).HIDE_AVATARS=\"HIDE_AVATARS\",jt.DISABLE_PASSPORTS=\"DISABLE_PASSPORTS\";var Kt,$t=function(e){function n(t){var n=e.call(this)||this;return n.area=t.area,n.modifiers=t.modifiers,n}return o(n,e),r([U.field],n.prototype,\"area\",void 0),r([U.field],n.prototype,\"modifiers\",void 0),n=r([M(\"engine.avatarModifierArea\",t.CLASS_ID.AVATAR_MODIFIER_AREA)],n)}(U),te=function(e){function n(t){void 0===t&&(t={});var n=e.call(this)||this;return n.position=t.position||Et.Zero(),n.rotation=t.rotation||At.Identity,n.scale=t.scale||new Et(1,1,1),n}return o(n,e),Object.defineProperty(n.prototype,\"eulerAngles\",{get:function(){return this.rotation.eulerAngles},enumerable:!1,configurable:!0}),n.prototype.lookAt=function(t,e){void 0===e&&(e=St.staticUp);var n=new bt;return bt.LookAtLHToRef(this.position,t,e,n),n.invert(),At.FromRotationMatrixToRef(n,this.rotation),this},n.prototype.rotate=function(t,e){return this.rotation.multiplyInPlace(this.rotation.angleAxis(e,t)),this},n.prototype.translate=function(t){return this.position.addInPlace(t),this},r([U.field],n.prototype,\"position\",void 0),r([U.field],n.prototype,\"rotation\",void 0),r([U.field],n.prototype,\"scale\",void 0),n=r([M(\"engine.transform\",t.CLASS_ID.TRANSFORM)],n)}(U),ee=function(e){function n(t,n,o){void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===o&&(o=!0);var i=e.call(this)||this;return i.x=!0,i.y=!0,i.z=!0,i.x=t,i.y=n,i.z=o,i}return o(n,e),r([U.field],n.prototype,\"x\",void 0),r([U.field],n.prototype,\"y\",void 0),r([U.field],n.prototype,\"z\",void 0),n=r([M(\"engine.billboard\",t.CLASS_ID.BILLBOARD)],n)}(U),ne=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.withCollisions=!0,e.isPointerBlocker=!0,e.visible=!0,e}return o(e,t),r([U.field],e.prototype,\"withCollisions\",void 0),r([U.field],e.prototype,\"isPointerBlocker\",void 0),r([U.field],e.prototype,\"visible\",void 0),e}(U),oe=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),r([U.field],n.prototype,\"uvs\",void 0),n=r([F(\"engine.shape\",t.CLASS_ID.BOX_SHAPE)],n)}(ne),ie=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n=r([F(\"engine.shape\",t.CLASS_ID.SPHERE_SHAPE)],n)}(ne),re=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),r([U.field],n.prototype,\"segments\",void 0),r([U.field],n.prototype,\"arc\",void 0),n=r([F(\"engine.shape\",t.CLASS_ID.CIRCLE_SHAPE)],n)}(ne),se=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.width=1,t.height=1,t}return o(n,e),r([U.field],n.prototype,\"width\",void 0),r([U.field],n.prototype,\"height\",void 0),r([U.field],n.prototype,\"uvs\",void 0),n=r([F(\"engine.shape\",t.CLASS_ID.PLANE_SHAPE)],n)}(ne),ae=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.radiusTop=0,t.radiusBottom=1,t.segmentsHeight=1,t.segmentsRadial=36,t.openEnded=!1,t.radius=null,t.arc=360,t}return o(n,e),r([U.field],n.prototype,\"radiusTop\",void 0),r([U.field],n.prototype,\"radiusBottom\",void 0),r([U.field],n.prototype,\"segmentsHeight\",void 0),r([U.field],n.prototype,\"segmentsRadial\",void 0),r([U.field],n.prototype,\"openEnded\",void 0),r([U.field],n.prototype,\"radius\",void 0),r([U.field],n.prototype,\"arc\",void 0),n=r([F(\"engine.shape\",t.CLASS_ID.CONE_SHAPE)],n)}(ne),ue=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.radiusTop=1,t.radiusBottom=1,t.segmentsHeight=1,t.segmentsRadial=36,t.openEnded=!1,t.radius=null,t.arc=360,t}return o(n,e),r([U.field],n.prototype,\"radiusTop\",void 0),r([U.field],n.prototype,\"radiusBottom\",void 0),r([U.field],n.prototype,\"segmentsHeight\",void 0),r([U.field],n.prototype,\"segmentsRadial\",void 0),r([U.field],n.prototype,\"openEnded\",void 0),r([U.field],n.prototype,\"radius\",void 0),r([U.field],n.prototype,\"arc\",void 0),n=r([F(\"engine.shape\",t.CLASS_ID.CYLINDER_SHAPE)],n)}(ne),pe=function(e){function n(t){var n=e.call(this)||this;return n.src=t,n}return o(n,e),r([ne.readonly],n.prototype,\"src\",void 0),n=r([F(\"engine.shape\",t.CLASS_ID.GLTF_SHAPE)],n)}(ne);t.PictureFrameStyle=void 0,(Kt=t.PictureFrameStyle||(t.PictureFrameStyle={}))[Kt.Classic=0]=\"Classic\",Kt[Kt.Baroque_Ornament=1]=\"Baroque_Ornament\",Kt[Kt.Diamond_Ornament=2]=\"Diamond_Ornament\",Kt[Kt.Minimal_Wide=3]=\"Minimal_Wide\",Kt[Kt.Minimal_Grey=4]=\"Minimal_Grey\",Kt[Kt.Blocky=5]=\"Blocky\",Kt[Kt.Gold_Edges=6]=\"Gold_Edges\",Kt[Kt.Gold_Carved=7]=\"Gold_Carved\",Kt[Kt.Gold_Wide=8]=\"Gold_Wide\",Kt[Kt.Gold_Rounded=9]=\"Gold_Rounded\",Kt[Kt.Metal_Medium=10]=\"Metal_Medium\",Kt[Kt.Metal_Wide=11]=\"Metal_Wide\",Kt[Kt.Metal_Slim=12]=\"Metal_Slim\",Kt[Kt.Metal_Rounded=13]=\"Metal_Rounded\",Kt[Kt.Pins=14]=\"Pins\",Kt[Kt.Minimal_Black=15]=\"Minimal_Black\",Kt[Kt.Minimal_White=16]=\"Minimal_White\",Kt[Kt.Tape=17]=\"Tape\",Kt[Kt.Wood_Slim=18]=\"Wood_Slim\",Kt[Kt.Wood_Wide=19]=\"Wood_Wide\",Kt[Kt.Wood_Twigs=20]=\"Wood_Twigs\",Kt[Kt.Canvas=21]=\"Canvas\",Kt[Kt.None=22]=\"None\";var he,ce=function(e){function n(n,o){void 0===o&&(o={});var i=e.call(this)||this;i.src=n;var r=new Ft(.6404918,.611472,.8584906),s=t.PictureFrameStyle.Classic;return\"r\"in o?r=o:null!=o&&(o.color&&(r=o.color),o.style&&(s=o.style)),i.color=r,i.style=s,i}return o(n,e),r([ne.readonly],n.prototype,\"src\",void 0),r([ne.readonly],n.prototype,\"style\",void 0),r([U.field],n.prototype,\"color\",void 0),n=r([F(\"engine.shape\",t.CLASS_ID.NFT_SHAPE)],n)}(ne),de=function(e){function n(t,n){var o=e.call(this)||this;if(o.src=t,n)for(var i in n){o[i]=n[i]}return o}return o(n,e),r([U.readonly],n.prototype,\"src\",void 0),r([U.readonly],n.prototype,\"samplingMode\",void 0),r([U.readonly],n.prototype,\"wrap\",void 0),r([U.readonly],n.prototype,\"hasAlpha\",void 0),n=r([F(\"engine.texture\",t.CLASS_ID.TEXTURE)],n)}(U),le=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.states=[],t}return o(n,e),n.prototype.addClip=function(t){var e=this;return this.states.push(t),t.onChange((function(){e.dirty=!0})),t.owner=this,this},n.prototype.getClip=function(t){for(var e=0;e<this.states.length;e++){var n=this.states[e];if(n.clip===t)return n}var o=new Vt(t);return this.addClip(o),o},n.prototype.stop=function(t){if(t)t.playing=!1,t.shouldReset=!0;else for(var e=0;e<this.states.length;e++){var n=this.states[e];this.stop(n)}},n.prototype.play=function(t,e){void 0===e&&(e=!1);for(var n=0;n<this.states.length;n++){var o=this.states[n];o.layer===t.layer&&t!==o&&this.pause(o)}e&&(t.shouldReset=!0),t.playing=!0,t.dirty=!0,t.data.nonce=Math.random()},n.prototype.pause=function(t){if(t)t.playing=!1;else for(var e=0;e<this.states.length;e++){var n=this.states[e];this.pause(n)}},r([U.readonly],n.prototype,\"states\",void 0),n=r([M(\"engine.animator\",t.CLASS_ID.ANIMATION)],n)}(ne),fe=function(e){function n(t){var n=e.call(this)||this;return n.src=t,n}return o(n,e),r([U.readonly],n.prototype,\"src\",void 0),n=r([F(\"engine.shape\",t.CLASS_ID.OBJ_SHAPE)],n)}(ne),ye=function(e){function n(t){void 0===t&&(t=\"\");var n=e.call(this)||this;return n.src=t,n}return o(n,e),r([U.readonly],n.prototype,\"src\",void 0),n=r([F(\"engine.font\",t.CLASS_ID.FONT)],n)}(U);t.Fonts=void 0,(he=t.Fonts||(t.Fonts={})).SanFrancisco=\"builtin:SF-UI-Text-Regular SDF\",he.SanFrancisco_Heavy=\"builtin:SF-UI-Text-Heavy SDF\",he.SanFrancisco_Semibold=\"builtin:SF-UI-Text-Semibold SDF\",he.LiberationSans=\"builtin:LiberationSans SDF\",he.SansSerif=\"SansSerif\",he.SansSerif_Heavy=\"SansSerif_Heavy\",he.SansSerif_Bold=\"SansSerif_Bold\",he.SansSerif_SemiBold=\"SansSerif_SemiBold\";var ve,me=function(e){function n(t){var n=e.call(this)||this;return n.outlineWidth=0,n.outlineColor=new Ft(1,1,1),n.color=new Ft(1,1,1),n.fontSize=10,n.fontWeight=\"normal\",n.opacity=1,n.value=\"\",n.lineSpacing=\"0px\",n.lineCount=0,n.resizeToFit=!1,n.textWrapping=!1,n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=new Ft(1,1,1),n.zIndex=0,n.hTextAlign=\"center\",n.vTextAlign=\"center\",n.width=1,n.height=1,n.paddingTop=0,n.paddingRight=0,n.paddingBottom=0,n.paddingLeft=0,n.isPickable=!1,n.billboard=!1,n.visible=!0,t&&(n.value=t),n}return o(n,e),r([U.field],n.prototype,\"outlineWidth\",void 0),r([U.field],n.prototype,\"outlineColor\",void 0),r([U.field],n.prototype,\"color\",void 0),r([U.field],n.prototype,\"fontSize\",void 0),r([U.field],n.prototype,\"fontWeight\",void 0),r([U.component],n.prototype,\"font\",void 0),r([U.field],n.prototype,\"opacity\",void 0),r([U.field],n.prototype,\"value\",void 0),r([U.field],n.prototype,\"lineSpacing\",void 0),r([U.field],n.prototype,\"lineCount\",void 0),r([U.field],n.prototype,\"resizeToFit\",void 0),r([U.field],n.prototype,\"textWrapping\",void 0),r([U.field],n.prototype,\"shadowBlur\",void 0),r([U.field],n.prototype,\"shadowOffsetX\",void 0),r([U.field],n.prototype,\"shadowOffsetY\",void 0),r([U.field],n.prototype,\"shadowColor\",void 0),r([U.field],n.prototype,\"zIndex\",void 0),r([U.field],n.prototype,\"hTextAlign\",void 0),r([U.field],n.prototype,\"vTextAlign\",void 0),r([U.field],n.prototype,\"width\",void 0),r([U.field],n.prototype,\"height\",void 0),r([U.field],n.prototype,\"paddingTop\",void 0),r([U.field],n.prototype,\"paddingRight\",void 0),r([U.field],n.prototype,\"paddingBottom\",void 0),r([U.field],n.prototype,\"paddingLeft\",void 0),r([U.field],n.prototype,\"isPickable\",void 0),r([U.field],n.prototype,\"billboard\",void 0),r([U.field],n.prototype,\"visible\",void 0),n=r([M(\"engine.text\",t.CLASS_ID.TEXT_SHAPE)],n)}(U);t.TransparencyMode=void 0,(ve=t.TransparencyMode||(t.TransparencyMode={}))[ve.OPAQUE=0]=\"OPAQUE\",ve[ve.ALPHA_TEST=1]=\"ALPHA_TEST\",ve[ve.ALPHA_BLEND=2]=\"ALPHA_BLEND\",ve[ve.ALPHA_TEST_AND_BLEND=3]=\"ALPHA_TEST_AND_BLEND\",ve[ve.AUTO=4]=\"AUTO\";var ge,_e=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.alphaTest=.5,n.castShadows=!0,n.transparencyMode=t.TransparencyMode.AUTO,n}return o(n,e),r([U.field],n.prototype,\"alphaTest\",void 0),r([U.field],n.prototype,\"albedoColor\",void 0),r([U.field],n.prototype,\"emissiveColor\",void 0),r([U.field],n.prototype,\"metallic\",void 0),r([U.field],n.prototype,\"roughness\",void 0),r([U.field],n.prototype,\"ambientColor\",void 0),r([U.field],n.prototype,\"reflectionColor\",void 0),r([U.field],n.prototype,\"reflectivityColor\",void 0),r([U.field],n.prototype,\"directIntensity\",void 0),r([U.field],n.prototype,\"microSurface\",void 0),r([U.field],n.prototype,\"emissiveIntensity\",void 0),r([U.field],n.prototype,\"environmentIntensity\",void 0),r([U.field],n.prototype,\"specularIntensity\",void 0),r([U.component],n.prototype,\"albedoTexture\",void 0),r([U.component],n.prototype,\"alphaTexture\",void 0),r([U.component],n.prototype,\"emissiveTexture\",void 0),r([U.component],n.prototype,\"bumpTexture\",void 0),r([U.component],n.prototype,\"refractionTexture\",void 0),r([U.field],n.prototype,\"castShadows\",void 0),r([U.field],n.prototype,\"transparencyMode\",void 0),n=r([F(\"engine.material\",t.CLASS_ID.PBR_MATERIAL)],n)}(U),xe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.alphaTest=.5,t.castShadows=!0,t}return o(n,e),r([U.component],n.prototype,\"texture\",void 0),r([U.field],n.prototype,\"alphaTest\",void 0),r([U.field],n.prototype,\"castShadows\",void 0),n=r([F(\"engine.material\",t.CLASS_ID.BASIC_MATERIAL)],n)}(U),we=function(t){function e(e){var n=t.call(this)||this;if(n.uuid=f(\"UUID\"),!e||!(\"apply\"in e)||!(\"call\"in e))throw new Error(\"Callback is not a function\");return n.callback=e,n}return o(e,t),e.uuidEvent=function(t,n){if(delete t[n]){var o=n+\"_\"+Math.random();t[o]=void 0,Object.defineProperty(t,o,i(i({},Object.getOwnPropertyDescriptor(t,o)),{enumerable:!1})),Object.defineProperty(t,n.toString(),{get:function(){return this[o]},set:function(t){var i=this[o];if(t){if(!(t instanceof e))throw new Error(\"value is not an OnUUIDEvent\");this.data[n]=t.uuid}else this.data[n]=null;if(this[o]=t,t!==i){this.dirty=!0;for(var r=0;r<this.subscriptions.length;r++)this.subscriptions[r](n,t,i)}},enumerable:!0})}},e.prototype.toJSON=function(){return{uuid:this.uuid,type:this.type}},r([U.field],e.prototype,\"callback\",void 0),e}(U),Te=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.button=t.ActionButton.ANY,n.hoverText=\"Interact\",n.distance=10,n.showFeedback=!0,n}return o(n,e),n.prototype.toJSON=function(){return{uuid:this.uuid,type:this.type,button:this.button,hoverText:this.hoverText,distance:this.distance,showFeedback:this.showFeedback}},r([U.field],n.prototype,\"button\",void 0),r([U.field],n.prototype,\"hoverText\",void 0),r([U.field],n.prototype,\"distance\",void 0),r([U.field],n.prototype,\"showFeedback\",void 0),n}(we),Re=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=\"onPointerLock\",t}return o(n,e),r([U.readonly],n.prototype,\"type\",void 0),n=r([M(\"engine.onPointerLock\",t.CLASS_ID.UUID_CALLBACK)],n)}(we),be=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=\"onAnimationEnd\",t}return o(n,e),r([U.readonly],n.prototype,\"type\",void 0),n=r([M(\"engine.onAnimationEnd\",t.CLASS_ID.UUID_CALLBACK)],n)}(we),Ae=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n=r([M(\"engine.smartItem\",t.CLASS_ID.SMART_ITEM)],n)}(U),Ee=function(e){function n(t){var n=e.call(this)||this;return n.url=t,n}return o(n,e),r([U.readonly],n.prototype,\"url\",void 0),n=r([F(\"engine.VideoClip\",t.CLASS_ID.VIDEO_CLIP)],n)}(U);t.VideoStatus=void 0,(ge=t.VideoStatus||(t.VideoStatus={}))[ge.NONE=0]=\"NONE\",ge[ge.ERROR=1]=\"ERROR\",ge[ge.LOADING=2]=\"LOADING\",ge[ge.READY=3]=\"READY\",ge[ge.PLAYING=4]=\"PLAYING\",ge[ge.BUFFERING=5]=\"BUFFERING\";var Se,Ce=function(e){function n(n,o){var i=e.call(this)||this;if(i.volume=1,i.playbackRate=1,i.loop=!1,i.seek=-1,i._position=-1,i._videoLength=-1,i._status=t.VideoStatus.NONE,i.playing=!1,!(n instanceof Ee))throw new Error(\"Trying to create VideoTexture(VideoClip) with an invalid VideoClip\");if(i.videoClipId=D(n),o)for(var r in o){i[r]=o[r]}return i}return o(n,e),n.prototype.play=function(){this.playing=!0},n.prototype.pause=function(){this.playing=!1},n.prototype.reset=function(){this.seekTime(0),this.pause()},n.prototype.seekTime=function(t){this.seek=t,this.dirty=!0,this.data.nonce=Math.random()},n.prototype.toJSON=function(){if(this.seek>=0){var t=JSON.parse(JSON.stringify(e.prototype.toJSON.call(this)));return this.seek=-1,t}return e.prototype.toJSON.call(this)},n.prototype.update=function(e){e.videoClipId==this.videoClipId&&(this._status=e.videoStatus||t.VideoStatus.NONE,this._videoLength=e.totalVideoLength,this._position=e.currentOffset)},Object.defineProperty(n.prototype,\"position\",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\"videoLength\",{get:function(){return this._videoLength},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\"status\",{get:function(){return this._status},enumerable:!1,configurable:!0}),r([U.readonly],n.prototype,\"videoClipId\",void 0),r([U.readonly],n.prototype,\"samplingMode\",void 0),r([U.readonly],n.prototype,\"wrap\",void 0),r([U.field],n.prototype,\"volume\",void 0),r([U.field],n.prototype,\"playbackRate\",void 0),r([U.field],n.prototype,\"loop\",void 0),r([U.field],n.prototype,\"seek\",void 0),r([U.field],n.prototype,\"playing\",void 0),n=r([F(\"engine.VideoTexture\",t.CLASS_ID.VIDEO_TEXTURE)],n)}(U),Ie=function(){function e(){var e=this;this.position=new Et,this.rotation=new At,this.feetPosition=new Et,this.worldPosition=new Et,this.lastEventPosition={x:0,y:0,z:0},this.lastEventWorldPosition={x:0,y:0,z:0},this.lastEventRotation={x:0,y:0,z:0,w:1},this._playerHeight=1.6,this._cameraMode=t.CameraMode.FirstPerson,\"undefined\"!=typeof dcl&&(dcl.subscribe(\"positionChanged\"),dcl.subscribe(\"rotationChanged\"),dcl.subscribe(\"cameraModeChanged\"),dcl.onEvent((function(t){switch(t.type){case\"positionChanged\":e.positionChanged(t.data);break;case\"rotationChanged\":e.rotationChanged(t.data);break;case\"cameraModeChanged\":e.cameraModeChanged(t.data)}}))),Object.defineProperty(this.position,\"x\",{get:function(){return e.lastEventPosition.x}}),Object.defineProperty(this.position,\"y\",{get:function(){return e.lastEventPosition.y}}),Object.defineProperty(this.position,\"z\",{get:function(){return e.lastEventPosition.z}}),Object.defineProperty(this.worldPosition,\"x\",{get:function(){return e.lastEventWorldPosition.x}}),Object.defineProperty(this.worldPosition,\"y\",{get:function(){return e.lastEventWorldPosition.y}}),Object.defineProperty(this.worldPosition,\"z\",{get:function(){return e.lastEventWorldPosition.z}}),Object.defineProperty(this.feetPosition,\"x\",{get:function(){return e.lastEventPosition.x}}),Object.defineProperty(this.feetPosition,\"y\",{get:function(){return e.lastEventPosition.y-e.playerHeight}}),Object.defineProperty(this.feetPosition,\"z\",{get:function(){return e.lastEventPosition.z}}),Object.defineProperty(this.rotation,\"x\",{get:function(){return e.lastEventRotation.x}}),Object.defineProperty(this.rotation,\"y\",{get:function(){return e.lastEventRotation.y}}),Object.defineProperty(this.rotation,\"z\",{get:function(){return e.lastEventRotation.z}}),Object.defineProperty(this.rotation,\"w\",{get:function(){return e.lastEventRotation.w}})}return Object.defineProperty(e,\"instance\",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"playerHeight\",{get:function(){return this._playerHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"cameraMode\",{get:function(){return this._cameraMode},enumerable:!1,configurable:!0}),e.prototype.positionChanged=function(t){this.lastEventPosition=t.position,this.lastEventWorldPosition=t.cameraPosition,this._playerHeight=t.playerHeight},e.prototype.rotationChanged=function(t){this.lastEventRotation=t.quaternion},e.prototype.cameraModeChanged=function(t){this._cameraMode=t.cameraMode},e}();!function(t){t.HitFirst=\"rqhf\",t.HitAll=\"rqha\"}(Se||(Se={}));var ze,Pe=function(){function t(){this.queries={}}return Object.defineProperty(t,\"instance\",{get:function(){return t.ensureInstance(),t._instance},enumerable:!1,configurable:!0}),t.ensureInstance=function(){t._instance||(t._instance=new t)},t.prototype.getRayFromCamera=function(t){var e=Ie.instance.rotation,n=bt.Identity();e.toRotationMatrix(n);var o=Et.TransformCoordinates(Et.Forward(),n);return{origin:Ie.instance.position,direction:o,distance:t}},t.prototype.getRayFromPositions=function(t,e){var n=e.subtract(t),o=n.length();return{origin:t,direction:n.normalize(),distance:o}},t.prototype.hitFirst=function(t,e,n){var o=\"number\"==typeof n?Se.HitFirst+n:y();this.queries[o]=e,\"undefined\"!=typeof dcl&&dcl.query(\"raycast\",{queryId:o,queryType:\"HitFirst\",ray:t})},t.prototype.hitAll=function(t,e,n){var o=\"number\"==typeof n?Se.HitAll+n:y();this.queries[o]=e,\"undefined\"!=typeof dcl&&dcl.query(\"raycast\",{queryId:o,queryType:\"HitAll\",ray:t})},t.prototype.hitFirstAvatar=function(t,e){d(\"not implemented yet\")},t.prototype.hitAllAvatars=function(t,e){d(\"not implemented yet\")},t.prototype.handleRaycastHitFirstResponse=function(t){this.queries[t.payload.queryId](t.payload.payload),delete this.queries[t.payload.queryId]},t.prototype.handleRaycastHitAllResponse=function(t){this.queries[t.payload.queryId](t.payload.payload),delete this.queries[t.payload.queryId]},t}(),Oe=function(){function t(){}return t.prototype.activate=function(t){t.eventManager.addListener(K,this,(function(t){\"HitFirst\"===t.payload.queryType?Pe.instance.handleRaycastHitFirstResponse(t):\"HitAll\"===t.payload.queryType&&Pe.instance.handleRaycastHitAllResponse(t)})),\"undefined\"!=typeof dcl&&dcl.subscribe(\"raycastResponse\")},t.prototype.deactivate=function(){\"undefined\"!=typeof dcl&&dcl.unsubscribe(\"raycastResponse\")},t}(),Me=function(){function t(){}return t.prototype.activate=function(t){t.eventManager.addListener($,this,(function(t){Qt.instance.handlePointerEvent(t.payload)})),\"undefined\"!=typeof dcl&&(dcl.subscribe(\"pointerUp\"),dcl.subscribe(\"pointerDown\"),dcl.subscribe(\"pointerEvent\"))},t.prototype.deactivate=function(){\"undefined\"!=typeof dcl&&(dcl.unsubscribe(\"pointerUp\"),dcl.unsubscribe(\"pointerDown\"),dcl.unsubscribe(\"pointerEvent\"))},t}(),Fe=function(){function t(){this.handlerMap={}}return t.prototype.activate=function(t){t.eventManager.addListener(Q,this,this.handleEvent),t.eventManager.addListener(b,this,this.componentAdded),t.eventManager.addListener(R,this,this.componentRemoved),\"undefined\"!=typeof dcl&&dcl.subscribe(\"uuidEvent\")},t.prototype.deactivate=function(){\"undefined\"!=typeof dcl&&dcl.unsubscribe(\"uuidEvent\")},t.prototype.onAddEntity=function(t){for(var e in t.components){var n=t.components[e];n instanceof we&&(this.handlerMap[n.uuid]=n)}},t.prototype.onRemoveEntity=function(t){for(var e in t.components){var n=t.components[e];n instanceof we&&delete this.handlerMap[n.uuid]}},t.prototype.componentAdded=function(t){if(t.entity.isAddedToEngine()){var e=t.entity.components[t.componentName];e instanceof we&&(this.handlerMap[e.uuid]=e)}},t.prototype.componentRemoved=function(t){t.entity.isAddedToEngine()&&t.component instanceof we&&delete this.handlerMap[t.component.uuid]},t.prototype.handleEvent=function(t){if(t.uuid in this.handlerMap){var e=this.handlerMap[t.uuid];e&&e.callback&&\"call\"in e.callback&&e.callback(t.payload)}},t}(),Le=new Oe,Ne=new Me,De=new Fe,Ue=function(e){function n(t){var n=e.call(this)||this;return n.loop=!1,n.volume=1,n.url=t,n}return o(n,e),r([U.readonly],n.prototype,\"url\",void 0),r([U.field],n.prototype,\"loop\",void 0),r([U.field],n.prototype,\"loadingCompleteEventId\",void 0),r([U.field],n.prototype,\"volume\",void 0),n=r([F(\"engine.AudioClip\",t.CLASS_ID.AUDIO_CLIP)],n)}(U),Be=function(e){function n(t){var n=e.call(this)||this;if(n.audioClip=t,n.loop=!1,n.volume=1,n.playing=!1,n.pitch=1,n.playedAtTimestamp=Date.now(),!(t instanceof Ue))throw new Error(\"Trying to create AudioSource(AudioClip) with an invalid AudioClip\");return n.audioClipId=D(t),n}return o(n,e),n.prototype.playOnce=function(){return this.playing=!0,this.dirty=!0,this.playedAtTimestamp=Date.now(),this.data.nonce=Math.random(),this},r([U.readonly],n.prototype,\"audioClipId\",void 0),r([U.field],n.prototype,\"loop\",void 0),r([U.field],n.prototype,\"volume\",void 0),r([U.field],n.prototype,\"playing\",void 0),r([U.field],n.prototype,\"pitch\",void 0),r([U.field],n.prototype,\"playedAtTimestamp\",void 0),n=r([M(\"engine.AudioSource\",t.CLASS_ID.AUDIO_SOURCE)],n)}(U),He=function(e){function n(t){var n=e.call(this)||this;return n.playing=!1,n.volume=1,n.url=t,n.playing=!0,n}return o(n,e),r([U.readonly],n.prototype,\"url\",void 0),r([U.field],n.prototype,\"playing\",void 0),r([U.field],n.prototype,\"volume\",void 0),n=r([M(\"engine.AudioStream\",t.CLASS_ID.AUDIO_STREAM)],n)}(U);t.Gizmo=void 0,(ze=t.Gizmo||(t.Gizmo={})).MOVE=\"MOVE\",ze.ROTATE=\"ROTATE\",ze.SCALE=\"SCALE\",ze.NONE=\"NONE\";var ke,Ve=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=\"gizmoEvent\",t}return o(n,e),r([U.readonly],n.prototype,\"type\",void 0),n=r([M(\"engine.gizmoEvent\",t.CLASS_ID.UUID_CALLBACK)],n)}(we),We=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.position=!0,t.rotation=!0,t.scale=!0,t.cycle=!0,t.localReference=!1,t}return o(n,e),r([U.field],n.prototype,\"position\",void 0),r([U.field],n.prototype,\"rotation\",void 0),r([U.field],n.prototype,\"scale\",void 0),r([U.field],n.prototype,\"cycle\",void 0),r([U.field],n.prototype,\"selectedGizmo\",void 0),r([U.field],n.prototype,\"localReference\",void 0),n=r([M(\"engine.gizmos\",t.CLASS_ID.GIZMOS)],n)}(U),qe=function(t){function e(e){var n=t.call(this)||this;return n.name=null,n.visible=!0,n.opacity=1,n.hAlign=\"center\",n.vAlign=\"center\",n.width=\"100px\",n.height=\"50px\",n.positionX=\"0px\",n.positionY=\"0px\",n.isPointerBlocker=!0,e&&(n._parent=e,n.data.parentComponent=D(e)),n}return o(e,t),Object.defineProperty(e.prototype,\"parent\",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"parentComponent\",{get:function(){return this.data.parentComponent},enumerable:!1,configurable:!0}),r([U.field],e.prototype,\"name\",void 0),r([U.field],e.prototype,\"visible\",void 0),r([U.field],e.prototype,\"opacity\",void 0),r([U.field],e.prototype,\"hAlign\",void 0),r([U.field],e.prototype,\"vAlign\",void 0),r([U.uiValue],e.prototype,\"width\",void 0),r([U.uiValue],e.prototype,\"height\",void 0),r([U.uiValue],e.prototype,\"positionX\",void 0),r([U.uiValue],e.prototype,\"positionY\",void 0),r([U.field],e.prototype,\"isPointerBlocker\",void 0),e}(U),Ge=function(e){function n(){return e.call(this,null)||this}return o(n,e),n=r([F(\"engine.shape\",t.CLASS_ID.UI_FULLSCREEN_SHAPE)],n)}(qe),je=function(e){function n(){return e.call(this,null)||this}return o(n,e),n=r([F(\"engine.shape\",t.CLASS_ID.UI_WORLD_SPACE_SHAPE)],n)}(qe),Ye=function(e){function n(){return e.call(this,null)||this}return o(n,e),n=r([F(\"engine.shape\",t.CLASS_ID.UI_SCREEN_SPACE_SHAPE)],n)}(qe),Xe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.adaptWidth=!1,t.adaptHeight=!1,t.thickness=0,t.color=Mt.Clear(),t.alignmentUsesSize=!0,t}return o(n,e),r([U.field],n.prototype,\"adaptWidth\",void 0),r([U.field],n.prototype,\"adaptHeight\",void 0),r([U.field],n.prototype,\"thickness\",void 0),r([U.field],n.prototype,\"color\",void 0),r([U.field],n.prototype,\"alignmentUsesSize\",void 0),n=r([F(\"engine.shape\",t.CLASS_ID.UI_CONTAINER_RECT)],n)}(qe);t.UIStackOrientation=void 0,(ke=t.UIStackOrientation||(t.UIStackOrientation={}))[ke.VERTICAL=0]=\"VERTICAL\",ke[ke.HORIZONTAL=1]=\"HORIZONTAL\";var Ze=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.adaptWidth=!0,n.adaptHeight=!0,n.color=Mt.Clear(),n.stackOrientation=t.UIStackOrientation.VERTICAL,n.spacing=0,n}return o(n,e),r([U.field],n.prototype,\"adaptWidth\",void 0),r([U.field],n.prototype,\"adaptHeight\",void 0),r([U.field],n.prototype,\"color\",void 0),r([U.field],n.prototype,\"stackOrientation\",void 0),r([U.field],n.prototype,\"spacing\",void 0),n=r([F(\"engine.shape\",t.CLASS_ID.UI_CONTAINER_STACK)],n)}(qe),Je=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.fontSize=10,t.fontWeight=\"normal\",t.thickness=0,t.cornerRadius=0,t.color=Mt.White(),t.background=Mt.White(),t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.paddingLeft=0,t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=Mt.Black(),t.text=\"button\",t}return o(n,e),r([U.field],n.prototype,\"fontSize\",void 0),r([U.field],n.prototype,\"fontWeight\",void 0),r([U.field],n.prototype,\"thickness\",void 0),r([U.field],n.prototype,\"cornerRadius\",void 0),r([U.field],n.prototype,\"color\",void 0),r([U.field],n.prototype,\"background\",void 0),r([U.field],n.prototype,\"paddingTop\",void 0),r([U.field],n.prototype,\"paddingRight\",void 0),r([U.field],n.prototype,\"paddingBottom\",void 0),r([U.field],n.prototype,\"paddingLeft\",void 0),r([U.field],n.prototype,\"shadowBlur\",void 0),r([U.field],n.prototype,\"shadowOffsetX\",void 0),r([U.field],n.prototype,\"shadowOffsetY\",void 0),r([U.field],n.prototype,\"shadowColor\",void 0),r([U.field],n.prototype,\"text\",void 0),n=r([F(\"engine.shape\",t.CLASS_ID.UI_BUTTON_SHAPE)],n)}(qe),Qe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.outlineWidth=0,t.outlineColor=Mt.White(),t.color=Mt.White(),t.fontSize=10,t.fontAutoSize=!1,t.fontWeight=\"normal\",t.value=\"\",t.lineSpacing=0,t.lineCount=0,t.adaptWidth=!1,t.adaptHeight=!1,t.textWrapping=!1,t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=Mt.Black(),t.hTextAlign=\"left\",t.vTextAlign=\"bottom\",t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.paddingLeft=0,t}return o(n,e),r([U.field],n.prototype,\"outlineWidth\",void 0),r([U.field],n.prototype,\"outlineColor\",void 0),r([U.field],n.prototype,\"color\",void 0),r([U.field],n.prototype,\"fontSize\",void 0),r([U.field],n.prototype,\"fontAutoSize\",void 0),r([U.field],n.prototype,\"fontWeight\",void 0),r([U.component],n.prototype,\"font\",void 0),r([U.field],n.prototype,\"value\",void 0),r([U.field],n.prototype,\"lineSpacing\",void 0),r([U.field],n.prototype,\"lineCount\",void 0),r([U.field],n.prototype,\"adaptWidth\",void 0),r([U.field],n.prototype,\"adaptHeight\",void 0),r([U.field],n.prototype,\"textWrapping\",void 0),r([U.field],n.prototype,\"shadowBlur\",void 0),r([U.field],n.prototype,\"shadowOffsetX\",void 0),r([U.field],n.prototype,\"shadowOffsetY\",void 0),r([U.field],n.prototype,\"shadowColor\",void 0),r([U.field],n.prototype,\"hTextAlign\",void 0),r([U.field],n.prototype,\"vTextAlign\",void 0),r([U.field],n.prototype,\"paddingTop\",void 0),r([U.field],n.prototype,\"paddingRight\",void 0),r([U.field],n.prototype,\"paddingBottom\",void 0),r([U.field],n.prototype,\"paddingLeft\",void 0),n=r([F(\"engine.shape\",t.CLASS_ID.UI_TEXT_SHAPE)],n)}(qe),Ke=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.outlineWidth=0,t.outlineColor=Mt.Black(),t.color=Mt.Clear(),t.thickness=1,t.fontSize=10,t.fontWeight=\"normal\",t.value=\"\",t.placeholderColor=Mt.White(),t.placeholder=\"\",t.margin=10,t.maxWidth=100,t.hTextAlign=\"left\",t.vTextAlign=\"bottom\",t.autoStretchWidth=!0,t.background=Mt.Black(),t.focusedBackground=Mt.Black(),t.textWrapping=!1,t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=Mt.White(),t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.paddingLeft=0,t.onTextSubmit=null,t.onChanged=null,t.onFocus=null,t.onBlur=null,t}return o(n,e),r([U.field],n.prototype,\"outlineWidth\",void 0),r([U.field],n.prototype,\"outlineColor\",void 0),r([U.field],n.prototype,\"color\",void 0),r([U.field],n.prototype,\"thickness\",void 0),r([U.field],n.prototype,\"fontSize\",void 0),r([U.field],n.prototype,\"fontWeight\",void 0),r([U.component],n.prototype,\"font\",void 0),r([U.field],n.prototype,\"value\",void 0),r([U.field],n.prototype,\"placeholderColor\",void 0),r([U.field],n.prototype,\"placeholder\",void 0),r([U.field],n.prototype,\"margin\",void 0),r([U.field],n.prototype,\"maxWidth\",void 0),r([U.field],n.prototype,\"hTextAlign\",void 0),r([U.field],n.prototype,\"vTextAlign\",void 0),r([U.field],n.prototype,\"autoStretchWidth\",void 0),r([U.field],n.prototype,\"background\",void 0),r([U.field],n.prototype,\"focusedBackground\",void 0),r([U.field],n.prototype,\"textWrapping\",void 0),r([U.field],n.prototype,\"shadowBlur\",void 0),r([U.field],n.prototype,\"shadowOffsetX\",void 0),r([U.field],n.prototype,\"shadowOffsetY\",void 0),r([U.field],n.prototype,\"shadowColor\",void 0),r([U.field],n.prototype,\"paddingTop\",void 0),r([U.field],n.prototype,\"paddingRight\",void 0),r([U.field],n.prototype,\"paddingBottom\",void 0),r([U.field],n.prototype,\"paddingLeft\",void 0),r([we.uuidEvent],n.prototype,\"onTextSubmit\",void 0),r([we.uuidEvent],n.prototype,\"onChanged\",void 0),r([we.uuidEvent],n.prototype,\"onFocus\",void 0),r([we.uuidEvent],n.prototype,\"onBlur\",void 0),n=r([F(\"engine.shape\",t.CLASS_ID.UI_INPUT_TEXT_SHAPE)],n)}(qe),$e=function(e){function n(t,n){var o=e.call(this,t)||this;return o.sourceLeft=0,o.sourceTop=0,o.sourceWidth=1,o.sourceHeight=1,o.paddingTop=0,o.paddingRight=0,o.paddingBottom=0,o.paddingLeft=0,o.sizeInPixels=!0,o.onClick=null,o.source=n,o}return o(n,e),r([U.field],n.prototype,\"sourceLeft\",void 0),r([U.field],n.prototype,\"sourceTop\",void 0),r([U.field],n.prototype,\"sourceWidth\",void 0),r([U.field],n.prototype,\"sourceHeight\",void 0),r([U.component],n.prototype,\"source\",void 0),r([U.field],n.prototype,\"paddingTop\",void 0),r([U.field],n.prototype,\"paddingRight\",void 0),r([U.field],n.prototype,\"paddingBottom\",void 0),r([U.field],n.prototype,\"paddingLeft\",void 0),r([U.field],n.prototype,\"sizeInPixels\",void 0),r([we.uuidEvent],n.prototype,\"onClick\",void 0),n=r([F(\"engine.shape\",t.CLASS_ID.UI_IMAGE_SHAPE)],n)}(qe),tn=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.valueX=0,t.valueY=0,t.borderColor=Mt.White(),t.backgroundColor=Mt.Clear(),t.isHorizontal=!1,t.isVertical=!1,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.paddingLeft=0,t.onChanged=null,t}return o(n,e),r([U.field],n.prototype,\"valueX\",void 0),r([U.field],n.prototype,\"valueY\",void 0),r([U.field],n.prototype,\"borderColor\",void 0),r([U.field],n.prototype,\"backgroundColor\",void 0),r([U.field],n.prototype,\"isHorizontal\",void 0),r([U.field],n.prototype,\"isVertical\",void 0),r([U.field],n.prototype,\"paddingTop\",void 0),r([U.field],n.prototype,\"paddingRight\",void 0),r([U.field],n.prototype,\"paddingBottom\",void 0),r([U.field],n.prototype,\"paddingLeft\",void 0),r([we.uuidEvent],n.prototype,\"onChanged\",void 0),n=r([F(\"engine.shape\",t.CLASS_ID.UI_SLIDER_SHAPE)],n)}(qe),en=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.useDummyModel=!1,t.talking=!1,t}var i;return o(n,e),i=n,n.Dummy=function(){var t=new i;return t.useDummyModel=!0,t},r([U.field],n.prototype,\"id\",void 0),r([U.field],n.prototype,\"name\",void 0),r([U.field],n.prototype,\"expressionTriggerId\",void 0),r([U.field],n.prototype,\"expressionTriggerTimestamp\",void 0),r([U.field],n.prototype,\"bodyShape\",void 0),r([U.field],n.prototype,\"wearables\",void 0),r([U.field],n.prototype,\"skinColor\",void 0),r([U.field],n.prototype,\"hairColor\",void 0),r([U.field],n.prototype,\"eyeColor\",void 0),r([U.field],n.prototype,\"useDummyModel\",void 0),r([U.field],n.prototype,\"talking\",void 0),n=i=r([M(\"engine.avatarShape\",t.CLASS_ID.AVATAR_SHAPE)],n)}(U),nn=function(e){function n(t){var n=e.call(this,t)||this;return n.type=\"onFocus\",De.handlerMap[n.uuid]=n,n}return o(n,e),r([U.readonly],n.prototype,\"type\",void 0),n=r([M(\"engine.onFocus\",t.CLASS_ID.UUID_CALLBACK)],n)}(we),on=function(e){function n(t){var n=e.call(this,t)||this;return n.type=\"onTextSubmit\",De.handlerMap[n.uuid]=n,n}return o(n,e),r([U.readonly],n.prototype,\"type\",void 0),n=r([M(\"engine.onTextSubmit\",t.CLASS_ID.UUID_CALLBACK)],n)}(we),rn=function(e){function n(t){var n=e.call(this,t)||this;return n.type=\"onBlur\",De.handlerMap[n.uuid]=n,n}return o(n,e),r([U.readonly],n.prototype,\"type\",void 0),n=r([M(\"engine.onBlur\",t.CLASS_ID.UUID_CALLBACK)],n)}(we),sn=function(e){function n(t){var n=e.call(this,t)||this;return n.type=\"onEnter\",De.handlerMap[n.uuid]=n,n}return o(n,e),r([U.readonly],n.prototype,\"type\",void 0),n=r([M(\"engine.onEnter\",t.CLASS_ID.UUID_CALLBACK)],n)}(we),an=function(e){function n(t){var n=e.call(this,t)||this;return n.type=\"onChange\",De.handlerMap[n.uuid]=n,n}return o(n,e),r([U.readonly],n.prototype,\"type\",void 0),n=r([M(\"engine.onChange\",t.CLASS_ID.UUID_CALLBACK)],n)}(we),un=function(e){function n(t,n){var o=e.call(this,t)||this;return o.type=\"onClick\",De.handlerMap[o.uuid]=o,n&&(o.showFeedback=!(!1===n.showFeedback),n.button&&(o.button=n.button),n.hoverText&&(o.hoverText=n.hoverText),n.distance&&(o.distance=n.distance)),o}return o(n,e),r([U.readonly],n.prototype,\"type\",void 0),n=r([M(\"engine.onClick\",t.CLASS_ID.UUID_CALLBACK)],n)}(Te),pn=function(e){function n(t,n){var o=e.call(this,t)||this;return o.type=\"pointerDown\",De.handlerMap[o.uuid]=o,n&&(o.showFeedback=!(!1===n.showFeedback),n.button&&(o.button=n.button),n.hoverText&&(o.hoverText=n.hoverText),n.distance&&(o.distance=n.distance)),o}return o(n,e),r([U.readonly],n.prototype,\"type\",void 0),n=r([M(\"engine.pointerDown\",t.CLASS_ID.UUID_CALLBACK)],n)}(Te),hn=function(e){function n(t,n){var o=e.call(this,t)||this;return o.type=\"pointerUp\",De.handlerMap[o.uuid]=o,n&&(o.showFeedback=!(!1===n.showFeedback),n.button&&(o.button=n.button),n.hoverText&&(o.hoverText=n.hoverText),n.distance&&(o.distance=n.distance)),o}return o(n,e),r([U.readonly],n.prototype,\"type\",void 0),n=r([M(\"engine.pointerUp\",t.CLASS_ID.UUID_CALLBACK)],n)}(Te),cn=null,dn=null,ln=null;function fn(){return ln||(ln=new Z),ln}var yn=function(){function t(){var t=this;this.messageQueue=[],this.connected=!1,this.flushing=!1,function(){if(!dn){(dn=dcl.loadModule(\"@decentraland/CommunicationsController\",{})).then((function(t){cn=t}));var t=fn();dcl.subscribe(\"comms\"),dcl.onEvent((function(e){\"comms\"===e.type&&t.notifyObservers(e.data)}))}return dn}().then((function(e){t.connected=!0,t.flush()}))}return t.prototype.on=function(t,e){return fn().add((function(n){try{var o=JSON.parse(n.message);o.message===t&&e(o.payload,n.sender)}catch(n){dcl.error(\"Error parsing comms message \"+(n.message||\"\"),n)}}))},t.prototype.sendRaw=function(t){this.messageQueue.push(t),this.connected&&this.flush()},t.prototype.emit=function(t,e){var n=JSON.stringify({message:t,payload:e});this.sendRaw(n),fn().notifyObservers({message:n,sender:\"self\"})},t.prototype.flush=function(){var t=this;if(0!==this.messageQueue.length&&this.connected&&cn&&!this.flushing){var e=this.messageQueue.shift();this.flushing=!0,dcl.callRpc(cn.rpcHandle,\"send\",[e]).then((function(e){t.flushing=!1,t.flush()}),(function(e){t.flushing=!1,l(\"Error flushing MessageBus\",e)}))}},t}(),vn=new k(\"scene\");vn.uuid=\"0\";var mn=new V(vn);F.engine=mn,\"undefined\"!=typeof dcl&&(mn.addSystem(new ft(dcl),1/0),ct(dcl)),mn.addSystem(De),mn.addSystem(Ne),mn.addSystem(Le),t.AVATAR_OBSERVABLE=\"AVATAR_OBSERVABLE\",t.Angle=Ct,t.AnimationState=Vt,t.Animator=le,t.Arc2=zt,t.Attachable=e,t.AudioClip=Ue,t.AudioSource=Be,t.AudioStream=He,t.AvatarModifierArea=$t,t.AvatarShape=en,t.Axis=Pt,t.BasicMaterial=xe,t.BezierCurve=Ot,t.Billboard=ee,t.BoxShape=oe,t.Camera=Ie,t.CircleShape=re,t.Color3=Ft,t.Color4=Mt,t.Component=M,t.ComponentAdded=b,t.ComponentGroup=H,t.ComponentRemoved=R,t.ConeShape=ae,t.Curve3=Lt,t.CylinderShape=ue,t.DEG2RAD=xt,t.DisposableComponent=F,t.DisposableComponentCreated=z,t.DisposableComponentRemoved=P,t.DisposableComponentUpdated=O,t.Engine=V,t.Entity=k,t.Epsilon=_t,t.EventConstructor=w,t.EventManager=x,t.Font=ye,t.Frustum=Dt,t.GLTFShape=pe,t.Gizmos=We,t.GlobalPointerDown=Xt,t.GlobalPointerUp=Zt,t.Input=Qt,t.Material=_e,t.MathTmp=St,t.Matrix=bt,t.MessageBus=yn,t.MultiObserver=X,t.NFTShape=ce,t.OBJShape=fe,t.Observable=Z,t.ObservableComponent=U,t.Observer=Y,t.ObserverEventState=j,t.OnAnimationEnd=be,t.OnBlur=rn,t.OnChanged=an,t.OnClick=un,t.OnEnter=sn,t.OnFocus=nn,t.OnGizmoEvent=Ve,t.OnPointerDown=pn,t.OnPointerLock=Re,t.OnPointerUUIDEvent=Te,t.OnPointerUp=hn,t.OnTextSubmit=on,t.OnUUIDEvent=we,t.ParentChanged=A,t.Path2=Ut,t.Path3D=Bt,t.PhysicsCast=Pe,t.Plane=Nt,t.PlaneShape=se,t.PointerEvent=$,t.PointerEventComponent=Yt,t.PointerEventSystem=Me,t.Quaternion=At,t.RAD2DEG=wt,t.RaycastEventSystem=Oe,t.RaycastResponse=K,t.Scalar=Tt,t.Shape=ne,t.Size=Ht,t.SmartItem=Ae,t.SphereShape=ie,t.Subscription=Jt,t.TextShape=me,t.Texture=de,t.ToGammaSpace=mt,t.ToLinearSpace=gt,t.Transform=te,t.UIButton=Je,t.UICanvas=Ye,t.UIContainerRect=Xe,t.UIContainerStack=Ze,t.UIFullScreen=Ge,t.UIImage=$e,t.UIInputText=Ke,t.UIScrollRect=tn,t.UIShape=qe,t.UIText=Qe,t.UIValue=E,t.UIWorldSpace=je,t.UUIDEvent=Q,t.UUIDEventSystem=Fe,t.Vector2=It,t.Vector3=Et,t.Vector4=Rt,t.VideoClip=Ee,t.VideoTexture=Ce,t._initEventObservables=ct,t.buildArray=v,t.engine=mn,t.error=l,t.executeTask=q,t.getComponentClassId=N,t.getComponentId=D,t.getComponentName=L,t.getMessageObserver=fn,t.isDisposableComponent=B,t.log=d,t.newId=f,t.onCameraModeChangedObservable=et,t.onEnterScene=it,t.onEnterSceneObservable=ot,t.onIdleStateChangedObservable=nt,t.onLeaveScene=st,t.onLeaveSceneObservable=rt,t.onPlayerExpressionObservable=ut,t.onProfileChanged=ht,t.onSceneReadyObservable=at,t.onVideoEvent=pt,t.openExternalURL=function(t){\"undefined\"!=typeof dcl?dcl.openExternalUrl(t):l(\"ERROR: openExternalURL dcl is undefined\")},t.openNFTDialog=function(t,e){if(void 0===e&&(e=null),\"undefined\"!=typeof dcl){var n=t.match(/ethereum:\\/\\/(.+)\\/(.+)/);if(!n||n.length<3)return;dcl.openNFTDialog(n[1],n[2],e)}else l(\"ERROR: openNFTDialog dcl is undefined\")},t.pointerEventSystem=Ne,t.raycastEventSystem=Le,t.teleportTo=function(t){var e,n;e=\"requestTeleport\",n=[t],void 0===G&&\"undefined\"!=typeof dcl&&(G=dcl.loadModule(\"@decentraland/UserActionModule\",{})),void 0!==G&&\"undefined\"!=typeof dcl&&G.then((function(t){dcl.callRpc(t.rpcHandle,e,n)}))},t.uuid=y,t.uuidEventSystem=De,Object.defineProperty(t,\"__esModule\",{value:!0})}(this.self=this.self||{});",
    "sha256": "63f495211d0f106e90a6ab5f562f118147206ba3c8a749e1b2f324d5c36a91d6"
  },
  {
    "path": "node_modules/@compicactus/dcl-scene-utils/dist/index.js",
    "content": "!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports,require(\"@decentraland/Identity\"),require(\"@decentraland/web3-provider\"),require(\"eth-connect\")):\"function\"==typeof define&&define.amd?define(\"@compicactus/dcl-scene-utils\",[\"exports\",\"@decentraland/Identity\",\"@decentraland/web3-provider\",\"eth-connect\"],t):t((e=\"undefined\"!=typeof globalThis?globalThis:e||self)[\"@compicactus/dcl-scene-utils\"]={},e.Identity,e.web3Provider,e.eth)}(this,(function(e,t,n,i){\"use strict\";function a(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if(\"default\"!==n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var o=a(i),r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};\n/*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */function s(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var u=function(){return u=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u.apply(this,arguments)};function p(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}function c(e,t,n,i){return new(n||(n=Promise))((function(a,o){function r(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}u((i=i.apply(e,t||[])).next())}))}function y(e,t){var n,i,a,o,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;r;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(a=r.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){r=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(6===o[0]&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function l(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,a,o=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)r.push(i.value)}catch(e){a={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return r}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}var h=function(e,t,n){return c(void 0,void 0,void 0,(function(){var i,a;return y(this,(function(o){switch(o.label){case 0:i=0,o.label=1;case 1:if(!(i<n))return[3,6];o.label=2;case 2:return o.trys.push([2,4,,5]),[4,fetch(e,t)];case 3:return[2,o.sent()];case 4:if(a=o.sent(),i+1===n)throw a;return[3,5];case 5:return i++,[3,1];case 6:return[2]}}))}))};function g(e){for(var t=(new Date).getTime(),n=0;n<1e7&&!((new Date).getTime()-t>e);n++);}var f={Add:{position:[-.9736900329589844,.5958811640739441,.040917061269283295],rotation:[9992007221626409e-31,4.81169628585576e-8,-.3581227958202362,-.9336745142936707],scale:[.18492013216018677,.18492008745670319,.18492013216018677],uv:[.746986985206604,.8680751919746399,.8492201566696167,.8680751919746399,.8492201566696167,.9703083634376526,.746986985206604,.9703083634376526,.746986985206604,.8680751919746399,.8492201566696167,.8680751919746399,.8492201566696167,.9703083634376526,.746986985206604,.9703083634376526]},ArrowLeftCompi:{position:[1.4788908958435059,.6966143846511841,.040916964411735535],rotation:[-7105427357601002e-30,1.3435888490676007e-7,-1.0000001192092896,902615418659717e-29],scale:[.14559833705425262,.14559833705425262,.14559833705425262],uv:[.53712397813797,.8761494755744934,.6298521161079407,.8761494755744934,.6298521161079407,.9688776731491089,.53712397813797,.9688776731491089,.53712397813797,.8761494755744934,.6298521161079407,.8761494755744934,.6298521161079407,.9688776731491089,.53712397813797,.9688776731491089]},ArrowLeftQuestions:{position:[-.5068280696868896,-.20516154170036316,.0409170463681221],rotation:[-7105427357601002e-30,1.3435888490676007e-7,-1.0000001192092896,902615418659717e-29],scale:[.13791120052337646,.13791120052337646,.13791120052337646],uv:[.5374969244003296,.876522421836853,.629479169845581,.876522421836853,.629479169845581,.9685047268867493,.5374969244003296,.9685047268867493,.5374969244003296,.876522421836853,.629479169845581,.876522421836853,.629479169845581,.9685047268867493,.5374969244003296,.9685047268867493]},ArrowRightCompi:{position:[.5825899839401245,.7002140879631042,.04091687127947807],rotation:[-2842170943040401e-29,12324151505631147e-31,4.371138118131057e-8,1.0000001192092896],scale:[.15308743715286255,.15308743715286255,.15308743715286255],uv:[.5377315878868103,.8767570853233337,.6292445063591003,.8767570853233337,.6292445063591003,.9682701230049133,.5377315878868103,.9682701230049133,.5377315878868103,.8767570853233337,.6292445063591003,.8767570853233337,.6292445063591003,.9682701230049133,.5377315878868103,.9682701230049133]},ArrowRightQuestions:{position:[-1.3984005451202393,-.21152262389659882,.04091695323586464],rotation:[-2842170943040401e-29,12324151505631147e-31,4.371138118131057e-8,1.0000001192092896],scale:[.14561930298805237,.14561930298805237,.14561930298805237],uv:[.5326187610626221,.8716443181037903,.6300644874572754,.8716443181037903,.6300644874572754,.9690901637077332,.5326187610626221,.9690901637077332,.5326187610626221,.8716443181037903,.6300644874572754,.8716443181037903,.6300644874572754,.9690901637077332,.5326187610626221,.9690901637077332]},BackgroundAnswers:{position:[-.00592494010925293,-.07895167171955109,-1.060785503881334e-8],rotation:[-0,-1174602272000988e-29,8.742277657347586e-8,1],scale:[.8324118256568909,1.189159631729126,1.189159631729126],uv:[.09974434971809387,.4196958541870117,.4860137104988098,.4196958541870117,.4860137104988098,.960472822189331,.09974434971809387,.960472822189331,.09974434971809387,.4196958541870117,.4860137104988098,.4196958541870117,.4860137104988098,.960472822189331,.09974434971809387,.960472822189331]},BackgroundCompicactus:{position:[1.0598316192626953,-.04718310385942459,.0029314737766981125],rotation:[-7103880569560197e-31,-6.2252460963918566e-9,.04633298143744469,-.998926043510437],scale:[1.1614147424697876,1.1614147424697876,1.1614147424697876],uv:[.8326539993286133,.09020934253931046,.874096155166626,.09020934253931046,.874096155166626,.13165152072906494,.8326539993286133,.13165152072906494,.8326539993286133,.09020934253931046,.874096155166626,.09020934253931046,.874096155166626,.13165152072906494,.8326539993286133,.13165152072906494]},BackgroundQuestions:{position:[-.9756283760070801,-.06579305976629257,-8.83987905098138e-9],rotation:[-0,-1.3435884227419592e-7,1,-4.371138828673793e-8],scale:[.8324118256568909,1.189159631729126,1.189159631729126],uv:[.09974434971809387,.4196958541870117,.4860137104988098,.4196958541870117,.4860137104988098,.960472822189331,.09974434971809387,.960472822189331,.09974434971809387,.4196958541870117,.4860137104988098,.4196958541870117,.4860137104988098,.960472822189331,.09974434971809387,.960472822189331]},CancelRedCompi:{position:[1.0075632333755493,-.01593323051929474,.07591697573661804],rotation:[-2842170943040401e-29,12324151505631147e-31,4.371138118131057e-8,1.0000001192092896],scale:[.4886789917945862,.4886789917945862,.4886789917945862],uv:[.5147221088409424,.6938798427581787,.6448183059692383,.6938798427581787,.6448183059692383,.8239762783050537,.5147221088409424,.8239762783050537,.5147221088409424,.6938798427581787,.6448183059692383,.6938798427581787,.6448183059692383,.8239762783050537,.5147221088409424,.8239762783050537]},Compicactus:{position:[1.0598316192626953,-.04718310385942459,.044343285262584686],rotation:[901047179509523e-30,2.344884952876214e-9,-.017452403903007507,-.9998477101325989],scale:[1.1614147424697876,1.1614147424697876,1.1614147424697876],uv:[.001507878303527832,.9648514986038208,.9648514986038208,.9984922409057617,.9984921216964722,.03514862060546875,.03514862060546875,.0015079975128173828,.001507878303527832,.9648514986038208,.9648514986038208,.9984922409057617,.9984921216964722,.03514862060546875,.03514862060546875,.0015079975128173828]},EditAnswer:{position:[-.17161095142364502,.5804060697555542,.040917061269283295],rotation:[-0,0,-0,-1],scale:[.21622267365455627,.21622267365455627,.21622267365455627],uv:[.6404823064804077,.8690820932388306,.7427154779434204,.8690820932388306,.7427154779434204,.9713152647018433,.6404823064804077,.9713152647018433,.6404823064804077,.8690820932388306,.7427154779434204,.8690820932388306,.7427154779434204,.9713152647018433,.6404823064804077,.9713152647018433]},EditName:{position:[1.023306131362915,.9744213819503784,.040916845202445984],rotation:[-0,0,-0,-1],scale:[.21622267365455627,.21622267365455627,.21622267365455627],uv:[.6404823064804077,.8690820932388306,.7427154779434204,.8690820932388306,.7427154779434204,.9713152647018433,.6404823064804077,.9713152647018433,.6404823064804077,.8690820932388306,.7427154779434204,.8690820932388306,.7427154779434204,.9713152647018433,.6404823064804077,.9713152647018433]},Help:{position:[-.4528905153274536,1.1889170408248901,.04091717302799225],rotation:[-0,0,-0,-1],scale:[.36114898324012756,.18057449162006378,.36114898324012756],uv:[.6136775016784668,.13104644417762756,.7717379331588745,.13104644417762756,.7717379331588745,.21007665991783142,.6136775016784668,.21007665991783142,.6136775016784668,.13104644417762756,.7717379331588745,.13104644417762756,.7717379331588745,.21007665991783142,.6136775016784668,.21007665991783142]},Mint:{position:[-.002437543123960495,1.3288666009902954,.04091716185212135],rotation:[-0,0,-0,-1],scale:[.4449852406978607,.22249262034893036,.4449852406978607],uv:[.4526936113834381,.13239853084087372,.6056946516036987,.13239853084087372,.6056946516036987,.20889903604984283,.4526936113834381,.20889903604984283,.4526936113834381,.13239853084087372,.6056946516036987,.13239853084087372,.6056946516036987,.20889903604984283,.4526936113834381,.20889903604984283]},Name:{position:[1.0389444828033447,.7171220183372498,.040916867554187775],rotation:[-2842170943040401e-29,12324151505631147e-31,4.371138118131057e-8,1.0000001192092896],scale:[.6634318828582764,.28844866156578064,.28844866156578064],uv:[.5097656846046448,.2790776193141937,.739005982875824,.2790776193141937,.739005982875824,.3787473142147064,.5097656846046448,.3787473142147064,.5097656846046448,.2790776193141937,.739005982875824,.2790776193141937,.739005982875824,.3787473142147064,.5097656846046448,.3787473142147064]},OkGreenCompi:{position:[1.0075632333755493,-.01593323051929474,.08991697430610657],rotation:[-2842170943040401e-29,12324151505631147e-31,4.371138118131057e-8,1.0000001192092896],scale:[.4886789917945862,.4886789917945862,.4886789917945862],uv:[.6978199481964111,.6938798427581787,.827916145324707,.6938798427581787,.827916145324707,.8239762783050537,.6978199481964111,.8239762783050537,.6978199481964111,.6938798427581787,.827916145324707,.6938798427581787,.827916145324707,.8239762783050537,.6978199481964111,.8239762783050537]},PolygonMana:{position:[.5321251749992371,1.2641630172729492,.04091712832450867],rotation:[-0,0,-0,-1],scale:[.528679609298706,.505429208278656,.47581160068511963],uv:[.21294867992401123,.026864349842071533,.4362680912017822,.026864349842071533,.4362680912017822,.22785180807113647,.21294867992401123,.22785180807113647,.21294867992401123,.026864349842071533,.4362680912017822,.026864349842071533,.4362680912017822,.22785180807113647,.21294867992401123,.22785180807113647]},Remove:{position:[.10745614767074585,.5804059505462646,.040917061269283295],rotation:[-0,0,-0,-1],scale:[.19285941123962402,.19285941123962402,.19285941123962402],uv:[.7486777305603027,.8712334632873535,.8466081619262695,.8712334632873535,.8466081619262695,.9691638946533203,.7486777305603027,.9691638946533203,.7486777305603027,.8712334632873535,.8466081619262695,.8712334632873535,.8466081619262695,.9691638946533203,.7486777305603027,.9691638946533203]},SelectedQuestion:{position:[-.9813814163208008,.285593181848526,.06129398196935654],rotation:[-2842170943040401e-29,12324151505631147e-31,4.371138118131057e-8,1.0000001192092896],scale:[.6806405782699585,.09864357113838196,.19728714227676392],uv:[.1351213902235031,.30550289154052734,.45817357301712036,.30550289154052734,.45817357301712036,.3523220419883728,.1351213902235031,.3523220419883728,.1351213902235031,.30550289154052734,.45817357301712036,.30550289154052734,.45817357301712036,.3523220419883728,.1351213902235031,.3523220419883728]},WorkingYellowCompi:{position:[1.0075632333755493,-.01593323051929474,.10591697692871094],rotation:[-2842170943040401e-29,12324151505631147e-31,4.371138118131057e-8,1.0000001192092896],scale:[.4886789917945862,.4886789917945862,.4886789917945862],uv:[.6094315052032471,.5350365042686462,.739527702331543,.5350365042686462,.739527702331543,.6651329398155212,.6094315052032471,.6651329398155212,.6094315052032471,.5350365042686462,.739527702331543,.5350365042686462,.739527702331543,.6651329398155212,.6094315052032471,.6651329398155212]}},_=[\"Action-01-Look_R-L\",\"Action-02-Look_R\",\"Action-03-Look_L\",\"Action-04-Look-Up\",\"Action-05-Sleep\",\"Action-06-Dancing\",\"Action-07-Swinging\",\"Action-08-LOL\",\"Action-09-Pised_Off\",\"Action-10-Yawn\",\"Action-11-Alert\",\"Action-12_Sigh\"],b=function(e){function t(){var t=e.call(this)||this;return t.element_entities=[],t.current_compi=0,t.character_name=\"Compi\",t.variation={body:\"\",cigar:\"\",eyes:\"\",glasses:\"\",hat:\"\",mustache:\"\",nose:\"\",pot:\"\"},t.plane_material=new BasicMaterial,t.addComponent(new PlaneShape),t.addComponent(t.plane_material),t}return s(t,e),t.prototype.play_random=function(){var e=Math.floor(Math.random()*_.length);this.set_body(this.current_compi,e,!1)},t.prototype.play=function(e){this.set_body(this.current_compi,e,!1)},t.prototype.remove_elements=function(){for(var e=0;e<this.element_entities.length;e++)engine.removeEntity(this.element_entities[e])},t.prototype.set_body=function(e,t,n){return c(this,void 0,void 0,(function(){var i,a,o;return y(this,(function(r){return log(\"set mp4 body\"),this.current_compi=e,n&&(this.plane_material=new BasicMaterial,this.addComponentOrReplace(this.plane_material)),i=\"https://dweb.link/ipfs/bafybeia7pyfmyjcnjrodau2yxm3h3bs6suv3xfzwvhohktnw6v2cevayaq/mp4/\"+e+\"/\"+e+\"_\"+_[t]+\".mp4\",log(i),a=new VideoClip(i),o=new VideoTexture(a),this.plane_material.texture=o,o.playing=!0,[2]}))}))},t.prototype.set_body_=function(e){return c(this,void 0,void 0,(function(){var t,n;return y(this,(function(i){switch(i.label){case 0:return log(\"set body\"),this.remove_elements(),\"https://dweb.link/ipfs/QmVcN4A6EzBrrWcsovrKsRg5sTootZ9HmSuTadGQ2XrL9y\",t={headers:{Accept:\"application/json\"},method:\"GET\"},log(\"get variations\"),[4,h(\"https://dweb.link/ipfs/QmVcN4A6EzBrrWcsovrKsRg5sTootZ9HmSuTadGQ2XrL9y\",t,3).then((function(e){return null==e?[]:e.json()})).catch((function(e){return log(\"Error\")}))];case 1:return n=i.sent(),log(\"variations\",n),this.variation=n[e],this.add_element(\"body\"),this.add_element(\"cigar\"),this.add_element(\"eyes\"),this.add_element(\"glasses\"),this.add_element(\"hat\"),this.add_element(\"mustache\"),this.add_element(\"nose\"),this.add_element(\"pot\"),[2]}}))}))},t.prototype.add_element=function(e){\"\"!=this.variation[e]&&(this.element_entities.push(new Entity),this.get_last_element().addComponent(new GLTFShape(\"compi_models/\"+this.variation[e]+\".glb\")),this.get_last_element().addComponent(new Animator),engine.addEntity(this.get_last_element()),this.get_last_element().setParent(this))},t.prototype.get_last_element=function(){return this.element_entities[this.element_entities.length-1]},t}(Entity),v={Add:{position:[-.9736900329589844,.5958811640739441,.040917061269283295],rotation:[9992007221626409e-31,4.81169628585576e-8,-.3581227958202362,-.9336745142936707],scale:[.18492013216018677,.18492008745670319,.18492013216018677],uv:[.746986985206604,.8680751919746399,.8492201566696167,.8680751919746399,.8492201566696167,.9703083634376526,.746986985206604,.9703083634376526,.746986985206604,.8680751919746399,.8492201566696167,.8680751919746399,.8492201566696167,.9703083634376526,.746986985206604,.9703083634376526]},ArrowLeftCompi:{position:[1.4788908958435059,.6966143846511841,.040916964411735535],rotation:[-7105427357601002e-30,1.3435888490676007e-7,-1.0000001192092896,902615418659717e-29],scale:[.14559833705425262,.14559833705425262,.14559833705425262],uv:[.53712397813797,.8761494755744934,.6298521161079407,.8761494755744934,.6298521161079407,.9688776731491089,.53712397813797,.9688776731491089,.53712397813797,.8761494755744934,.6298521161079407,.8761494755744934,.6298521161079407,.9688776731491089,.53712397813797,.9688776731491089]},ArrowLeftQuestions:{position:[-.5068280696868896,-.20516154170036316,.0409170463681221],rotation:[-7105427357601002e-30,1.3435888490676007e-7,-1.0000001192092896,902615418659717e-29],scale:[.13791120052337646,.13791120052337646,.13791120052337646],uv:[.5374969244003296,.876522421836853,.629479169845581,.876522421836853,.629479169845581,.9685047268867493,.5374969244003296,.9685047268867493,.5374969244003296,.876522421836853,.629479169845581,.876522421836853,.629479169845581,.9685047268867493,.5374969244003296,.9685047268867493]},ArrowRightCompi:{position:[.5825899839401245,.7002140879631042,.04091687127947807],rotation:[-2842170943040401e-29,12324151505631147e-31,4.371138118131057e-8,1.0000001192092896],scale:[.15308743715286255,.15308743715286255,.15308743715286255],uv:[.5377315878868103,.8767570853233337,.6292445063591003,.8767570853233337,.6292445063591003,.9682701230049133,.5377315878868103,.9682701230049133,.5377315878868103,.8767570853233337,.6292445063591003,.8767570853233337,.6292445063591003,.9682701230049133,.5377315878868103,.9682701230049133]},ArrowRightQuestions:{position:[-1.3984005451202393,-.21152262389659882,.04091695323586464],rotation:[-2842170943040401e-29,12324151505631147e-31,4.371138118131057e-8,1.0000001192092896],scale:[.14561930298805237,.14561930298805237,.14561930298805237],uv:[.5326187610626221,.8716443181037903,.6300644874572754,.8716443181037903,.6300644874572754,.9690901637077332,.5326187610626221,.9690901637077332,.5326187610626221,.8716443181037903,.6300644874572754,.8716443181037903,.6300644874572754,.9690901637077332,.5326187610626221,.9690901637077332]},BackgroundAnswers:{position:[-.00592494010925293,-.07895167171955109,-1.060785503881334e-8],rotation:[-0,-1174602272000988e-29,8.742277657347586e-8,1],scale:[.8324118256568909,1.189159631729126,1.189159631729126],uv:[.09974434971809387,.4196958541870117,.4860137104988098,.4196958541870117,.4860137104988098,.960472822189331,.09974434971809387,.960472822189331,.09974434971809387,.4196958541870117,.4860137104988098,.4196958541870117,.4860137104988098,.960472822189331,.09974434971809387,.960472822189331]},BackgroundCompicactus:{position:[1.0598316192626953,-.04718310385942459,.0029314737766981125],rotation:[-7103880569560197e-31,-6.2252460963918566e-9,.04633298143744469,-.998926043510437],scale:[1.1614147424697876,1.1614147424697876,1.1614147424697876],uv:[.8326539993286133,.09020934253931046,.874096155166626,.09020934253931046,.874096155166626,.13165152072906494,.8326539993286133,.13165152072906494,.8326539993286133,.09020934253931046,.874096155166626,.09020934253931046,.874096155166626,.13165152072906494,.8326539993286133,.13165152072906494]},BackgroundQuestions:{position:[-.9756283760070801,-.06579305976629257,-8.83987905098138e-9],rotation:[-0,-1.3435884227419592e-7,1,-4.371138828673793e-8],scale:[.8324118256568909,1.189159631729126,1.189159631729126],uv:[.09974434971809387,.4196958541870117,.4860137104988098,.4196958541870117,.4860137104988098,.960472822189331,.09974434971809387,.960472822189331,.09974434971809387,.4196958541870117,.4860137104988098,.4196958541870117,.4860137104988098,.960472822189331,.09974434971809387,.960472822189331]},CancelRedCompi:{position:[1.0075632333755493,-.01593323051929474,.07591697573661804],rotation:[-2842170943040401e-29,12324151505631147e-31,4.371138118131057e-8,1.0000001192092896],scale:[.4886789917945862,.4886789917945862,.4886789917945862],uv:[.5147221088409424,.6938798427581787,.6448183059692383,.6938798427581787,.6448183059692383,.8239762783050537,.5147221088409424,.8239762783050537,.5147221088409424,.6938798427581787,.6448183059692383,.6938798427581787,.6448183059692383,.8239762783050537,.5147221088409424,.8239762783050537]},Compicactus:{position:[1.0598316192626953,-.04718310385942459,.044343285262584686],rotation:[901047179509523e-30,2.344884952876214e-9,-.017452403903007507,-.9998477101325989],scale:[1.1614147424697876,1.1614147424697876,1.1614147424697876],uv:[.001507878303527832,.0351487398147583,.9648514986038208,.0015079975128173828,.9984921216964722,.9648516178131104,.03514862060546875,.9984922409057617,.001507878303527832,.0351487398147583,.9648514986038208,.0015079975128173828,.9984921216964722,.9648516178131104,.03514862060546875,.9984922409057617]},EditAnswer:{position:[-.17161095142364502,.5804060697555542,.040917061269283295],rotation:[-0,0,-0,-1],scale:[.21622267365455627,.21622267365455627,.21622267365455627],uv:[.6404823064804077,.8690820932388306,.7427154779434204,.8690820932388306,.7427154779434204,.9713152647018433,.6404823064804077,.9713152647018433,.6404823064804077,.8690820932388306,.7427154779434204,.8690820932388306,.7427154779434204,.9713152647018433,.6404823064804077,.9713152647018433]},EditName:{position:[1.023306131362915,.9744213819503784,.040916845202445984],rotation:[-0,0,-0,-1],scale:[.21622267365455627,.21622267365455627,.21622267365455627],uv:[.6404823064804077,.8690820932388306,.7427154779434204,.8690820932388306,.7427154779434204,.9713152647018433,.6404823064804077,.9713152647018433,.6404823064804077,.8690820932388306,.7427154779434204,.8690820932388306,.7427154779434204,.9713152647018433,.6404823064804077,.9713152647018433]},Help:{position:[-.4528905153274536,1.1889170408248901,.04091717302799225],rotation:[-0,0,-0,-1],scale:[.36114898324012756,.18057449162006378,.36114898324012756],uv:[.6136775016784668,.13104644417762756,.7717379331588745,.13104644417762756,.7717379331588745,.21007665991783142,.6136775016784668,.21007665991783142,.6136775016784668,.13104644417762756,.7717379331588745,.13104644417762756,.7717379331588745,.21007665991783142,.6136775016784668,.21007665991783142]},Mint:{position:[-.002437543123960495,1.3288666009902954,.04091716185212135],rotation:[-0,0,-0,-1],scale:[.4449852406978607,.22249262034893036,.4449852406978607],uv:[.4526936113834381,.13239853084087372,.6056946516036987,.13239853084087372,.6056946516036987,.20889903604984283,.4526936113834381,.20889903604984283,.4526936113834381,.13239853084087372,.6056946516036987,.13239853084087372,.6056946516036987,.20889903604984283,.4526936113834381,.20889903604984283]},Name:{position:[1.0389444828033447,.7171220183372498,.040916867554187775],rotation:[-2842170943040401e-29,12324151505631147e-31,4.371138118131057e-8,1.0000001192092896],scale:[.6634318828582764,.28844866156578064,.28844866156578064],uv:[.5097656846046448,.2790776193141937,.739005982875824,.2790776193141937,.739005982875824,.3787473142147064,.5097656846046448,.3787473142147064,.5097656846046448,.2790776193141937,.739005982875824,.2790776193141937,.739005982875824,.3787473142147064,.5097656846046448,.3787473142147064]},OkGreenCompi:{position:[1.0075632333755493,-.01593323051929474,.08991697430610657],rotation:[-2842170943040401e-29,12324151505631147e-31,4.371138118131057e-8,1.0000001192092896],scale:[.4886789917945862,.4886789917945862,.4886789917945862],uv:[.6978199481964111,.6938798427581787,.827916145324707,.6938798427581787,.827916145324707,.8239762783050537,.6978199481964111,.8239762783050537,.6978199481964111,.6938798427581787,.827916145324707,.6938798427581787,.827916145324707,.8239762783050537,.6978199481964111,.8239762783050537]},PolygonMana:{position:[.5321251749992371,1.2641630172729492,.04091712832450867],rotation:[-0,0,-0,-1],scale:[.528679609298706,.505429208278656,.47581160068511963],uv:[.21294867992401123,.026864349842071533,.4362680912017822,.026864349842071533,.4362680912017822,.22785180807113647,.21294867992401123,.22785180807113647,.21294867992401123,.026864349842071533,.4362680912017822,.026864349842071533,.4362680912017822,.22785180807113647,.21294867992401123,.22785180807113647]},Remove:{position:[.10745614767074585,.5804059505462646,.040917061269283295],rotation:[-0,0,-0,-1],scale:[.19285941123962402,.19285941123962402,.19285941123962402],uv:[.7486777305603027,.8712334632873535,.8466081619262695,.8712334632873535,.8466081619262695,.9691638946533203,.7486777305603027,.9691638946533203,.7486777305603027,.8712334632873535,.8466081619262695,.8712334632873535,.8466081619262695,.9691638946533203,.7486777305603027,.9691638946533203]},SelectedQuestion:{position:[-.9813814163208008,.285593181848526,.06129398196935654],rotation:[-2842170943040401e-29,12324151505631147e-31,4.371138118131057e-8,1.0000001192092896],scale:[.6806405782699585,.09864357113838196,.19728714227676392],uv:[.1351213902235031,.30550289154052734,.45817357301712036,.30550289154052734,.45817357301712036,.3523220419883728,.1351213902235031,.3523220419883728,.1351213902235031,.30550289154052734,.45817357301712036,.30550289154052734,.45817357301712036,.3523220419883728,.1351213902235031,.3523220419883728]},WorkingYellowCompi:{position:[1.0075632333755493,-.01593323051929474,.10591697692871094],rotation:[-2842170943040401e-29,12324151505631147e-31,4.371138118131057e-8,1.0000001192092896],scale:[.4886789917945862,.4886789917945862,.4886789917945862],uv:[.6094315052032471,.5350365042686462,.739527702331543,.5350365042686462,.739527702331543,.6651329398155212,.6094315052032471,.6651329398155212,.6094315052032471,.5350365042686462,.739527702331543,.5350365042686462,.739527702331543,.6651329398155212,.6094315052032471,.6651329398155212]}},w=[\"Action-01-Look_R-L\",\"Action-02-Look_R\",\"Action-03-Look_L\",\"Action-04-Look-Up\",\"Action-05-Sleep\",\"Action-06-Dancing\",\"Action-07-Swinging\",\"Action-08-LOL\",\"Action-09-Pised_Off\",\"Action-10-Yawn\",\"Action-11-Alert\",\"Action-12_Sigh\"],T=function(e){function t(){var t=e.call(this)||this;return t.images_path=\"https://cors-anywhere.herokuapp.com/https://voxters.s3.eu-west-3.amazonaws.com/thumbnails/boxter_{__ID__}.jpg\",t.videos_path=\"\",t.character_name=\"Voxter\",t}return s(t,e),t}(function(e){function t(){var t=e.call(this)||this;return t.element_entities=[],t.current_compi=0,t.images_path=\"\",t.videos_path=\"\",t.character_name=\"\",t.plane_material=new BasicMaterial,t.addComponent(new PlaneShape),t.addComponent(t.plane_material),t}return s(t,e),t.prototype.play_random=function(){var e=Math.floor(Math.random()*w.length);this.set_video_body(this.current_compi,e,!1)},t.prototype.play=function(e){this.set_video_body(this.current_compi,e,!1)},t.prototype.remove_elements=function(){for(var e=0;e<this.element_entities.length;e++)engine.removeEntity(this.element_entities[e])},t.prototype.set_body=function(e,t,n){return c(this,void 0,void 0,(function(){return y(this,(function(i){return\"\"!=this.images_path&&this.set_image_body(e,t,n),\"\"!=this.videos_path&&this.set_video_body(e,t,n),[2]}))}))},t.prototype.set_image_body=function(e,t,n){return c(this,void 0,void 0,(function(){var i,a,o;return y(this,(function(r){return\"\"==this.images_path||(log(\"set image body\"),this.current_compi=e,n&&(this.plane_material=new BasicMaterial,this.addComponentOrReplace(this.plane_material)),i=w[t],a=(a=this.images_path.replace(\"{__ID__}\",String(e))).replace(\"{__ACTION__}\",String(i)),log(a),o=new Texture(a),this.plane_material.texture=o),[2]}))}))},t.prototype.set_video_body=function(e,t,n){return c(this,void 0,void 0,(function(){var i,a,o,r;return y(this,(function(s){return\"\"==this.videos_path||(log(\"set video body\"),this.current_compi=e,n&&(this.plane_material=new BasicMaterial,this.addComponentOrReplace(this.plane_material)),i=w[t],a=(a=this.images_path.replace(\"{__ID__}\",String(e))).replace(\"{__ACTION__}\",String(i)),log(a),o=new VideoClip(a),r=new VideoTexture(o),this.plane_material.texture=r,r.playing=!0),[2]}))}))},t}(Entity)),C=function(){function e(){this.fixed=!1}return e=p([Component(\"fixShape\")],e)}(),x=new Material;x.alphaTest=1,x.albedoColor=new Color4(0,0,0,0);var M=engine.getComponentGroup(PlaneShape,C,OnPointerDown),k=function(){function e(){this.timer=0}return e.prototype.update=function(e){var t,n;if(this.timer+=e,!(this.timer<1))try{for(var i=d(M.entities),a=i.next();!a.done;a=i.next()){var o=a.value,r=o.getComponent(C);if(!r.fixed){r.fixed=!0;var s=new Entity;s.addComponent(new PlaneShape),s.addComponent(o.getComponent(OnPointerDown)),s.addComponent(x),s.setParent(o),r.fixentity=s}r.fixentity.getComponent(PlaneShape).visible=o.getComponent(PlaneShape).visible}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e}();engine.addSystem(new k);var E={COMPICACTUS:0,VOXTER:1,ETHERMON:2,ROVI:3,ZEDRUN:4},A={MATIC:\"matic\",MUMBAI:\"mumbai\",MOCKUP:\"mockup\"},R=0,q=1,S=2,P=3,I=4,O=5,Q=6,N=7,D=8,F=9,U=10,B=11,L=new Texture(\"https://dweb.link/ipfs/bafybeifaih2h275bmmessdnwk5tkbbdsc6y4aacpbiu4jdsu2numusrxne/CompiUIB.png\"),V=new Material;V.transparencyMode=1,V.albedoTexture=L,V.emissiveTexture=L,V.emissiveIntensity=1,V.emissiveColor=new Color3(.5,.5,.5);var j=new UICanvas,W=.55,K=function(){function e(){this.current_compi=-1,this.current_token=-1,this.current_menu=0,this.goto_compi=-1,this.dirty_compi=!1,this.play_animation=-1,this.answer=\"\",this.answer_drawn=0,this.answer_dt=0,this.questions=\"\",this.name=\"\",this.price=\"-\",this.price_number=0,this.price_discount=!1,this.question_list=[],this.current_qpage=0,this.goto_qpage=0,this.current_question=0,this.goto_question=0,this.name_to_set=\"\",this.answer_to_set=\"\",this.question_to_add=\"\",this.asking_question=\"\",this.dirty_questions=!1,this.current_action=\"\",this.forced=!1,this.broadcast=[],this.working=!1}return e=p([Component(\"stool\")],e)}(),H=function(e){function t(t,n){var i=e.call(this)||this;if(i.compidata_shape=new TextShape,i.answer_shape=new TextShape,i.questions_shape=new TextShape,i.price_shape=new TextShape,i.remove_entity=new Entity,i.editanswer_entity=new Entity,i.cancel_entity=new Entity,i.error_entity=new Entity,i.ok_entity=new Entity,i.working_entity=new Entity,n.character==E.COMPICACTUS)i.planesMenu=f,i.compi_entity=new b;else{if(n.character!=E.VOXTER)throw new Error(\"Character not found: \"+n.character);i.planesMenu=v,i.compi_entity=new T}(i.textInput=new UIInputText(j),i.stool_component=new K,i.addComponent(i.stool_component),engine.addEntity(i),i.stool_component.network=n,-1!=t&&(i.stool_component.forced=!0,i.stool_component.current_action=\"goto_compi\",i.stool_component.goto_compi=t,i.stool_component.dirty_compi=!0,log(\"Forced\")),i.stool_component.forced)||(i.createPlane(i.planesMenu.ArrowLeftCompi).addComponent(new OnPointerDown((function(){i.stool_component.working||(i.stool_component.current_action=\"previous_compi\")}),{hoverText:\"Previous \"+i.compi_entity.character_name})),i.createPlane(i.planesMenu.ArrowRightCompi).addComponent(new OnPointerDown((function(){i.stool_component.working||(i.stool_component.current_action=\"next_compi\")}),{hoverText:\"Next \"+i.compi_entity.character_name})),i.createPlane(i.planesMenu.Add).addComponent(new OnPointerDown((function(){i.stool_component.working||(i.stool_component.current_action=\"add_question\")}),{hoverText:\"Add question\"})),i.editanswer_entity=i.createPlane(i.planesMenu.EditAnswer),i.editanswer_entity.getComponent(PlaneShape).visible=!1,i.editanswer_entity.addComponent(new OnPointerDown((function(){i.stool_component.working||(i.stool_component.current_action=\"edit_answer\")}),{hoverText:\"Edit answer\"})),i.remove_entity=i.createPlane(i.planesMenu.Remove),i.remove_entity.getComponent(PlaneShape).visible=!1,i.remove_entity.addComponent(new OnPointerDown((function(){i.stool_component.working||(i.stool_component.current_action=\"remove_question\")}),{hoverText:\"Remove Question\"})),i.createPlane(i.planesMenu.EditName).addComponent(new OnPointerDown((function(){i.stool_component.working||(i.stool_component.current_action=\"set_name\")}),{hoverText:\"Set Name\"})),i.cancel_entity=i.createPlane(i.planesMenu.CancelRedCompi),engine.removeEntity(i.cancel_entity),i.cancel_entity.addComponent(new OnPointerDown((function(){i.stool_component.current_action=\"cancel\"}),{hoverText:\"Cancel\"})),i.error_entity=i.createPlane(i.planesMenu.CancelRedCompi),engine.removeEntity(i.error_entity),i.error_entity.addComponent(new OnPointerDown((function(){engine.removeEntity(i.error_entity)}),{hoverText:\"Error. Please try again!\"})),i.ok_entity=i.createPlane(i.planesMenu.OkGreenCompi),engine.removeEntity(i.ok_entity),i.ok_entity.addComponent(new OnPointerDown((function(){engine.removeEntity(i.ok_entity)}),{hoverText:\"Success\"})),i.working_entity=i.createPlane(i.planesMenu.WorkingYellowCompi),engine.removeEntity(i.working_entity),i.working_entity.addComponent(new OnPointerDown((function(){}),{hoverText:\"Waiting for signature. Check wallet!\"})));i.arrowleftquestions_entity=i.createPlane(i.planesMenu.ArrowLeftQuestions),i.arrowleftquestions_entity.addComponent(new OnPointerDown((function(){i.stool_component.working||(i.stool_component.current_action=\"previous_question_page\")}),{hoverText:\"Prev page\"})),i.arrowrightquestions_entity=i.createPlane(i.planesMenu.ArrowRightQuestions),i.arrowrightquestions_entity.addComponent(new OnPointerDown((function(){i.stool_component.working||(i.stool_component.current_action=\"next_question_page\")}),{hoverText:\"Next page\"}));var a=i.createPlane(i.planesMenu.BackgroundAnswers);i.createPlane(i.planesMenu.BackgroundCompicactus);var o=i.createPlane(i.planesMenu.BackgroundQuestions),r=i.createPlane(i.planesMenu.Compicactus);i.createPlane(i.planesMenu.Name),engine.removeEntity(r),i.compi_entity.addComponent(r.getComponent(Transform)),i.compi_entity.setParent(i),i.compi_entity.getComponent(PlaneShape).uvs=r.getComponent(PlaneShape).uvs;var s=new OnPointerDown((function(e){i.stool_component.working||(0==e.buttonId?i.stool_component.current_action=\"ask_question\":1==e.buttonId?i.stool_component.current_action=\"previous_question\":2==e.buttonId&&(i.stool_component.current_action=\"next_question\"))}),{hoverText:\"E: Up - F: Down - Click: Ask\"});return o.addComponent(s),a.addComponent(s),i.compidata_shape.fontSize=1,i.compidata_shape.value=\"\",i.compidata_shape.hTextAlign=\"left\",i.compidata_shape.vTextAlign=\"center\",i.compidata_shape.font=new Font(Fonts.SanFrancisco_Heavy),i.compidata_shape.color=Color3.Black(),i.compidata_entity=new Entity,i.compidata_entity.addComponent(i.compidata_shape),i.compidata_entity.addComponent(new Transform({position:new Vector3(1.3,1.24,.08),rotation:Quaternion.Euler(0,180,0),scale:new Vector3(.4,.4,.4)})),i.compidata_entity.setParent(i),i.questions_shape.textWrapping=!0,i.questions_shape.font=new Font(Fonts.SanFrancisco_Heavy),i.questions_shape.hTextAlign=\"left\",i.questions_shape.vTextAlign=\"top\",i.questions_shape.fontSize=1,i.questions_shape.fontWeight=\"normal\",i.questions_shape.value=\"\",i.questions_shape.width=1.5,i.questions_shape.color=Color3.Black(),i.questions_entity=new Entity,i.questions_entity.addComponent(i.questions_shape),i.questions_entity.addComponent(new Transform({position:new Vector3(-1,.74,.08),rotation:Quaternion.Euler(0,180,0),scale:new Vector3(.5,.5,1)})),i.questions_entity.setParent(i),i.answer_shape.textWrapping=!0,i.answer_shape.font=new Font(Fonts.SanFrancisco_Heavy),i.answer_shape.hTextAlign=\"center\",i.answer_shape.vTextAlign=\"top\",i.answer_shape.fontSize=1,i.answer_shape.fontWeight=\"normal\",i.answer_shape.value=\"\",i.answer_shape.width=1.3,i.answer_shape.color=Color3.Black(),i.answer_entity=new Entity,i.answer_entity.addComponent(i.answer_shape),i.answer_entity.addComponent(new Transform({position:new Vector3(0,.65,.08),rotation:Quaternion.Euler(0,180,0),scale:new Vector3(.5,.5,1)})),i.answer_entity.setParent(i),i.textInput.width=\"50%\",i.textInput.height=\"50px\",i.textInput.vAlign=\"bottom\",i.textInput.hAlign=\"center\",i.textInput.fontSize=30,i.textInput.placeholder=\"Write name here\",i.textInput.placeholderColor=Color4.Gray(),i.textInput.positionY=\"200px\",i.textInput.isPointerBlocker=!0,i.textInput.visible=!1,i}return s(t,e),t.prototype.createPlane=function(e){var t=new Entity,n=new PlaneShape;n.uvs=e.uv,t.addComponent(n);var i=new Transform({position:new(Vector3.bind.apply(Vector3,m([void 0],e.position))),rotation:new(Quaternion.bind.apply(Quaternion,m([void 0],e.rotation))),scale:new(Vector3.bind.apply(Vector3,m([void 0],e.scale)))});return i.position.y+=W,t.addComponent(i),t.addComponent(V),t.setParent(this),t.addComponent(new C),t},t.prototype.destroy=function(){engine.removeEntity(this)},t}(Entity),X=engine.getComponentGroup(K),G=function(){function e(){}return e.prototype.update=function(e){var t,n;try{for(var i=d(X.entities),a=i.next();!a.done;a=i.next()){var o=a.value,r=o,s=o.getComponent(K);s.answer_drawn<s.answer.length&&(s.answer_drawn+=Math.round(100*e),s.answer_drawn>s.answer.length&&(s.answer_drawn=s.answer.length),r.answer_shape.value=s.answer.substring(0,s.answer_drawn)),s.questions!=r.questions_shape.value&&(r.questions_shape.value=s.questions,r.questions_shape.width=1.2),s.play_animation>=0&&(r.compi_entity.play(s.play_animation),s.play_animation=-1),\"cancel\"!=s.current_action?s.working||(\"goto_compi\"!=s.current_action?-1!=s.current_compi?s.dirty_compi?(s.working=!0,this.updateCompi(r)):\"previous_compi\"!=s.current_action?\"next_compi\"!=s.current_action?-2!=s.current_compi&&(s.dirty_questions?(s.working=!0,this.updateQuestions(r)):\"add_question\"!=s.current_action?\"remove_question\"!=s.current_action?\"edit_answer\"!=s.current_action?\"set_name\"!=s.current_action?\"ask_question\"!=s.current_action?\"previous_question\"!=s.current_action?\"next_question\"!=s.current_action?\"previous_question_page\"!=s.current_action?\"next_question_page\"!=s.current_action||(log(\"action: next_question_page\"),s.working=!0,s.current_action=\"\",s.goto_qpage=s.current_qpage+1,this.gotoQPage(s)):(log(\"action: previous_question_page\"),s.working=!0,s.current_action=\"\",s.goto_qpage=s.current_qpage-1,this.gotoQPage(s)):(s.working=!0,s.current_action=\"\",s.goto_question=s.current_question+1,this.gotoQuestion(s)):(s.working=!0,s.current_action=\"\",s.goto_question=s.current_question-1,this.gotoQuestion(s)):(s.working=!0,s.current_action=\"\",this.askQuestion(o)):(s.working=!0,s.current_action=\"\",this.setName(o)):(s.working=!0,s.current_action=\"\",this.editAnwser(o)):(s.working=!0,s.current_action=\"\",this.removeQuestion(o)):(s.working=!0,s.current_action=\"\",this.addQuestion(o))):(s.working=!0,s.current_action=\"\",s.goto_compi=s.current_compi+1,this.goto(s)):(s.working=!0,s.current_action=\"\",s.goto_compi=s.current_compi-1,this.goto(s)):(s.working=!0,s.current_action=\"\",s.goto_compi=0,this.goto(s)):(s.working=!0,s.current_action=\"\",this.goto(s))):(s.current_action=\"\",r.textInput.visible=!1,engine.removeEntity(r.cancel_entity),s.working=!1)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.goto=function(e){return c(this,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return log(\"goto\"),log(\"stool_component.current_compi\",e.current_compi),log(\"stool_component.goto_compi\",e.goto_compi),log(\"stool_component.dirty_compi\",e.dirty_compi),e.forced?[3,2]:(log(\"Getting compis\"),[4,e.network.balanceOf()]);case 1:return t=n.sent(),log(\"compisCount\",t),t>0?(log(\"compisCount>0\"),e.goto_compi<0?(log(\"stool_component.goto_compi<0\"),e.current_compi=t-1,e.dirty_compi=!0):e.goto_compi>=t?(log(\"stool_component.goto_compi>=compisCount\"),e.current_compi=0,e.dirty_compi=!0):(e.current_compi=e.goto_compi,e.dirty_compi=!0)):(log(\"else1\"),e.current_compi=-2,e.goto_compi=0,e.dirty_compi=!0),[3,3];case 2:log(\"else2\"),e.current_compi=e.goto_compi,e.dirty_compi=!0,n.label=3;case 3:return log(\"stool_component.current_compi\",e.current_compi),log(\"stool_component.goto_compi\",e.goto_compi),log(\"stool_component.dirty_compi\",e.dirty_compi),e.working=!1,[2]}}))}))},e.prototype.gotoQuestion=function(e){return c(this,void 0,void 0,(function(){var t,n;return y(this,(function(i){for(t=0,n=0;n<e.question_list.length;n++)\"\"!=e.question_list[n].value&&(t+=1);return e.goto_question<0?(e.goto_question=t-1,e.current_question=t-1,e.dirty_questions=!0):e.goto_question>=t?(e.goto_question=0,e.current_question=0,e.dirty_questions=!0):(e.current_question=e.goto_question,e.dirty_questions=!0),log(e.goto_question,e.current_question),e.working=!1,[2]}))}))},e.prototype.gotoQPage=function(e){return c(this,void 0,void 0,(function(){var t,n,i,a;return y(this,(function(o){switch(o.label){case 0:for(t=0,a=0;a<e.question_list.length;a++)\"\"!=e.question_list[a].value&&(t+=1);return e.goto_qpage<0||e.goto_qpage>e.current_qpage&&t<10?e.current_qpage=0:e.current_qpage=e.goto_qpage,log(\"current_qpage\",e.current_qpage),n=10*e.current_qpage,[4,e.network.getQuestions(e.current_token,n)];case 1:for(i=o.sent(),log(i),a=0;a<i.length;a++)e.question_list[a]={id:a+n,value:i[a]};return e.current_question=0,e.dirty_questions=!0,e.working=!1,[2]}}))}))},e.prototype.updateCompi=function(e,t){return c(this,void 0,void 0,(function(){var t,n,i;return y(this,(function(a){switch(a.label){case 0:return(t=e.getComponent(K)).dirty_compi=!1,t.current_compi<0?(e.compi_entity.set_body(0,0,!0),e.compidata_shape.value=\"Demo\",t.working=!1,[2]):(log(\"updateCompi\"),e.compidata_shape.value=\"-\",n=0,t.forced?[3,2]:(e.editanswer_entity.getComponent(PlaneShape).visible=!1,e.remove_entity.getComponent(PlaneShape).visible=!1,[4,t.network.tokenOfOwnerByIndex(t.current_compi)]));case 1:return n=a.sent(),t.current_token=n,[3,3];case 2:n=t.current_token=t.current_compi,a.label=3;case 3:return log(\"compiId\",n),[4,t.network.getName(n)];case 4:return\"\"===(i=a.sent())&&(i=\"No name set\"),e.compidata_shape.value=\"#\"+n+\":\"+i,e.compi_entity.set_body(n,0,!0),this.gotoQPage(t),t.working=!1,[2]}}))}))},e.prototype.updateQuestions=function(e){return c(this,void 0,void 0,(function(){var t,n,i,a,o;return y(this,(function(r){switch(r.label){case 0:return[4,(t=e.getComponent(K)).network.getQuestionsCount(t.current_token)];case 1:for(n=r.sent(),e.arrowleftquestions_entity.getComponent(PlaneShape).visible=!0,e.arrowrightquestions_entity.getComponent(PlaneShape).visible=!0,n>10?0==10*t.current_qpage&&(e.arrowleftquestions_entity.getComponent(PlaneShape).visible=!1):(log(\"hide arrows\"),e.arrowleftquestions_entity.getComponent(PlaneShape).visible=!1,e.arrowrightquestions_entity.getComponent(PlaneShape).visible=!1),i=\"\",a=0,o=0;o<t.question_list.length;o++)\"\"!=t.question_list[o].value&&(t.current_question==o?i+=\"[ \":i+=\"\",i+=\"\"+t.question_list[o].value,a+=1,t.current_question==o?i+=\" ]\\n\":i+=\"\\n\");return t.questions=i,a<10&&(e.arrowrightquestions_entity.getComponent(PlaneShape).visible=!1),t.dirty_questions=!1,t.working=!1,[2]}}))}))},e.prototype.setName=function(e){return c(this,void 0,void 0,(function(){var t,n=this;return y(this,(function(i){return t=e.getComponent(K),log(\"Set Name\"),t.current_compi<0||(e.textInput.visible=!0,e.textInput.placeholder=\"Write name here\",engine.addEntity(e.cancel_entity),e.textInput.onTextSubmit=new OnTextSubmit((function(i){return c(n,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:return e.textInput.visible=!1,engine.removeEntity(e.cancel_entity),engine.addEntity(e.working_entity),[4,t.network.setName(t.current_token,i.text).then((function(n){1===n.status?(t.dirty_compi=!0,t.working=!1,engine.removeEntity(e.working_entity),engine.addEntity(e.ok_entity),log(\"setName Ok \",n)):(t.working=!1,engine.removeEntity(e.working_entity),engine.addEntity(e.error_entity),log(\"Error on setName\",n))})).catch((function(n){t.working=!1,engine.removeEntity(e.working_entity),engine.addEntity(e.error_entity),log(\"Error on setName\",n)}))];case 1:return n.sent(),[2]}}))}))})),engine.addEntity(e.cancel_entity)),[2]}))}))},e.prototype.askQuestion=function(e){return c(this,void 0,void 0,(function(){var t,n,i,a,o,r,s,u,p,c,d;return y(this,(function(y){switch(y.label){case 0:return t=e.getComponent(K),n=t.question_list[t.current_question].value,[4,t.network.getAnswer(t.current_token,n)];case 1:for(i=y.sent(),log(i),a=/\\{.*?\\}/g,r=i;null!==(o=a.exec(i));)o.index===a.lastIndex&&a.lastIndex++,o.forEach((function(e,n){log(\"Found match, group \"+n+\": \"+e);var i=void 0;try{i=JSON.parse(e)}catch(t){log(\"Error parsing json to broadcast \"+e)}null!=i&&t.broadcast.push(i),r=r.replace(e,\"\")}));for(s=\"You: \"+n+\"\\n\\n\"+e.compi_entity.character_name+\": \"+r,t.answer=s,t.answer_drawn=0,u=Math.floor(3*Math.random()),p=!1,c=0;c<t.broadcast.length;c++)null!=t.broadcast[c].emote&&(t.play_animation=z(t.broadcast[c].emote),t.broadcast[c].emote=void 0,p=!0),null!=t.broadcast[c].audio&&(d=new AudioStream(t.broadcast[c].audio),e.addComponentOrReplace(d),d.playing=!0,d.volume=.2,t.broadcast[c].audio=void 0);return p||(t.play_animation=u),log(\"stool_component.play_animation\",t.play_animation),t.forced||(e.editanswer_entity.getComponent(PlaneShape).visible=!0,e.remove_entity.getComponent(PlaneShape).visible=!0),t.working=!1,[2]}}))}))},e.prototype.addQuestion=function(e){return c(this,void 0,void 0,(function(){var t,n=this;return y(this,(function(i){return t=e.getComponent(K),e.textInput.visible=!0,e.textInput.placeholder=\"Write question\",engine.addEntity(e.cancel_entity),e.textInput.onTextSubmit=new OnTextSubmit((function(i){return c(n,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:return e.textInput.visible=!1,engine.removeEntity(e.cancel_entity),engine.addEntity(e.working_entity),[4,t.network.addQuestion(t.current_token,i.text,\"Default answer\").then((function(n){1===n.status?(t.dirty_compi=!0,t.working=!1,engine.removeEntity(e.working_entity),engine.addEntity(e.ok_entity),log(\"addQuestion Ok \",n)):(t.working=!1,engine.removeEntity(e.working_entity),engine.addEntity(e.error_entity),log(\"Error on addQuestion\",n))})).catch((function(n){t.working=!1,engine.removeEntity(e.working_entity),engine.addEntity(e.error_entity),log(\"Error on addQuestion\",n)}))];case 1:return n.sent(),[2]}}))}))})),engine.addEntity(e.cancel_entity),[2]}))}))},e.prototype.removeQuestion=function(e){return c(this,void 0,void 0,(function(){var t,n,i;return y(this,(function(a){switch(a.label){case 0:return t=e.getComponent(K),n=t.question_list[t.current_question].value,i=t.question_list[t.current_question].id,engine.addEntity(e.working_entity),[4,t.network.removeQuestion(t.current_token,n,i).then((function(n){1===n.status?(t.dirty_compi=!0,t.working=!1,engine.removeEntity(e.working_entity),engine.addEntity(e.ok_entity),log(\"removeQuestion Ok \",n)):(t.working=!1,engine.removeEntity(e.working_entity),engine.addEntity(e.error_entity),log(\"Error on removeQuestion\",n))})).catch((function(n){t.working=!1,engine.removeEntity(e.working_entity),engine.addEntity(e.error_entity),log(\"Error on removeQuestion\",n)}))];case 1:return a.sent(),[2]}}))}))},e.prototype.editAnwser=function(e){return c(this,void 0,void 0,(function(){var t,n=this;return y(this,(function(i){return t=e.getComponent(K),log(\"Edit Anwser\"),engine.addEntity(e.cancel_entity),e.textInput.visible=!0,e.textInput.placeholder=\"Write answer here\",e.textInput.onTextSubmit=new OnTextSubmit((function(i){return c(n,void 0,void 0,(function(){var n;return y(this,(function(a){switch(a.label){case 0:return e.textInput.visible=!1,log(\"this.current_token\",t.current_token),n=t.question_list[t.current_question].value,engine.removeEntity(e.cancel_entity),engine.addEntity(e.working_entity),[4,t.network.addQuestion(t.current_token,n,i.text).then((function(n){1===n.status?(t.dirty_compi=!0,t.working=!1,engine.removeEntity(e.working_entity),engine.addEntity(e.ok_entity),log(\"addQuestion (Edit Anwser) Ok \",n)):(t.working=!1,engine.removeEntity(e.working_entity),engine.addEntity(e.error_entity),log(\"Error on addQuestion (Edit Anwser)\",n))})).catch((function(n){t.working=!1,engine.removeEntity(e.working_entity),engine.addEntity(e.error_entity),log(\"Error on addQuestion (Edit Anwser)\",n)}))];case 1:return a.sent(),[2]}}))}))})),[2]}))}))},e}();function z(e){return\"dance\"==e?O:\"lol\"==e?N:\"alert\"==e?U:\"swing\"==e?Q:\"look_l\"==e?S:\"look_r\"==e?q:\"look_r_l\"==e?R:\"look_up\"==e?P:\"pissed_off\"==e?D:\"sigh\"==e?B:\"sleep\"==e?I:\"yawn\"==e?F:0}var Y,J=\"0c53c51c\",Z=se(\"0x\"),$=0;function ee(e){return c(this,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:t=[],n.label=1;case 1:return n.trys.push([1,3,,5]),[4,pe(e,\"eth_requestAccounts\",[])];case 2:return t=n.sent(),[3,5];case 3:return n.sent(),[4,pe(e,\"eth_accounts\",[])];case 4:return t=n.sent(),[3,5];case 5:if(0===t.length)throw new Error(\"Could not find a valid connected account\");return[2,t[0]]}}))}))}function te(e,t,n){return c(this,void 0,void 0,(function(){return y(this,(function(i){return[2,pe(e,\"eth_signTypedData_v4\",[t,n])]}))}))}function ne(e,t,n){var i=t.replace(\"0x\",\"\"),a=i.substring(0,64),o=i.substring(64,128),r=function(e){var t=parseInt(e,16);t<27&&(t+=27);if(27!==t&&28!==t)throw Error('Invalid signature version \"'+e+'\" (parsed: '+t+\")\");return t.toString(16)}(i.substring(128,130)),s=n.replace(\"0x\",\"\"),u=(s.length/2).toString(16),p=Math.ceil(s.length/64);return[\"0x\",J,ue(e),ue(\"a0\"),a,o,ue(r),ue(u),ie(64*p,\"0\",s)].join(\"\")}function ie(e,t,n){for(var i=0;i<e&&!(n.length>=e);i++)n=\"\"+n+t;return n}function ae(e,t,n){return c(this,void 0,void 0,(function(){var i;return y(this,(function(a){switch(a.label){case 0:return i=ue(t),[4,pe(e,\"eth_call\",[{data:\"0x2d0335ab\"+i,to:n},\"latest\"])];case 1:return[2,ue(a.sent())]}}))}))}function oe(e,t){return pe(e,\"eth_getCode\",[t.toLowerCase(),\"latest\"])}function re(e,t){return c(this,void 0,void 0,(function(){var n;return y(this,(function(i){switch(i.label){case 0:return[4,oe(e,t)];case 1:return n=i.sent(),[2,(a=n,!(se(a.toLowerCase())===Z))]}var a}))}))}function se(e){if(!/^0x[0-9a-f]*$/gi.test(e))throw new Error('Not a valid hex string \"'+e+'\"');for(var t=e.slice(2);t.length<40;)t=\"0\"+t;return\"0x\"+t}function ue(e){return function(e,t,n){for(var i=0;i<e&&!(n.length>=e);i++)n=\"\"+t+n;return n}(64,\"0\",e.toString().replace(\"0x\",\"\"))}function pe(e,t,n){return c(this,void 0,void 0,(function(){var i,a;return y(this,(function(o){switch(o.label){case 0:return a={jsonrpc:\"2.0\",id:++$,method:t,params:n},void 0===e.request?[3,2]:[4,e.request(a)];case 1:return i=o.sent(),[3,6];case 2:return void 0===e.sendAsync?[3,4]:[4,e.sendAsync(a)];case 3:return i=o.sent(),[3,6];case 4:return void 0===e.send?[3,6]:[4,e.send(t,n)];case 5:i=o.sent(),o.label=6;case 6:if(i)return[2,i.result||i];throw new Error('Could not send the transaction correcty. Either the provider does not support the method \"'+t+'\" or is missing a proper send/request.')}}))}))}!function(e){e.Bid=\"Bid\",e.CollectionFactory=\"CollectionFactory\",e.CollectionManager=\"CollectionManager\",e.CollectionStore=\"CollectionStore\",e.Committee=\"Committee\",e.ERC20=\"ERC20\",e.ERC721=\"ERC721\",e.ERC721CollectionV2=\"ERC721CollectionV2\",e.Forwarder=\"Forwarder\",e.MANAToken=\"MANAToken\",e.Marketplace=\"Marketplace\",e.Rarities=\"Rarities\"}(Y||(Y={}));var ce,ye=[{name:\"name\",type:\"string\"},{name:\"version\",type:\"string\"},{name:\"verifyingContract\",type:\"address\"},{name:\"salt\",type:\"bytes32\"}],de=[{name:\"nonce\",type:\"uint256\"},{name:\"from\",type:\"address\"},{name:\"functionSignature\",type:\"bytes\"}];!function(e){e.INVALID_ADDRESS=\"invalid_address\",e.CONTRACT_ACCOUNT=\"contract_account\",e.USER_DENIED=\"user_denied\",e.UNKNOWN=\"unknown\"}(ce||(ce={}));var le=function(e){function t(t,n){var i=e.call(this,t)||this;return i.code=n,i}return s(t,e),t}(Error);function me(e,t,n,i,a){return void 0===a&&(a={}),c(this,void 0,void 0,(function(){var o,r,s,p,c,d,l,m,h,g;return y(this,(function(y){switch(y.label){case 0:if(o=u(u({},{serverURL:\"https://transactions-api.decentraland.org/v1\"}),a),!i.address.trim())throw new le(\"The contract address for \"+i.name+\" is empty. You're probably trying to get a proxy contract. Try adding an address to the result of getContract\",ce.INVALID_ADDRESS);y.label=1;case 1:return y.trys.push([1,8,,9]),[4,ee(e)];case 2:return r=y.sent(),[4,re(e,r)];case 3:if(y.sent())throw new le(\"Contract accounts are not supported\",ce.CONTRACT_ACCOUNT);return[4,ae(t,r,i.address)];case 4:return s=y.sent(),f=i.chainId,p=\"number\"==typeof f?\"0x\"+ue(f.toString(16)):\"0x\"+ue(f),c=function(e,t){return{name:t.name,version:t.version,verifyingContract:t.address,salt:e}}(p,i),d=function(e,t,n,i){return{types:{EIP712Domain:ye,MetaTransaction:de},domain:i,primaryType:\"MetaTransaction\",message:{nonce:parseInt(t,16),from:e,functionSignature:n}}}(r,s,n,c),[4,te(e,r,JSON.stringify(d))];case 5:return l=y.sent(),m=ne(r,l,n),[4,fetch(o.serverURL+\"/transactions\",{headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({transactionData:{from:r,params:[i.address,m]}}),method:\"POST\"})];case 6:if(!(h=y.sent()).ok)throw new Error(h.statusText);return[4,h.json()];case 7:return[2,y.sent().txHash];case 8:if(g=y.sent(),-1!==g.message.indexOf(\"User denied message signature\"))throw new le(g.message,ce.USER_DENIED);throw g instanceof le?g:(log(\"An error occurred trying to send the meta transaction. Error:\",g.message),new le(g.message,ce.UNKNOWN));case 9:return[2]}var f}))}))}var he=[{inputs:[{internalType:\"string\",name:\"name_\",type:\"string\"},{internalType:\"string\",name:\"symbol_\",type:\"string\"}],stateMutability:\"nonpayable\",type:\"constructor\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"address\",name:\"owner\",type:\"address\"},{indexed:!0,internalType:\"address\",name:\"spender\",type:\"address\"},{indexed:!1,internalType:\"uint256\",name:\"value\",type:\"uint256\"}],name:\"Approval\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"address\",name:\"userAddress\",type:\"address\"},{indexed:!1,internalType:\"address payable\",name:\"relayerAddress\",type:\"address\"},{indexed:!1,internalType:\"bytes\",name:\"functionSignature\",type:\"bytes\"}],name:\"MetaTransactionExecuted\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"address\",name:\"from\",type:\"address\"},{indexed:!0,internalType:\"address\",name:\"to\",type:\"address\"},{indexed:!1,internalType:\"uint256\",name:\"value\",type:\"uint256\"}],name:\"Transfer\",type:\"event\"},{inputs:[],name:\"CHILD_CHAIN_ID\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"CHILD_CHAIN_ID_BYTES\",outputs:[{internalType:\"bytes\",name:\"\",type:\"bytes\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"ERC712_VERSION\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"ROOT_CHAIN_ID\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"ROOT_CHAIN_ID_BYTES\",outputs:[{internalType:\"bytes\",name:\"\",type:\"bytes\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"owner\",type:\"address\"},{internalType:\"address\",name:\"spender\",type:\"address\"}],name:\"allowance\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"spender\",type:\"address\"},{internalType:\"uint256\",name:\"amount\",type:\"uint256\"}],name:\"approve\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"account\",type:\"address\"}],name:\"balanceOf\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"decimals\",outputs:[{internalType:\"uint8\",name:\"\",type:\"uint8\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"spender\",type:\"address\"},{internalType:\"uint256\",name:\"subtractedValue\",type:\"uint256\"}],name:\"decreaseAllowance\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"userAddress\",type:\"address\"},{internalType:\"bytes\",name:\"functionSignature\",type:\"bytes\"},{internalType:\"bytes32\",name:\"sigR\",type:\"bytes32\"},{internalType:\"bytes32\",name:\"sigS\",type:\"bytes32\"},{internalType:\"uint8\",name:\"sigV\",type:\"uint8\"}],name:\"executeMetaTransaction\",outputs:[{internalType:\"bytes\",name:\"\",type:\"bytes\"}],stateMutability:\"payable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"user\",type:\"address\"}],name:\"getNonce\",outputs:[{internalType:\"uint256\",name:\"nonce\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"spender\",type:\"address\"},{internalType:\"uint256\",name:\"addedValue\",type:\"uint256\"}],name:\"increaseAllowance\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[],name:\"name\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"symbol\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"totalSupply\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"recipient\",type:\"address\"},{internalType:\"uint256\",name:\"amount\",type:\"uint256\"}],name:\"transfer\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"sender\",type:\"address\"},{internalType:\"address\",name:\"recipient\",type:\"address\"},{internalType:\"uint256\",name:\"amount\",type:\"uint256\"}],name:\"transferFrom\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],stateMutability:\"nonpayable\",type:\"function\"},{stateMutability:\"payable\",type:\"receive\"},{inputs:[{internalType:\"uint256\",name:\"amount\",type:\"uint256\"}],name:\"mint\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"}],ge=[{anonymous:!1,inputs:[{indexed:!1,internalType:\"string\",name:\"contractURI\",type:\"string\"}],name:\"ContractURISet\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"address[]\",name:\"discountTokens\",type:\"address[]\"},{indexed:!1,internalType:\"bool[]\",name:\"discountTokensIsERC1155\",type:\"bool[]\"}],name:\"DiscountTokensSet\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"contract IERC20Upgradeable\",name:\"tokenERC20\",type:\"address\"}],name:\"ERC20Set\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"contract IERC721Upgradeable\",name:\"tokenERC721\",type:\"address\"}],name:\"ERC721Set\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"uint256\",name:\"maxSupply\",type:\"uint256\"}],name:\"MaxSupplySet\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"address\",name:\"userAddress\",type:\"address\"},{indexed:!1,internalType:\"address payable\",name:\"relayerAddress\",type:\"address\"},{indexed:!1,internalType:\"bytes\",name:\"functionSignature\",type:\"bytes\"}],name:\"MetaTransactionExecuted\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"uint256\",name:\"multPrice\",type:\"uint256\"}],name:\"PriceSet\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{indexed:!0,internalType:\"bytes32\",name:\"previousAdminRole\",type:\"bytes32\"},{indexed:!0,internalType:\"bytes32\",name:\"newAdminRole\",type:\"bytes32\"}],name:\"RoleAdminChanged\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{indexed:!0,internalType:\"address\",name:\"account\",type:\"address\"},{indexed:!0,internalType:\"address\",name:\"sender\",type:\"address\"}],name:\"RoleGranted\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{indexed:!0,internalType:\"address\",name:\"account\",type:\"address\"},{indexed:!0,internalType:\"address\",name:\"sender\",type:\"address\"}],name:\"RoleRevoked\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"uint256\",name:\"startTime\",type:\"uint256\"},{indexed:!1,internalType:\"uint256\",name:\"endTime\",type:\"uint256\"}],name:\"TimeWindowSet\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"uint256\",name:\"balance\",type:\"uint256\"}],name:\"Withdraw\",type:\"event\"},{inputs:[],name:\"DEFAULT_ADMIN_ROLE\",outputs:[{internalType:\"bytes32\",name:\"\",type:\"bytes32\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"ERC712_VERSION\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"userAddress\",type:\"address\"},{internalType:\"bytes\",name:\"functionSignature\",type:\"bytes\"},{internalType:\"bytes32\",name:\"sigR\",type:\"bytes32\"},{internalType:\"bytes32\",name:\"sigS\",type:\"bytes32\"},{internalType:\"uint8\",name:\"sigV\",type:\"uint8\"}],name:\"executeMetaTransaction\",outputs:[{internalType:\"bytes\",name:\"\",type:\"bytes\"}],stateMutability:\"payable\",type:\"function\"},{inputs:[],name:\"getChainId\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"getDomainSeperator\",outputs:[{internalType:\"bytes32\",name:\"\",type:\"bytes32\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"user\",type:\"address\"}],name:\"getNonce\",outputs:[{internalType:\"uint256\",name:\"nonce\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"for_account\",type:\"address\"}],name:\"getPrice\",outputs:[{internalType:\"uint256\",name:\"_price\",type:\"uint256\"},{internalType:\"bool\",name:\"use_discount\",type:\"bool\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"}],name:\"getRoleAdmin\",outputs:[{internalType:\"bytes32\",name:\"\",type:\"bytes32\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{internalType:\"uint256\",name:\"index\",type:\"uint256\"}],name:\"getRoleMember\",outputs:[{internalType:\"address\",name:\"\",type:\"address\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"}],name:\"getRoleMemberCount\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"getSupply\",outputs:[{internalType:\"uint32\",name:\"maxSupply\",type:\"uint32\"},{internalType:\"uint256\",name:\"currentSupply\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"getTimeWindow\",outputs:[{internalType:\"uint256\",name:\"startTime\",type:\"uint256\"},{internalType:\"uint256\",name:\"endTime\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{internalType:\"address\",name:\"account\",type:\"address\"}],name:\"grantRole\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{internalType:\"address\",name:\"account\",type:\"address\"}],name:\"hasRole\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"string\",name:\"domainSeparator\",type:\"string\"}],name:\"initialize\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[],name:\"isWindowOpen\",outputs:[{internalType:\"bool\",name:\"use_discount\",type:\"bool\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"uint256\",name:\"maxPrice\",type:\"uint256\"}],name:\"mintCompi\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{internalType:\"address\",name:\"account\",type:\"address\"}],name:\"renounceRole\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{internalType:\"address\",name:\"account\",type:\"address\"}],name:\"revokeRole\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address[]\",name:\"discountTokens\",type:\"address[]\"},{internalType:\"bool[]\",name:\"discountTokensIsERC1155\",type:\"bool[]\"}],name:\"setDiscountTokens\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"contract IERC20Upgradeable\",name:\"tokenERC20\",type:\"address\"}],name:\"setERC20\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"contract ERC721PresetMinterPauserAutoIdUpgradeable\",name:\"tokenERC721\",type:\"address\"}],name:\"setERC721\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"uint32\",name:\"maxSupply\",type:\"uint32\"}],name:\"setMaxSupply\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"uint256\",name:\"multPrice\",type:\"uint256\"}],name:\"setPrice\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"uint256\",name:\"startTime\",type:\"uint256\"},{internalType:\"uint256\",name:\"endTime\",type:\"uint256\"}],name:\"setTimeWindow\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"bytes4\",name:\"interfaceId\",type:\"bytes4\"}],name:\"supportsInterface\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"withdrawBalance\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"}],fe=[{anonymous:!1,inputs:[{indexed:!0,internalType:\"address\",name:\"owner\",type:\"address\"},{indexed:!0,internalType:\"address\",name:\"approved\",type:\"address\"},{indexed:!0,internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"Approval\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"address\",name:\"owner\",type:\"address\"},{indexed:!0,internalType:\"address\",name:\"operator\",type:\"address\"},{indexed:!1,internalType:\"bool\",name:\"approved\",type:\"bool\"}],name:\"ApprovalForAll\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"string\",name:\"contractURI\",type:\"string\"}],name:\"ContractURISet\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"address\",name:\"userAddress\",type:\"address\"},{indexed:!1,internalType:\"address payable\",name:\"relayerAddress\",type:\"address\"},{indexed:!1,internalType:\"bytes\",name:\"functionSignature\",type:\"bytes\"}],name:\"MetaTransactionExecuted\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"address\",name:\"account\",type:\"address\"}],name:\"Paused\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{indexed:!0,internalType:\"bytes32\",name:\"previousAdminRole\",type:\"bytes32\"},{indexed:!0,internalType:\"bytes32\",name:\"newAdminRole\",type:\"bytes32\"}],name:\"RoleAdminChanged\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{indexed:!0,internalType:\"address\",name:\"account\",type:\"address\"},{indexed:!0,internalType:\"address\",name:\"sender\",type:\"address\"}],name:\"RoleGranted\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{indexed:!0,internalType:\"address\",name:\"account\",type:\"address\"},{indexed:!0,internalType:\"address\",name:\"sender\",type:\"address\"}],name:\"RoleRevoked\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"address\",name:\"from\",type:\"address\"},{indexed:!0,internalType:\"address\",name:\"to\",type:\"address\"},{indexed:!0,internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"Transfer\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"address\",name:\"account\",type:\"address\"}],name:\"Unpaused\",type:\"event\"},{inputs:[],name:\"DEFAULT_ADMIN_ROLE\",outputs:[{internalType:\"bytes32\",name:\"\",type:\"bytes32\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"ERC712_VERSION\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"MINTER_ROLE\",outputs:[{internalType:\"bytes32\",name:\"\",type:\"bytes32\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"PAUSER_ROLE\",outputs:[{internalType:\"bytes32\",name:\"\",type:\"bytes32\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"to\",type:\"address\"},{internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"approve\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"owner\",type:\"address\"}],name:\"balanceOf\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"burn\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[],name:\"contractURI\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"userAddress\",type:\"address\"},{internalType:\"bytes\",name:\"functionSignature\",type:\"bytes\"},{internalType:\"bytes32\",name:\"sigR\",type:\"bytes32\"},{internalType:\"bytes32\",name:\"sigS\",type:\"bytes32\"},{internalType:\"uint8\",name:\"sigV\",type:\"uint8\"}],name:\"executeMetaTransaction\",outputs:[{internalType:\"bytes\",name:\"\",type:\"bytes\"}],stateMutability:\"payable\",type:\"function\"},{inputs:[{internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"getApproved\",outputs:[{internalType:\"address\",name:\"\",type:\"address\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"getChainId\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"getDomainSeperator\",outputs:[{internalType:\"bytes32\",name:\"\",type:\"bytes32\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"user\",type:\"address\"}],name:\"getNonce\",outputs:[{internalType:\"uint256\",name:\"nonce\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"}],name:\"getRoleAdmin\",outputs:[{internalType:\"bytes32\",name:\"\",type:\"bytes32\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{internalType:\"uint256\",name:\"index\",type:\"uint256\"}],name:\"getRoleMember\",outputs:[{internalType:\"address\",name:\"\",type:\"address\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"}],name:\"getRoleMemberCount\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{internalType:\"address\",name:\"account\",type:\"address\"}],name:\"grantRole\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{internalType:\"address\",name:\"account\",type:\"address\"}],name:\"hasRole\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"string\",name:\"name\",type:\"string\"},{internalType:\"string\",name:\"symbol\",type:\"string\"},{internalType:\"string\",name:\"baseTokenURI\",type:\"string\"}],name:\"initialize\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"owner\",type:\"address\"},{internalType:\"address\",name:\"operator\",type:\"address\"}],name:\"isApprovedForAll\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"to\",type:\"address\"}],name:\"mint\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[],name:\"name\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"ownerOf\",outputs:[{internalType:\"address\",name:\"\",type:\"address\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"pause\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[],name:\"paused\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{internalType:\"address\",name:\"account\",type:\"address\"}],name:\"renounceRole\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{internalType:\"address\",name:\"account\",type:\"address\"}],name:\"revokeRole\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"from\",type:\"address\"},{internalType:\"address\",name:\"to\",type:\"address\"},{internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"safeTransferFrom\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"from\",type:\"address\"},{internalType:\"address\",name:\"to\",type:\"address\"},{internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"},{internalType:\"bytes\",name:\"_data\",type:\"bytes\"}],name:\"safeTransferFrom\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"operator\",type:\"address\"},{internalType:\"bool\",name:\"approved\",type:\"bool\"}],name:\"setApprovalForAll\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"string\",name:\"__contractURI\",type:\"string\"}],name:\"setContractURI\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"bytes4\",name:\"interfaceId\",type:\"bytes4\"}],name:\"supportsInterface\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"symbol\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"uint256\",name:\"index\",type:\"uint256\"}],name:\"tokenByIndex\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"owner\",type:\"address\"},{internalType:\"uint256\",name:\"index\",type:\"uint256\"}],name:\"tokenOfOwnerByIndex\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"tokenURI\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"totalSupply\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"from\",type:\"address\"},{internalType:\"address\",name:\"to\",type:\"address\"},{internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"transferFrom\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[],name:\"unpause\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"}],_e=[{anonymous:!1,inputs:[{indexed:!1,internalType:\"address\",name:\"userAddress\",type:\"address\"},{indexed:!1,internalType:\"address payable\",name:\"relayerAddress\",type:\"address\"},{indexed:!1,internalType:\"bytes\",name:\"functionSignature\",type:\"bytes\"}],name:\"MetaTransactionExecuted\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"address\",name:\"_contract\",type:\"address\"},{indexed:!1,internalType:\"uint256\",name:\"id\",type:\"uint256\"},{indexed:!1,internalType:\"string\",name:\"scene\",type:\"string\"},{indexed:!1,internalType:\"string\",name:\"question\",type:\"string\"},{indexed:!1,internalType:\"string\",name:\"answer\",type:\"string\"}],name:\"QuestionAdded\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"address\",name:\"_contract\",type:\"address\"},{indexed:!1,internalType:\"uint256\",name:\"id\",type:\"uint256\"},{indexed:!1,internalType:\"string\",name:\"scene\",type:\"string\"},{indexed:!1,internalType:\"string\",name:\"question\",type:\"string\"}],name:\"QuestionMuted\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"address\",name:\"_contract\",type:\"address\"},{indexed:!1,internalType:\"uint256\",name:\"id\",type:\"uint256\"},{indexed:!1,internalType:\"string\",name:\"scene\",type:\"string\"},{indexed:!1,internalType:\"string\",name:\"question\",type:\"string\"},{indexed:!1,internalType:\"uint256\",name:\"questionId\",type:\"uint256\"}],name:\"QuestionRemoved\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"address\",name:\"_contract\",type:\"address\"},{indexed:!1,internalType:\"uint256\",name:\"id\",type:\"uint256\"},{indexed:!1,internalType:\"string\",name:\"scene\",type:\"string\"},{indexed:!1,internalType:\"string\",name:\"question\",type:\"string\"}],name:\"QuestionUnmuted\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{indexed:!0,internalType:\"bytes32\",name:\"previousAdminRole\",type:\"bytes32\"},{indexed:!0,internalType:\"bytes32\",name:\"newAdminRole\",type:\"bytes32\"}],name:\"RoleAdminChanged\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{indexed:!0,internalType:\"address\",name:\"account\",type:\"address\"},{indexed:!0,internalType:\"address\",name:\"sender\",type:\"address\"}],name:\"RoleGranted\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{indexed:!0,internalType:\"address\",name:\"account\",type:\"address\"},{indexed:!0,internalType:\"address\",name:\"sender\",type:\"address\"}],name:\"RoleRevoked\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"address\",name:\"_contract\",type:\"address\"},{indexed:!1,internalType:\"uint256\",name:\"id\",type:\"uint256\"},{indexed:!1,internalType:\"string\",name:\"name\",type:\"string\"}],name:\"nameSet\",type:\"event\"},{inputs:[],name:\"DEFAULT_ADMIN_ROLE\",outputs:[{internalType:\"bytes32\",name:\"\",type:\"bytes32\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"ERC712_VERSION\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"_contract\",type:\"address\"},{internalType:\"uint256\",name:\"id\",type:\"uint256\"},{internalType:\"string\",name:\"scene\",type:\"string\"},{internalType:\"string\",name:\"question\",type:\"string\"},{internalType:\"string\",name:\"answer\",type:\"string\"}],name:\"addQuestion\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"userAddress\",type:\"address\"},{internalType:\"bytes\",name:\"functionSignature\",type:\"bytes\"},{internalType:\"bytes32\",name:\"sigR\",type:\"bytes32\"},{internalType:\"bytes32\",name:\"sigS\",type:\"bytes32\"},{internalType:\"uint8\",name:\"sigV\",type:\"uint8\"}],name:\"executeMetaTransaction\",outputs:[{internalType:\"bytes\",name:\"\",type:\"bytes\"}],stateMutability:\"payable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"_contract\",type:\"address\"},{internalType:\"uint256\",name:\"id\",type:\"uint256\"},{internalType:\"string\",name:\"scene\",type:\"string\"},{internalType:\"string\",name:\"question\",type:\"string\"}],name:\"getAnswer\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"getChainId\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"getDomainSeperator\",outputs:[{internalType:\"bytes32\",name:\"\",type:\"bytes32\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"_contract\",type:\"address\"},{internalType:\"uint256\",name:\"id\",type:\"uint256\"}],name:\"getName\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"user\",type:\"address\"}],name:\"getNonce\",outputs:[{internalType:\"uint256\",name:\"nonce\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"_contract\",type:\"address\"},{internalType:\"uint256\",name:\"id\",type:\"uint256\"},{internalType:\"string\",name:\"scene\",type:\"string\"},{internalType:\"uint256\",name:\"offset\",type:\"uint256\"}],name:\"getQuestions\",outputs:[{internalType:\"string[]\",name:\"\",type:\"string[]\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"_contract\",type:\"address\"},{internalType:\"uint256\",name:\"id\",type:\"uint256\"},{internalType:\"string\",name:\"scene\",type:\"string\"}],name:\"getQuestionsCount\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"}],name:\"getRoleAdmin\",outputs:[{internalType:\"bytes32\",name:\"\",type:\"bytes32\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{internalType:\"uint256\",name:\"index\",type:\"uint256\"}],name:\"getRoleMember\",outputs:[{internalType:\"address\",name:\"\",type:\"address\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"}],name:\"getRoleMemberCount\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{internalType:\"address\",name:\"account\",type:\"address\"}],name:\"grantRole\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{internalType:\"address\",name:\"account\",type:\"address\"}],name:\"hasRole\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"string\",name:\"domainSeparator\",type:\"string\"}],name:\"initialize\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"_contract\",type:\"address\"},{internalType:\"uint256\",name:\"id\",type:\"uint256\"},{internalType:\"string\",name:\"scene\",type:\"string\"},{internalType:\"string\",name:\"question\",type:\"string\"}],name:\"isQuestionMuted\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"_contract\",type:\"address\"},{internalType:\"uint256\",name:\"id\",type:\"uint256\"},{internalType:\"string\",name:\"scene\",type:\"string\"},{internalType:\"string\",name:\"question\",type:\"string\"}],name:\"muteQuestion\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"_contract\",type:\"address\"},{internalType:\"uint256\",name:\"id\",type:\"uint256\"},{internalType:\"string\",name:\"scene\",type:\"string\"},{internalType:\"string\",name:\"question\",type:\"string\"},{internalType:\"uint256\",name:\"questionId\",type:\"uint256\"}],name:\"removeQuestion\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{internalType:\"address\",name:\"account\",type:\"address\"}],name:\"renounceRole\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"bytes32\",name:\"role\",type:\"bytes32\"},{internalType:\"address\",name:\"account\",type:\"address\"}],name:\"revokeRole\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"_contract\",type:\"address\"},{internalType:\"uint256\",name:\"id\",type:\"uint256\"},{internalType:\"string\",name:\"name\",type:\"string\"}],name:\"setName\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"bytes4\",name:\"interfaceId\",type:\"bytes4\"}],name:\"supportsInterface\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"_contract\",type:\"address\"},{internalType:\"uint256\",name:\"id\",type:\"uint256\"},{internalType:\"string\",name:\"scene\",type:\"string\"},{internalType:\"string\",name:\"question\",type:\"string\"}],name:\"unmuteQuestion\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"}],be=function(){function e(e,t){if(e!=A.MUMBAI&&e!=A.MATIC&&e!=A.MOCKUP)throw new Error(\"Network not found: \"+e);if(t!=E.COMPICACTUS&&t!=E.VOXTER)throw new Error(\"Character not found: \"+t);this.contracts=this.getContracts(t),this.character=t,this.network=e,e==A.MUMBAI?(this.provider=new o.HTTPProvider(\"https://matic-mumbai.chainstacklabs.com/\"),this.mana_contract=this.contracts.mana.mumbai,this.minter_contract=this.contracts.minter.mumbai,this.pfp_contract=this.contracts.pfp.mumbai,this.brain_contract=this.contracts.brain.mumbai):e==A.MATIC&&(this.provider=new o.HTTPProvider(\"https://rpc-mainnet.maticvigil.com\"),this.mana_contract=this.contracts.mana.matic,this.minter_contract=this.contracts.minter.matic,this.pfp_contract=this.contracts.pfp.matic,this.brain_contract=this.contracts.brain.matic),this.metaRequestManager=new o.RequestManager(this.provider)}return e.prototype.getContracts=function(e){var t;return e==E.COMPICACTUS?t={matic:{address:\"0xB1Eb9BE1Cf04a19448355893ca357f6F010b03B6\",name:\"CompiPFP\"},mumbai:{address:\"0xcF904EeCa0dC1d99E6c4Be05f6C9a733041Ce093\",name:\"CompiPFP\"}}:e==E.VOXTER&&(t={matic:{address:\"0x764e5a8c9ca14b456f5afbf31bfb2fa7f1e002b6\",name:\"Voxters\"},mumbai:{address:\"\",name:\"\"}}),{mana:{matic:{version:\"1\",abi:he,address:\"0xA1c57f48F0Deb89f569dFbE6E2B7f46D33606fD4\",name:\"(PoS) Decentraland MANA\",chainId:137},mumbai:{version:\"1\",abi:he,address:\"0x4dA830330048be6380f102a83d3B94ea318bc598\",name:\"Decentraland MANA (PoS)\",chainId:80001}},minter:{matic:{version:\"1\",abi:ge,address:\"0x2E88409bD7eBc3A7b68b808994E2873645b1128D\",name:\"CompiMinter\",chainId:137},mumbai:{version:\"1\",abi:ge,address:\"0x0d7c91B526bA1334be837a82e92d6ca47ac6bCD7\",name:\"CompiMinter\",chainId:80001}},pfp:{matic:{version:\"1\",abi:fe,address:t.matic.address,name:t.matic.name,chainId:137},mumbai:{version:\"1\",abi:fe,address:t.mumbai.address,name:t.mumbai.name,chainId:80001}},brain:{matic:{version:\"1\",abi:_e,address:\"0x89e2558091D28290B834ddd42e59E2b72D07Fe0B\",name:\"CompiBrain\",chainId:137},mumbai:{version:\"1\",abi:_e,address:\"0x308aF74242aFb7bC598Ff1ced52De1D3E6cb02d7\",name:\"CompiBrain\",chainId:80001}}}},e.prototype.getFunction=function(e,t){for(var n=0;n<t.length;n++)if(\"function\"==t[n].type&&t[n].name==e)return t[n];throw new Error(\"Function not found: \"+e)},e.prototype.prepareMetaTransaction=function(e,t){return c(this,void 0,void 0,(function(){var i;return y(this,(function(a){switch(a.label){case 0:return[4,n.getProvider()];case 1:return i=a.sent(),[2,me(new o.RequestManager(i),this.metaRequestManager,e.data,t)]}}))}))},e.prototype.getFactory=function(e){return c(this,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return t=new o.RequestManager(this.provider),[4,new o.ContractFactory(t,e.abi).at(e.address)];case 1:return[2,n.sent()]}}))}))},e.prototype.waitTX=function(e){return c(this,void 0,void 0,(function(){var t,n;return y(this,(function(i){switch(i.label){case 0:t=new o.RequestManager(this.provider),n=null,i.label=1;case 1:return null!=n?[3,3]:(g(2e3),[4,t.eth_getTransactionReceipt(e.toString())]);case 2:return n=i.sent(),[3,1];case 3:return[2,n]}}))}))},e.prototype.getPrice=function(){return c(this,void 0,void 0,(function(){var e,n=this;return y(this,(function(i){switch(i.label){case 0:return this.network!=A.MOCKUP?[3,2]:[4,this.mockupAnswer([1e19,!1])];case 1:return[2,i.sent()];case 2:return[4,t.getUserPublicKey()];case 3:return e=i.sent(),log(\"publicKeyRequest\",e),[2,this.getFactory(this.minter_contract).then((function(t){return c(n,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:return[4,t.getPrice(e)];case 1:return[2,n.sent()]}}))}))}))]}}))}))},e.prototype.wei2human=function(e){return o.fromWei(e,\"ether\")},e.prototype.isWindowOpen=function(){return c(this,void 0,void 0,(function(){var e=this;return y(this,(function(t){return[2,this.getFactory(this.minter_contract).then((function(t){return c(e,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,t.isWindowOpen()];case 1:return[2,e.sent()]}}))}))}))]}))}))},e.prototype.getTimeWindow=function(){return c(this,void 0,void 0,(function(){var e=this;return y(this,(function(t){return[2,this.getFactory(this.minter_contract).then((function(t){return c(e,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,t.getTimeWindow()];case 1:return[2,e.sent()]}}))}))}))]}))}))},e.prototype.mintCompi=function(e){return c(this,void 0,void 0,(function(){var t,n,i=this;return y(this,(function(a){return t=new o.SolidityFunction(this.getFunction(\"mintCompi\",ge)),n=t.toPayload([e]),log(n),[2,this.prepareMetaTransaction(n,this.minter_contract).then((function(e){return c(i,void 0,void 0,(function(){return y(this,(function(t){return log(\"increaseAllowance TX \",e),[2,this.waitTX(e)]}))}))})).then().catch()]}))}))},e.prototype.balance=function(){return c(this,void 0,void 0,(function(){var e,n=this;return y(this,(function(i){switch(i.label){case 0:return[4,t.getUserPublicKey()];case 1:return e=i.sent(),[2,this.getFactory(this.mana_contract).then((function(t){return c(n,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:return[4,t.balanceOf(e)];case 1:return[2,n.sent()]}}))}))}))]}}))}))},e.prototype.increaseAllowance=function(e){return c(this,void 0,void 0,(function(){var t,n,i=this;return y(this,(function(a){return t=new o.SolidityFunction(this.getFunction(\"increaseAllowance\",he)),n=t.toPayload([this.minter_contract.address,e]),log(n),[2,this.prepareMetaTransaction(n,this.mana_contract).then((function(e){return c(i,void 0,void 0,(function(){return y(this,(function(t){return log(\"increaseAllowance TX \",e),[2,this.waitTX(e)]}))}))})).then().catch()]}))}))},e.prototype.balanceOf=function(){return c(this,void 0,void 0,(function(){var e,n=this;return y(this,(function(i){switch(i.label){case 0:return this.network!=A.MOCKUP?[3,2]:[4,this.mockupAnswer(3)];case 1:return[2,i.sent()];case 2:return[4,t.getUserPublicKey()];case 3:return e=i.sent(),log(\"publicKeyRequest\",e),[2,this.getFactory(this.pfp_contract).then((function(t){return c(n,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:return[4,t.balanceOf(e)];case 1:return[2,n.sent()]}}))}))}))]}}))}))},e.prototype.tokenOfOwnerByIndex=function(e){return c(this,void 0,void 0,(function(){var n,i=this;return y(this,(function(a){switch(a.label){case 0:return this.network!=A.MOCKUP?[3,2]:[4,this.mockupAnswer(e)];case 1:return[2,a.sent()];case 2:return[4,t.getUserPublicKey()];case 3:return n=a.sent(),log(\"publicKeyRequest\",n),[2,this.getFactory(this.pfp_contract).then((function(t){return c(i,void 0,void 0,(function(){return y(this,(function(i){switch(i.label){case 0:return[4,t.tokenOfOwnerByIndex(n,e)];case 1:return[2,i.sent()]}}))}))}))]}}))}))},e.prototype.getName=function(e){return c(this,void 0,void 0,(function(){var t=this;return y(this,(function(n){switch(n.label){case 0:return this.network!=A.MOCKUP?[3,2]:[4,this.mockupAnswer(\"Mockup Name\")];case 1:return[2,n.sent()];case 2:return[2,this.getFactory(this.brain_contract).then((function(n){return c(t,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,n.getName(this.pfp_contract.address,e)];case 1:return[2,t.sent()]}}))}))}))]}}))}))},e.prototype.getQuestionsCount=function(e){return c(this,void 0,void 0,(function(){var t=this;return y(this,(function(n){switch(n.label){case 0:return this.network!=A.MOCKUP?[3,2]:[4,this.mockupAnswer(30)];case 1:return[2,n.sent()];case 2:return\"default\",[2,this.getFactory(this.brain_contract).then((function(n){return c(t,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,n.getQuestionsCount(this.pfp_contract.address,e,\"default\")];case 1:return[2,t.sent()]}}))}))}))]}}))}))},e.prototype.setName=function(e,t){return c(this,void 0,void 0,(function(){var n,i,a=this;return y(this,(function(r){switch(r.label){case 0:return this.network!=A.MOCKUP?[3,2]:[4,this.mockupAnswer(0)];case 1:return[2,r.sent()];case 2:return n=new o.SolidityFunction(this.getFunction(\"setName\",_e)),i=n.toPayload([this.pfp_contract.address,e,t]),log(i),[2,this.prepareMetaTransaction(i,this.brain_contract).then((function(e){return c(a,void 0,void 0,(function(){return y(this,(function(t){return log(\"setName TX \",e),[2,this.waitTX(e)]}))}))})).then().catch()]}}))}))},e.prototype.addQuestion=function(e,t,n){return c(this,void 0,void 0,(function(){var i,a,r=this;return y(this,(function(s){switch(s.label){case 0:return this.network!=A.MOCKUP?[3,2]:[4,this.mockupAnswer(0)];case 1:return[2,s.sent()];case 2:return\"default\",i=new o.SolidityFunction(this.getFunction(\"addQuestion\",_e)),a=i.toPayload([this.pfp_contract.address,e,\"default\",t,n]),log(a),[2,this.prepareMetaTransaction(a,this.brain_contract).then((function(e){return c(r,void 0,void 0,(function(){return y(this,(function(t){return log(\"addQuestion TX \",e),[2,this.waitTX(e)]}))}))})).then().catch()]}}))}))},e.prototype.removeQuestion=function(e,t,n){return c(this,void 0,void 0,(function(){var i,a,r=this;return y(this,(function(s){switch(s.label){case 0:return this.network!=A.MOCKUP?[3,2]:(log(\"removeQuestion\",t,n),[4,this.mockupAnswer(0)]);case 1:return[2,s.sent()];case 2:return\"default\",i=new o.SolidityFunction(this.getFunction(\"removeQuestion\",_e)),a=i.toPayload([this.pfp_contract.address,e,\"default\",t,n]),log(a),[2,this.prepareMetaTransaction(a,this.brain_contract).then((function(e){return c(r,void 0,void 0,(function(){return y(this,(function(t){return log(\"removeQuestion TX \",e),[2,this.waitTX(e)]}))}))})).then().catch()]}}))}))},e.prototype.getAnswer=function(e,t){return c(this,void 0,void 0,(function(){var n=this;return y(this,(function(i){switch(i.label){case 0:return this.network!=A.MOCKUP?[3,2]:[4,this.mockupAnswer(\"This is an answer to \"+e+\" \"+t)];case 1:return[2,i.sent()];case 2:return\"default\",[2,this.getFactory(this.brain_contract).then((function(i){return c(n,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:return[4,i.getAnswer(this.pfp_contract.address,e,\"default\",t)];case 1:return[2,n.sent()]}}))}))}))]}}))}))},e.prototype.getQuestions=function(e,t){return c(this,void 0,void 0,(function(){var n=this;return y(this,(function(i){switch(i.label){case 0:return this.network!=A.MOCKUP?[3,2]:[4,this.mockupAnswer(this.getMockupQuestions(e,t))];case 1:return[2,i.sent()];case 2:return\"default\",[2,this.getFactory(this.brain_contract).then((function(i){return c(n,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:return[4,i.getQuestions(this.pfp_contract.address,e,\"default\",t)];case 1:return[2,n.sent()]}}))}))}))]}}))}))},e.prototype.getMockupQuestions=function(e,t){var n,i=[];n=t<20?10:t<30?3:0;for(var a=0;a<10;a++)i.push(\"\");for(a=0;a<n;a++)i[a]=\"Q \"+a+\" (\"+e+\", \"+t+\")\";return i},e.prototype.mockupAnswer=function(e){return c(this,void 0,void 0,(function(){var t;return y(this,(function(n){return t=500+500*Math.random(),0==e&&(t=100),g(t),[2,e]}))}))},e}();e.Blockchain=be,e.CHARACTER=E,e.CompiNPC=H,e.CompiNPCSystem=G,e.Compicactus=b,e.NETWORK=A,Object.defineProperty(e,\"__esModule\",{value:!0})}));\n//# sourceMappingURL=index.js.map\n",
    "sha256": "4fe6d0b839771adf6fe5986e5b928559e1681392bccd42929072ae0852dfb454"
  },
  {
    "path": "node_modules/@dcl/crypto-scene-utils/dist/index.js",
    "content": "define(\"@dcl/crypto-scene-utils\",[\"exports\",\"@decentraland/EthereumController\",\"@decentraland/EnvironmentAPI\",\"eth-connect\",\"@decentraland/web3-provider\",\"@dcl/ecs-scene-utils\"],(function(e,t,n,a,s,i){\"use strict\";\n/*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */var r,d,o,c,u,l,p=function(){return(p=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function y(e,t,n,a){return new(n||(n=Promise))((function(s,i){function r(e){try{o(a.next(e))}catch(e){i(e)}}function d(e){try{o(a.throw(e))}catch(e){i(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,d)}o((a=a.apply(e,t||[])).next())}))}function b(e,t){var n,a,s,i,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:d(0),throw:d(1),return:d(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function d(i){return function(d){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;r;)try{if(n=1,a&&(s=2&i[0]?a.return:i[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,i[1])).done)return s;switch(a=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(s=r.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){r=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){r.label=i[1];break}if(6===i[0]&&r.label<s[1]){r.label=s[1],s=i;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(i);break}s[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,d])}}}function m(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function f(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,s,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){s={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return r}function x(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function v(){return n.getCurrentRealm().then((function(e){return\"http://127.0.0.1:8000\"!=e.domain?e.domain:\"https://peer.decentraland.org\"}))}function g(e,t){var n=t.id,a=t.data,s=t.rarity,i=t.i18n,r=t.thumbnail,d=t.image,o=a.category,c=a.tags,l=a.hides,p=a.replaces,y=a.representations.map(T),b=r.substring(r.lastIndexOf(\"/\")+1),m=d?d.substring(d.lastIndexOf(\"/\")+1):void 0;return{id:n,type:u.Wearable,category:o,tags:c,hides:l,replaces:p,rarity:s,representations:y,i18n:i,thumbnail:b,image:m,baseUrl:e+\"/content/contents/\"}}function T(e){var t=e.contents,n=e.bodyShapes,a=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]])}return n}(e,[\"contents\",\"bodyShapes\"]),s=t.map((function(e){var t=e.key,n=e.url;return{file:t,hash:n.substring(n.lastIndexOf(\"/\")+1)}}));return p(p({},a),{bodyShapes:n,contents:s})}function h(e){return y(this,void 0,void 0,(function(){var n,a;return b(this,(function(s){switch(s.label){case 0:return e?(a=\"https://peer.decentraland.org\",[3,3]):[3,1];case 1:return[4,v()];case 2:a=s.sent(),s.label=3;case 3:return n=a,e?[3,5]:[4,t.getUserAccount().then((function(e){return e.toLowerCase()}))];case 4:e=s.sent(),s.label=5;case 5:return[4,fetch(n+\"/content/entities/profiles?pointer=\"+(null==e?void 0:e.toLowerCase())).then((function(e){return e.json()})).then((function(e){return e.length?e[0]:e}))];case 6:return[2,s.sent()]}}))}))}function _(e){return y(this,void 0,void 0,(function(){var n,a,s,i,r,d,o,c,u,l,p;return b(this,(function(y){switch(y.label){case 0:return e?[3,2]:[4,t.getUserAccount()];case 1:e=y.sent(),y.label=2;case 2:return[4,v()];case 3:return n=y.sent(),[4,fetch(n+\"/lambdas/collections/wearables-by-owner/\"+e)];case 4:return[4,y.sent().json()];case 5:a=y.sent(),s=[];try{for(i=m(a),r=i.next();!r.done;r=i.next())for(d=r.value,o=d.urn,c=d.amount,u=0;u<c;u++)s.push(o)}catch(e){l={error:e}}finally{try{r&&!r.done&&(p=i.return)&&p.call(i)}finally{if(l)throw l.error}}return[2,s]}}))}))}function w(e){return y(this,void 0,void 0,(function(){var n,a,s,i,r,d,o,c,u,l,p,y;return b(this,(function(b){switch(b.label){case 0:return e?[3,2]:[4,t.getUserAccount()];case 1:e=b.sent(),b.label=2;case 2:return[4,v()];case 3:return n=b.sent(),[4,fetch(n+\"/lambdas/collections/wearables-by-owner/\"+e+\"?includeDefinitions\")];case 4:return[4,b.sent().json()];case 5:a=b.sent(),s=[];try{for(i=m(a),r=i.next();!r.done;r=i.next())if(d=r.value,o=d.definition,c=d.amount,o)for(u=g(n,o),l=0;l<c;l++)s.push(u)}catch(e){p={error:e}}finally{try{r&&!r.done&&(y=i.return)&&y.call(i)}finally{if(p)throw p.error}}return[2,s]}}))}))}function A(e,t){return void 0===t&&(t=!1),y(this,void 0,void 0,(function(){var n,a,s,i,r,d,o,c,u,l,p,y,f;return b(this,(function(b){switch(b.label){case 0:return n=e.map(I),t?[4,M()]:[3,2];case 1:a=b.sent(),s=a.map(I);try{for(i=m(s),r=i.next();!r.done;r=i.next())if(u=r.value,-1!=n.indexOf(u))return[2,!0]}catch(e){l={error:e}}finally{try{r&&!r.done&&(p=i.return)&&p.call(i)}finally{if(l)throw l.error}}return[3,4];case 2:return[4,_()];case 3:d=b.sent();try{for(o=m(d),c=o.next();!c.done;c=o.next())if(u=c.value,-1!=n.indexOf(u))return[2,!0]}catch(e){y={error:e}}finally{try{c&&!c.done&&(f=o.return)&&f.call(o)}finally{if(y)throw y.error}}b.label=4;case 4:return[2,!1]}}))}))}function M(){var e;return y(this,void 0,void 0,(function(){var t;return b(this,(function(n){switch(n.label){case 0:return[4,h()];case 1:return t=n.sent(),[2,null===(e=t.metadata.avatars[0])||void 0===e?void 0:e.avatar.wearables]}}))}))}!function(e){e.BodyShape=\"body_shape\",e.Earring=\"earring\",e.Empty=\"\",e.Eyebrows=\"eyebrows\",e.Eyes=\"eyes\",e.Eyewear=\"eyewear\",e.FacialHair=\"facial_hair\",e.Feet=\"feet\",e.Hair=\"hair\",e.Hat=\"hat\",e.Head=\"head\",e.Helmet=\"helmet\",e.LowerBody=\"lower_body\",e.Mask=\"mask\",e.Mouth=\"mouth\",e.Tiara=\"tiara\",e.TopHead=\"top_head\",e.UpperBody=\"upper_body\"}(r||(r={})),function(e){e.En=\"en\",e.Es=\"es\"}(d||(d={})),function(e){e.Unique=\"unique\",e.Legendary=\"legendary\",e.Mythic=\"mythic\",e.Epic=\"epic\",e.Rare=\"rare\",e.Uncommon=\"uncommon\",e.Common=\"common\"}(o||(o={})),function(e){e.Basefemale=\"Basefemale\",e.DCLBaseAvatarsBaseFemale=\"dcl://base-avatars/BaseFemale\",e.DCLBaseAvatarsBaseMale=\"dcl://base-avatars/BaseMale\"}(c||(c={})),function(e){e.Wearable=\"wearable\"}(u||(u={})),function(e){e[e.none=0]=\"none\",e[e.common=1]=\"common\",e[e.uncommon=2]=\"uncommon\",e[e.rare=3]=\"rare\",e[e.epic=4]=\"epic\",e[e.mythic=5]=\"mythic\",e[e.legendary=6]=\"legendary\",e[e.unique=7]=\"unique\"}(l||(l={}));var C=0;function k(e){var t=0;switch(e){case\"common\":t=1;break;case\"uncommon\":t=2;break;case\"rare\":t=3;break;case\"epic\":t=4;break;case\"mythic\":t=5;break;case\"legendary\":t=6;break;case\"unique\":t=7}t>C&&(C=t)}function I(e){if(e.indexOf(\"dcl://\")<0)return e;var t=f(e.replace(\"dcl://\",\"\").split(\"/\"),2),n=t[0],a=t[1];return\"base-avatars\"===n?\"urn:decentraland:off-chain:base-avatars:\"+a:\"urn:decentraland:ethereum:collections-v1:\"+n+\":\"+a}var E=Object.freeze({__proto__:null,getUserInfo:h,getUserInventory:_,getUserFullInventory:w,itemInInventory:function(e,t){return void 0===t&&(t=!1),A([e],t)},itemsInInventory:A,equipedItems:M,rarestItem:function(e){var t;return void 0===e&&(e=!1),y(this,void 0,void 0,(function(){var n,a,s,i,r,d,o,c,u,p,y,f,x,v,g,T;return b(this,(function(b){switch(b.label){case 0:return[4,h()];case 1:return n=b.sent(),[4,w()];case 2:if(a=b.sent(),!n||!a)return[2,l.none];if(e)try{for(s=m(null===(t=n.metadata.avatars[0])||void 0===t?void 0:t.avatar.wearables),i=s.next();!i.done;i=s.next()){r=i.value;try{for(x=void 0,d=m(a),o=d.next();!o.done;o=d.next())p=o.value,r==p.id&&p.rarity&&k(p.rarity)}catch(e){x={error:e}}finally{try{o&&!o.done&&(v=d.return)&&v.call(d)}finally{if(x)throw x.error}}}}catch(e){y={error:e}}finally{try{i&&!i.done&&(f=s.return)&&f.call(s)}finally{if(y)throw y.error}}else try{for(c=m(a),u=c.next();!u.done;u=c.next())(p=u.value).rarity&&k(p.rarity)}catch(e){g={error:e}}finally{try{u&&!u.done&&(T=c.return)&&T.call(c)}finally{if(g)throw g.error}}return log(l[C]),[2,C]}}))}))},updateRarity:k,getPlayerSnapshots:function(e){return y(this,void 0,void 0,(function(){var t,n;return b(this,(function(a){switch(a.label){case 0:return e?[3,2]:[4,h()];case 1:t=a.sent(),e=t.id,a.label=2;case 2:return[4,v()];case 3:return n=a.sent(),[4,fetch(n+\"/lambdas/profiles?field=snapshots&id=\"+e.toLowerCase()).then((function(e){return e.json()})).then((function(e){return e[0].avatars.length?e[0].avatars[0].avatar.snapshots:null}))];case 4:return[2,a.sent()]}}))}))}});var R=Object.freeze({__proto__:null,signMessage:function(e){return y(this,void 0,void 0,(function(){var n,a,s,i;return b(this,(function(r){switch(r.label){case 0:return[4,t.convertMessageToObject(e)];case 1:return n=r.sent(),[4,t.signMessage(n)];case 2:return a=r.sent(),s=a.message,i=a.signature,[2,{message:s,signature:i}]}}))}))}}),O=[{constant:!0,inputs:[],name:\"name\",outputs:[{name:\"\",type:\"string\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{name:\"_spender\",type:\"address\"},{name:\"_value\",type:\"uint256\"}],name:\"approve\",outputs:[{name:\"\",type:\"bool\"}],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[],name:\"totalSupply\",outputs:[{name:\"\",type:\"uint256\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{name:\"_from\",type:\"address\"},{name:\"_to\",type:\"address\"},{name:\"_value\",type:\"uint256\"}],name:\"transferFrom\",outputs:[{name:\"\",type:\"bool\"}],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[],name:\"decimals\",outputs:[{name:\"\",type:\"uint8\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[{name:\"_owner\",type:\"address\"}],name:\"balanceOf\",outputs:[{name:\"balance\",type:\"uint256\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[],name:\"symbol\",outputs:[{name:\"\",type:\"string\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{name:\"_to\",type:\"address\"},{name:\"_value\",type:\"uint256\"}],name:\"transfer\",outputs:[{name:\"\",type:\"bool\"}],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[{name:\"_owner\",type:\"address\"},{name:\"_spender\",type:\"address\"}],name:\"allowance\",outputs:[{name:\"\",type:\"uint256\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{payable:!0,stateMutability:\"payable\",type:\"fallback\"},{anonymous:!1,inputs:[{indexed:!0,name:\"owner\",type:\"address\"},{indexed:!0,name:\"spender\",type:\"address\"},{indexed:!1,name:\"value\",type:\"uint256\"}],name:\"Approval\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,name:\"from\",type:\"address\"},{indexed:!0,name:\"to\",type:\"address\"},{indexed:!1,name:\"value\",type:\"uint256\"}],name:\"Transfer\",type:\"event\"}];function S(e){return new Promise((function(t,n){var a=new Entity;engine.addEntity(a),a.addComponent(new i.Delay(e,(function(){t(),engine.removeEntity(a)})))}))}function N(e){return y(this,void 0,void 0,(function(){var t,n;return b(this,(function(i){switch(i.label){case 0:return[4,s.getProvider()];case 1:return t=i.sent(),n=new a.RequestManager(t),[4,new a.ContractFactory(n,O).at(e)];case 2:return[2,{contract:i.sent(),provider:t,requestManager:n}]}}))}))}function L(e,n,a,s){return void 0===s&&(s=!1),y(this,void 0,void 0,(function(){var i,r,d,o,c,u;return b(this,(function(l){switch(l.label){case 0:return[4,N(e)];case 1:return i=l.sent(),r=i.contract,d=i.requestManager,[4,t.getUserAccount()];case 2:return o=l.sent(),[4,r.transfer(n.toLowerCase(),a,{from:o})];case 3:if(c=l.sent(),u=null,!s)return[3,8];l.label=4;case 4:return null!=u?[3,7]:[4,S(2e3)];case 5:return l.sent(),[4,d.eth_getTransactionReceipt(c.toString())];case 6:return u=l.sent(),[3,4];case 7:return[2,u];case 8:return[2,c]}}))}))}function D(e,t,n){return y(this,void 0,void 0,(function(){return b(this,(function(a){switch(a.label){case 0:return[4,N(e)];case 1:return[4,a.sent().contract.allowance(t,n)];case 2:return[2,+a.sent()>1e24]}}))}))}function P(e,n,a,s){return void 0===a&&(a=!1),void 0===s&&(s=\"0x0000000000000000001000000000000000000000000000000000000000000000\"),y(this,void 0,void 0,(function(){var i,r,d,o,c,u;return b(this,(function(l){switch(l.label){case 0:return[4,N(e)];case 1:return i=l.sent(),r=i.contract,d=i.requestManager,[4,t.getUserAccount()];case 2:return o=l.sent(),[4,r.approve(n,s,{from:o})];case 3:if(c=l.sent(),u=null,!a)return[3,8];l.label=4;case 4:return null!=u?[3,7]:[4,S(2e3)];case 5:return l.sent(),[4,d.eth_getTransactionReceipt(c.toString())];case 6:return u=l.sent(),[3,4];case 7:return[2,u];case 8:return[2,c]}}))}))}function B(e,t,n){return y(this,void 0,void 0,(function(){return b(this,(function(a){switch(a.label){case 0:return[4,N(e)];case 1:return[4,a.sent().contract.allowance(t,n)];case 2:return[2,a.sent()]}}))}))}function F(e,t){return y(this,void 0,void 0,(function(){return b(this,(function(n){switch(n.label){case 0:return[4,N(e)];case 1:return[4,n.sent().contract.balanceOf(t)];case 2:return[2,n.sent()]}}))}))}var U=Object.freeze({__proto__:null,getContract:N,send:L,isApproved:D,setApproval:P,allowance:B,balance:F});function q(){return y(this,void 0,void 0,(function(){return b(this,(function(e){switch(e.label){case 0:return[4,t.getUserAccount()];case 1:return[2,F(\"0x0f5d2fb29fb7d3cfee444a200298f468908cc942\",e.sent())]}}))}))}var K=Object.freeze({__proto__:null,send:function(e,t,n){return void 0===n&&(n=!1),L(\"0x0f5d2fb29fb7d3cfee444a200298f468908cc942\",e.toLowerCase(),+a.toWei(t.toString(),\"ether\").toString(),n)},myBalance:q,balance:function(e){return y(this,void 0,void 0,(function(){return b(this,(function(t){return[2,F(\"0x0f5d2fb29fb7d3cfee444a200298f468908cc942\",e)]}))}))}}),H=[{constant:!0,inputs:[{internalType:\"bytes4\",name:\"interfaceId\",type:\"bytes4\"}],name:\"supportsInterface\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{internalType:\"address\",name:\"_from\",type:\"address\"},{internalType:\"address\",name:\"_to\",type:\"address\"},{internalType:\"uint256[]\",name:\"_tokenIds\",type:\"uint256[]\"}],name:\"safeBatchTransferFrom\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[],name:\"name\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[{internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"getApproved\",outputs:[{internalType:\"address\",name:\"\",type:\"address\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{internalType:\"address\",name:\"to\",type:\"address\"},{internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"approve\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!1,inputs:[{internalType:\"address[]\",name:\"_beneficiaries\",type:\"address[]\"},{internalType:\"bytes32[]\",name:\"_wearableIds\",type:\"bytes32[]\"}],name:\"issueTokens\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[],name:\"totalSupply\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{internalType:\"address\",name:\"from\",type:\"address\"},{internalType:\"address\",name:\"to\",type:\"address\"},{internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"transferFrom\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!1,inputs:[{internalType:\"address\",name:\"_from\",type:\"address\"},{internalType:\"address\",name:\"_to\",type:\"address\"},{internalType:\"uint256[]\",name:\"_tokenIds\",type:\"uint256[]\"},{internalType:\"bytes\",name:\"_data\",type:\"bytes\"}],name:\"safeBatchTransferFrom\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[{internalType:\"address\",name:\"owner\",type:\"address\"},{internalType:\"uint256\",name:\"index\",type:\"uint256\"}],name:\"tokenOfOwnerByIndex\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{internalType:\"string\",name:\"_wearableId\",type:\"string\"},{internalType:\"uint256\",name:\"_maxIssuance\",type:\"uint256\"}],name:\"addWearable\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!1,inputs:[{internalType:\"bytes32[]\",name:\"_wearableIds\",type:\"bytes32[]\"},{internalType:\"uint256[]\",name:\"_maxIssuances\",type:\"uint256[]\"}],name:\"addWearables\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!1,inputs:[{internalType:\"address\",name:\"from\",type:\"address\"},{internalType:\"address\",name:\"to\",type:\"address\"},{internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"safeTransferFrom\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!1,inputs:[{internalType:\"address\",name:\"_operator\",type:\"address\"},{internalType:\"bool\",name:\"_allowed\",type:\"bool\"}],name:\"setAllowed\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[{internalType:\"uint256\",name:\"index\",type:\"uint256\"}],name:\"tokenByIndex\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{internalType:\"string\",name:\"_baseURI\",type:\"string\"}],name:\"setBaseURI\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!1,inputs:[{internalType:\"address\",name:\"_beneficiary\",type:\"address\"},{internalType:\"string\",name:\"_wearableId\",type:\"string\"}],name:\"issueToken\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[{internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"ownerOf\",outputs:[{internalType:\"address\",name:\"\",type:\"address\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[],name:\"baseURI\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[{internalType:\"address\",name:\"owner\",type:\"address\"}],name:\"balanceOf\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[],name:\"renounceOwnership\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[{internalType:\"string\",name:\"_wearableId\",type:\"string\"}],name:\"getWearableKey\",outputs:[{internalType:\"bytes32\",name:\"\",type:\"bytes32\"}],payable:!1,stateMutability:\"pure\",type:\"function\"},{constant:!0,inputs:[],name:\"owner\",outputs:[{internalType:\"address\",name:\"\",type:\"address\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[],name:\"isOwner\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[],name:\"symbol\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{internalType:\"address\",name:\"to\",type:\"address\"},{internalType:\"bool\",name:\"approved\",type:\"bool\"}],name:\"setApprovalForAll\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[],name:\"isComplete\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],name:\"wearables\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{internalType:\"address\",name:\"from\",type:\"address\"},{internalType:\"address\",name:\"to\",type:\"address\"},{internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"},{internalType:\"bytes\",name:\"_data\",type:\"bytes\"}],name:\"safeTransferFrom\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[{internalType:\"bytes32\",name:\"\",type:\"bytes32\"}],name:\"issued\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[{internalType:\"uint256\",name:\"_tokenId\",type:\"uint256\"}],name:\"tokenURI\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[{internalType:\"address\",name:\"\",type:\"address\"}],name:\"allowed\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[],name:\"wearablesCount\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[{internalType:\"bytes32\",name:\"\",type:\"bytes32\"}],name:\"maxIssuance\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[{internalType:\"address\",name:\"owner\",type:\"address\"},{internalType:\"address\",name:\"operator\",type:\"address\"}],name:\"isApprovedForAll\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{internalType:\"address\",name:\"newOwner\",type:\"address\"}],name:\"transferOwnership\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!1,inputs:[{internalType:\"address\",name:\"_from\",type:\"address\"},{internalType:\"address\",name:\"_to\",type:\"address\"},{internalType:\"uint256[]\",name:\"_tokenIds\",type:\"uint256[]\"}],name:\"batchTransferFrom\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!1,inputs:[],name:\"completeCollection\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"string\",name:\"_name\",type:\"string\"},{internalType:\"string\",name:\"_symbol\",type:\"string\"},{internalType:\"address\",name:\"_operator\",type:\"address\"},{internalType:\"string\",name:\"_baseURI\",type:\"string\"}],payable:!1,stateMutability:\"nonpayable\",type:\"constructor\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"string\",name:\"_oldBaseURI\",type:\"string\"},{indexed:!1,internalType:\"string\",name:\"_newBaseURI\",type:\"string\"}],name:\"BaseURI\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"address\",name:\"_operator\",type:\"address\"},{indexed:!1,internalType:\"bool\",name:\"_allowed\",type:\"bool\"}],name:\"Allowed\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"bytes32\",name:\"_wearableIdKey\",type:\"bytes32\"},{indexed:!1,internalType:\"string\",name:\"_wearableId\",type:\"string\"},{indexed:!1,internalType:\"uint256\",name:\"_maxIssuance\",type:\"uint256\"}],name:\"AddWearable\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"address\",name:\"_beneficiary\",type:\"address\"},{indexed:!0,internalType:\"uint256\",name:\"_tokenId\",type:\"uint256\"},{indexed:!0,internalType:\"bytes32\",name:\"_wearableIdKey\",type:\"bytes32\"},{indexed:!1,internalType:\"string\",name:\"_wearableId\",type:\"string\"},{indexed:!1,internalType:\"uint256\",name:\"_issuedId\",type:\"uint256\"}],name:\"Issue\",type:\"event\"},{anonymous:!1,inputs:[],name:\"Complete\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"address\",name:\"from\",type:\"address\"},{indexed:!0,internalType:\"address\",name:\"to\",type:\"address\"},{indexed:!0,internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"Transfer\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"address\",name:\"owner\",type:\"address\"},{indexed:!0,internalType:\"address\",name:\"approved\",type:\"address\"},{indexed:!0,internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"Approval\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"address\",name:\"owner\",type:\"address\"},{indexed:!0,internalType:\"address\",name:\"operator\",type:\"address\"},{indexed:!1,internalType:\"bool\",name:\"approved\",type:\"bool\"}],name:\"ApprovalForAll\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"address\",name:\"previousOwner\",type:\"address\"},{indexed:!0,internalType:\"address\",name:\"newOwner\",type:\"address\"}],name:\"OwnershipTransferred\",type:\"event\"}];function z(e){return y(this,void 0,void 0,(function(){var t,n;return b(this,(function(i){switch(i.label){case 0:return[4,s.getProvider()];case 1:return t=i.sent(),n=new a.RequestManager(t),[4,new a.ContractFactory(n,H).at(e)];case 2:return[2,{contract:i.sent(),provider:t,requestManager:n}]}}))}))}function W(e,t,n){return void 0===n&&(n=!0),y(this,void 0,void 0,(function(){return b(this,(function(a){switch(a.label){case 0:return[4,z(e)];case 1:return[4,a.sent().contract.setApprovalForAll(t,n)];case 2:return[2,!!a.sent()]}}))}))}function j(e,t,n){return y(this,void 0,void 0,(function(){return b(this,(function(a){switch(a.label){case 0:return[4,z(e)];case 1:return[4,a.sent().contract.isApprovedForAll(t,n)];case 2:return[2,!!a.sent()]}}))}))}var G=Object.freeze({__proto__:null,getContract:z,transfer:function(e,n,a,s){return void 0===s&&(s=!1),y(this,void 0,void 0,(function(){var i,r,d,o,c,u;return b(this,(function(l){switch(l.label){case 0:return[4,z(e)];case 1:return i=l.sent(),r=i.contract,d=i.requestManager,[4,t.getUserAccount()];case 2:return o=l.sent(),[4,r.transferFrom(o.toLowerCase(),n.toLowerCase(),a,{from:o})];case 3:if(c=l.sent(),u=null,!s)return[3,8];l.label=4;case 4:return null!=u?[3,7]:[4,S(2e3)];case 5:return l.sent(),[4,d.eth_getTransactionReceipt(c.toString())];case 6:return u=l.sent(),[3,4];case 7:return[2,u];case 8:return[2,c]}}))}))},setApprovalForAll:W,isApprovedForAll:j,checkTokens:function(e,n){return y(this,void 0,void 0,(function(){var a,s,i,r,d,o,c,u;return b(this,(function(l){switch(l.label){case 0:return[4,z(e)];case 1:return a=l.sent().contract,[4,t.getUserAccount()];case 2:return s=l.sent(),[4,a.balanceOf(s)];case 3:return i=l.sent(),0!=Number(i)?[3,4]:[2,!1];case 4:if(!n)return[2,!0];r=!1,d=0,l.label=5;case 5:return d<Number(i)?(c=Number,[4,a.tokenOfOwnerByIndex(s,d)]):[3,8];case 6:if(o=c.apply(void 0,[l.sent()]),\"number\"==typeof n){if(o==n)return r=!0,[3,8]}else for(u=0;u<n.length;u++)if(o==n[u]){r=!0;break}l.label=7;case 7:return d++,[3,5];case 8:return[2,r]}}))}))}}),X=[{constant:!1,inputs:[{name:\"_ownerCutPerMillion\",type:\"uint256\"}],name:\"setOwnerCutPerMillion\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!1,inputs:[{name:\"_legacyNFTAddress\",type:\"address\"}],name:\"setLegacyNFTAddress\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[],name:\"ERC721_Interface\",outputs:[{name:\"\",type:\"bytes4\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[],name:\"InterfaceId_ValidateFingerprint\",outputs:[{name:\"\",type:\"bytes4\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[],name:\"unpause\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[],name:\"acceptedToken\",outputs:[{name:\"\",type:\"address\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{name:\"assetId\",type:\"uint256\"}],name:\"cancelOrder\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[],name:\"paused\",outputs:[{name:\"\",type:\"bool\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{name:\"nftAddress\",type:\"address\"},{name:\"assetId\",type:\"uint256\"}],name:\"cancelOrder\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!1,inputs:[{name:\"nftAddress\",type:\"address\"},{name:\"assetId\",type:\"uint256\"},{name:\"priceInWei\",type:\"uint256\"},{name:\"expiresAt\",type:\"uint256\"}],name:\"createOrder\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!1,inputs:[],name:\"initialize\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!1,inputs:[],name:\"pause\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[],name:\"owner\",outputs:[{name:\"\",type:\"address\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{name:\"nftAddress\",type:\"address\"},{name:\"assetId\",type:\"uint256\"},{name:\"price\",type:\"uint256\"},{name:\"fingerprint\",type:\"bytes\"}],name:\"safeExecuteOrder\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[],name:\"ownerCutPerMillion\",outputs:[{name:\"\",type:\"uint256\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{name:\"assetId\",type:\"uint256\"},{name:\"priceInWei\",type:\"uint256\"},{name:\"expiresAt\",type:\"uint256\"}],name:\"createOrder\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[],name:\"publicationFeeInWei\",outputs:[{name:\"\",type:\"uint256\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{name:\"nftAddress\",type:\"address\"},{name:\"assetId\",type:\"uint256\"},{name:\"price\",type:\"uint256\"}],name:\"executeOrder\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!1,inputs:[{name:\"_publicationFee\",type:\"uint256\"}],name:\"setPublicationFee\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[{name:\"contractName\",type:\"string\"},{name:\"migrationId\",type:\"string\"}],name:\"isMigrated\",outputs:[{name:\"\",type:\"bool\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{name:\"_acceptedToken\",type:\"address\"},{name:\"_legacyNFTAddress\",type:\"address\"},{name:\"_owner\",type:\"address\"}],name:\"initialize\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!1,inputs:[{name:\"_sender\",type:\"address\"}],name:\"initialize\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!0,inputs:[],name:\"legacyNFTAddress\",outputs:[{name:\"\",type:\"address\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[{name:\"assetId\",type:\"uint256\"}],name:\"auctionByAssetId\",outputs:[{name:\"\",type:\"bytes32\"},{name:\"\",type:\"address\"},{name:\"\",type:\"uint256\"},{name:\"\",type:\"uint256\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[{name:\"\",type:\"address\"},{name:\"\",type:\"uint256\"}],name:\"orderByAssetId\",outputs:[{name:\"id\",type:\"bytes32\"},{name:\"seller\",type:\"address\"},{name:\"nftAddress\",type:\"address\"},{name:\"price\",type:\"uint256\"},{name:\"expiresAt\",type:\"uint256\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!1,inputs:[{name:\"assetId\",type:\"uint256\"},{name:\"price\",type:\"uint256\"}],name:\"executeOrder\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{constant:!1,inputs:[{name:\"newOwner\",type:\"address\"}],name:\"transferOwnership\",outputs:[],payable:!1,stateMutability:\"nonpayable\",type:\"function\"},{anonymous:!1,inputs:[{indexed:!1,name:\"id\",type:\"bytes32\"},{indexed:!0,name:\"assetId\",type:\"uint256\"},{indexed:!0,name:\"seller\",type:\"address\"},{indexed:!1,name:\"nftAddress\",type:\"address\"},{indexed:!1,name:\"priceInWei\",type:\"uint256\"},{indexed:!1,name:\"expiresAt\",type:\"uint256\"}],name:\"OrderCreated\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,name:\"id\",type:\"bytes32\"},{indexed:!0,name:\"assetId\",type:\"uint256\"},{indexed:!0,name:\"seller\",type:\"address\"},{indexed:!1,name:\"nftAddress\",type:\"address\"},{indexed:!1,name:\"totalPrice\",type:\"uint256\"},{indexed:!0,name:\"buyer\",type:\"address\"}],name:\"OrderSuccessful\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,name:\"id\",type:\"bytes32\"},{indexed:!0,name:\"assetId\",type:\"uint256\"},{indexed:!0,name:\"seller\",type:\"address\"},{indexed:!1,name:\"nftAddress\",type:\"address\"}],name:\"OrderCancelled\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,name:\"publicationFee\",type:\"uint256\"}],name:\"ChangedPublicationFee\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,name:\"ownerCutPerMillion\",type:\"uint256\"}],name:\"ChangedOwnerCutPerMillion\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,name:\"legacyNFTAddress\",type:\"address\"}],name:\"ChangeLegacyNFTAddress\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,name:\"id\",type:\"bytes32\"},{indexed:!0,name:\"assetId\",type:\"uint256\"},{indexed:!0,name:\"seller\",type:\"address\"},{indexed:!1,name:\"priceInWei\",type:\"uint256\"},{indexed:!1,name:\"expiresAt\",type:\"uint256\"}],name:\"AuctionCreated\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,name:\"id\",type:\"bytes32\"},{indexed:!0,name:\"assetId\",type:\"uint256\"},{indexed:!0,name:\"seller\",type:\"address\"},{indexed:!1,name:\"totalPrice\",type:\"uint256\"},{indexed:!0,name:\"winner\",type:\"address\"}],name:\"AuctionSuccessful\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,name:\"id\",type:\"bytes32\"},{indexed:!0,name:\"assetId\",type:\"uint256\"},{indexed:!0,name:\"seller\",type:\"address\"}],name:\"AuctionCancelled\",type:\"event\"},{anonymous:!1,inputs:[],name:\"Pause\",type:\"event\"},{anonymous:!1,inputs:[],name:\"Unpause\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,name:\"previousOwner\",type:\"address\"},{indexed:!0,name:\"newOwner\",type:\"address\"}],name:\"OwnershipTransferred\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,name:\"contractName\",type:\"string\"},{indexed:!1,name:\"migrationId\",type:\"string\"}],name:\"Migrated\",type:\"event\"}];function Q(e){return void 0===e&&(e=\"0x8e5660b4ab70168b5a6feea0e0315cb49c8cd539\"),y(this,void 0,void 0,(function(){var t,n;return b(this,(function(i){switch(i.label){case 0:return[4,s.getProvider()];case 1:return t=i.sent(),n=new a.RequestManager(t),[4,new a.ContractFactory(n,X).at(e)];case 2:return[2,{contract:i.sent(),provider:t,requestManager:n}]}}))}))}var V={MANAToken:\"0x0f5d2fb29fb7d3cfee444a200298f468908cc942\",LANDRegistry:\"0xa57e126b341b18c262ad25b86bb4f65b5e2ade45\",LANDProxy:\"0xf87e31492faf9a91b02ee0deaad50d51d56d5d4d\",TerraformReserve:\"0xcca95e580bbbd04851ebfb85f77fd46c9b91f11c\",ReturnVesting:\"0x79c1fdaba012b9a094c495a86ce5c6199cf86368\",LegacyMarketplace:\"0xb3bca6f5052c7e24726b44da7403b56a8a1b98f8\",Marketplace:\"0x19a8ed4860007a66805782ed7e0bed4e44fc6717\",MarketplaceProxy:\"0x8e5660b4ab70168b5a6feea0e0315cb49c8cd539\",ServiceLocator:\"0x151b11892dd6ab1f91055dcd01d23d03a2c47570\",MortgageHelper:\"0x90263ea5c57dc6603ca7202920735a6e31235bb9\",MortgageManager:\"0x9abf1295086afa0e49c60e95c437aa400c5333b8\",RCNEngine:\"0xba5a17f8ad40dc2c955d95c0547f3e6318bd72e7\",RCNToken:\"0xf970b8e36e23f7fc3fd752eea86f8be8d83375a6\",KyberOracle:\"0x2aaf69a2df2828b55fa4a5e30ee8c3c7cd9e5d5b\",DecentralandInvite:\"0xf886313f213c198458eba7ae9329525e64eb763a\",EstateRegistry:\"0x1784ef41af86e97f8d28afe95b573a24aeda966e\",EstateProxy:\"0x959e104e1a4db6317fa58f8295f586e1a978c297\",LANDAuction:\"0x54b7a124b44054da3692dbc56b116a35c6a3e561\",MANABurner:\"0xadfeb1de7876fcabeaf87df5a6c566b70f970018\",MultiSigWallet:\"0x4eac6325e1dbf1ac90434d39766e164dca71139e\",Nobody:\"0xDf861993Edbe95BAFbfA7760838f8ebbd5Afda9F\",ERC721Bid:\"0xe479dfd9664c693b2e2992300930b00bfde08233\",BidMANABurner:\"0x0fcf114c63a5387878e0da051c81cb6febd93b6c\",MultisigContractOwner:\"0xefc549434a03756f6e37a43757a2927605d8839b\",AvatarNameRegistry:\"0x894b883905bfEe2CC448880F1b59f4A762E67566\",AvatarNameRegistryProxy:\"0xcd816354450015A5644857FEd507afEeaE7263af\",ExclusiveMasksCollection:\"0xc04528c14c8ffd84c7c1fb6719b4a89853035cdd\",Halloween2019Collection:\"0xc1f4b0eea2bd6690930e6c66efd3e197d620b9c2\",Halloween2019CollectionFactory:\"0x07ccfd0fbada4ac3c22ecd38037ca5e5c0ad8cfa\",Xmas2019Collection:\"0xc3af02c0fd486c8e9da5788b915d6fff3f049866\",DCLRegistrar:\"0x2a187453064356c898cae034eaed119e1663acb8\",DCLController:\"0x6843291bd86857d97f0d269e698939fb10d60772\",Catalyst:\"0xcc054fab08127c19f621ab83ade5962cd10584ec\",CatalystProxy:\"0x4a2f10076101650f40342885b99b6b101d83c486\",MCHCollection:\"0xf64dc33a192e056bb5f0e5049356a0498b502d50\",CommunityContestCollection:\"0x32b7495895264ac9d0b12d32afd435453458b1c6\",DCLLaunchCollection:\"0xd35147be6401dcb20811f2104c33de8e97ed6818\",DCGCollection:\"0x3163d2cfee3183f9874e2869942cc62649eeb004\",StaySafeCollection:\"0x201c3af8c471e5842428b74d1e7c0249adda2a92\",StaySafeDonation:\"0x56505a0313ba2b4bc0be23dbb7eb71b7885fca9e\",ClaimWearableForFree:\"0x8dd61d1a67bce13a87e20a76c6f164c388a726d6\",Moonshot2020Collection:\"0x6a99abebb48819d2abe92c5e4dc4f48dc09a3ee8\",DAOAgent:\"0x9A6ebE7E2a7722F8200d0ffB63a1F6406A0d7dce\",LANDMiniMeToken:\"0x20dfe381ca71ade2582094cf569a8cb020af5ab1\",EstateMiniMeToken:\"0x8568f23f343694650370fe5e254b55bfb704a6c7\",BuyAdapter:\"0xf4fbd84193f9aaf9779dedbb415a806933eb1c95\",AdapterFeeCollector:\"0x0d58aaae9f0c4d020486f534363f3fca7a6aecb6\",AdapterConverter:\"0x2859581da59bd4e16a866dd06b461b76d8e489a4\",DappcraftMoonminerCollection:\"0x1e1d4e6262787c8a8783a37fee698bd42aa42bec\",DGSummer2020Collection:\"0xbf53c33235cbfc22cef5a61a83484b86342679c5\",PMOuttathisworldCollection:\"0x75a3752579dc2d63ca229eebbe3537fbabf85a12\",DgtbleHeadspaceCollection:\"0x574f64ac2e7215cba9752b85fc73030f35166bc0\",WonderzoneMeteorchaserCollection:\"0x34ed0aa248f60f54dd32fbc9883d6137a491f4f3\",BurningStore:\"0x0822d44c2e2f96d4cccad80610134861802b2cca\",BaseList:\"0x21b6EFf834d7cc8c12A5Ec924939aa521F0FE83F\",POIAllowListProxy:\"0x0ef15a1c7a49429a36cb46d4da8c53119242b54e\",NameDenyListProxy:\"0x0c4c90a4f29872a2e9ef4c4be3d419792bca9a36\"};var Y=Object.freeze({__proto__:null,mainnet:V,ropsten:{PrivateNodeWallet:\"0x62ba62ff92917edf8ac0386fa10e3b27950bce8d\",MANAToken:\"0x2a8fd99c19271f4f04b1b7b9c4f7cf264b626edb\",LANDRegistry:\"0x255baf4096cb1723c00c4b4390a4b3028ecaa8ba\",LANDProxy:\"0x7a73483784ab79257bb11b96fd62a2c3ae4fb75b\",TerraformReserve:\"0x4bc79175f1f6fded07f04aa1b4b0465ecff6f1b3\",ReturnVesting:\"0x58c7e6e382c1c19c132b0361c12cbc33e2b13076\",LegacyMarketplace:\"0x80faa2b517b84a5aec1078d3600eab4c0b3aff56\",Marketplace:\"0x3d2f10c76b115db93a418ed286ca0c5abfdbf5d0\",MarketplaceProxy:\"0x5424912699dabaa5f2998750c1c66e73d67ad219\",ServiceLocator:\"0xb240b30c12d2a9ea6ba3abbf663d9ae265fbebeb\",MortgageHelper:\"0x0e4c24f71c8679b8af8e5a22aac3816e2b23f1cc\",MortgageManager:\"0x31ebb4ffd5e34acfc87ea21a0c56157188f3f0e1\",RCNEngine:\"0xbeE217bfe06C6FAaa2d5f2e06eBB84C5fb70d9bF\",RCNToken:\"0x2f45b6fb2f28a73f110400386da31044b2e953d4\",KyberOracle:\"0x4931d0621360187199de494a1469165079b31bfc\",DecentralandInvite:\"0x7557dfa02f3bd7d274851e3f627de2ed2ff390e8\",EstateRegistry:\"0x60e315992d5e62457215dd1e6a49d1ceb7983dfc\",EstateProxy:\"0x124bf28a423b2ca80b3846c3aa0eb944fe7ebb95\",ERC721Bid:\"0x250fa138c0a994799c7a49df3097dc71e37b3d6f\",BidMANABurner:\"0x01f43c3133b83086d4776027fbd152fa8a685fb4\",AvatarNameRegistry:\"0xd127F8d9C736d91Acdee34645e0b4C9db7178160\",AvatarNameRegistryProxy:\"0x2d794a7c956624fb93Eb3ff6E48D5b5d6dBA127b\",ExclusiveMasksCollection:\"0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0\",DCLRegistrar:\"0xeb6f5d94d79f0750781cc962908b161b95192f53\",DCLController:\"0xd4e92f6ea18412dbae8b2d2b69e498a2d1064fa2\",Catalyst:\"0xadd085f2318e9678bbb18b3e0711328f902b374b\",BuyAdapter:\"0xd1e4e2880ff56cd0d5c68da9bed58bfbf0150948\",AdapterFeeCollector:\"0x5DC888024cB599CfDdb9E6483ED6bAe1fA9e9D18\",AdapterConverter:\"0x2782eb28Dcb1eF4E7632273cd4e347e130Ce4646\",POIAllowlist:\"0x5DC4a5C214f2161F0D5595a6dDd9352409aE3Ab4\",NAMEDenylist:\"0x20c6f1e86eba703a14414a0cbc1b55c89dba7a0f\"},kovan:{MANAToken:\"0x230fc362413d9e862326c2c7084610a5a2fdf78a\",LANDRegistry:\"0x2059291430b9aa2F79547f657816eFb816b36614\",LANDProxy:\"0x537263c440943f6a6808bCb8CcB3fe03EE838aD1\",Marketplace:\"0x6f44f195999f06aeb5872db96cdc517f1e839f13\"},rinkeby:{MANAToken:\"0x28bce5263f5d7f4eb7e8c6d5d78275ca455bac63\",LANDProxy:\"0x28bef22df3e2040a4be64a9ca0e8b5ae2b91462d\",LANDRegistry:\"0xaf29226656fade9c97f51741e40f60c5bd67ee31\",Multisig:\"0x0de35b8b47b129877e0efca24e294b61d7e7eee3\"},getContract:function(e,t){return y(this,void 0,void 0,(function(){var n,i;return b(this,(function(r){switch(r.label){case 0:return[4,s.getProvider()];case 1:return n=r.sent(),i=new a.RequestManager(n),[4,new a.ContractFactory(i,t).at(e)];case 2:return[2,{contract:r.sent(),provider:n,requestManager:i}]}}))}))}});var Z=Object.freeze({__proto__:null,getContract:Q,isAuthorizedAndHasBalance:function(e,n){return y(this,void 0,void 0,(function(){var s,i,r;return b(this,(function(d){switch(d.label){case 0:return s=B,i=[V.MANAToken],n?(r=n,[3,3]):[3,1];case 1:return[4,t.getUserAccount()];case 2:r=d.sent(),d.label=3;case 3:return[4,s.apply(void 0,i.concat([r,V.MarketplaceProxy]))];case 4:return+d.sent()<+a.toWei(e,\"ether\").toString()?[2,!1]:[4,q()];case 5:return+d.sent()>=+a.toWei(e,\"ether\").toString()?[2,!0]:[2,!1]}}))}))},isAuthorizedAll:function(e){return y(this,void 0,void 0,(function(){var n,a,s,i,r,d,o,c,u;return b(this,(function(l){switch(l.label){case 0:return e?[3,2]:[4,t.getUserAccount()];case 1:e=l.sent(),l.label=2;case 2:return a=(n={buying:{mana:{address:V.MANAToken,authorized:!1}},bidding:{mana:{address:V.MANAToken,authorized:!1}},selling:{land:{address:V.LANDProxy,authorized:!1},estates:{address:V.EstateProxy,authorized:!1},exclusiveMasks:{address:V.ExclusiveMasksCollection,authorized:!1},halloween:{address:V.Halloween2019Collection,authorized:!1},xmas:{address:V.Xmas2019Collection,authorized:!1},mch:{address:V.MCHCollection,authorized:!1},communityContest:{address:V.CommunityContestCollection,authorized:!1},dclLaunch:{address:V.DCLLaunchCollection,authorized:!1},dcg:{address:V.DCGCollection,authorized:!1},staySafe:{address:V.StaySafeCollection,authorized:!1},names:{address:V.DCLRegistrar,authorized:!1}}}).buying.mana,[4,D(V.MANAToken,e,\"0x8e5660b4ab70168b5a6feea0e0315cb49c8cd539\")];case 3:return a.authorized=l.sent(),s=n.bidding.mana,[4,D(V.MANAToken,e,\"0xe479dfd9664c693b2e2992300930b00bfde08233\")];case 4:for(r in s.authorized=l.sent(),i=[],n.selling)i.push(r);d=0,l.label=5;case 5:return d<i.length?(o=i[d],c=o,u=n.selling[c],[4,j(n.selling[c].address,e,\"0x8e5660b4ab70168b5a6feea0e0315cb49c8cd539\")]):[3,8];case 6:u.authorized=l.sent(),l.label=7;case 7:return d++,[3,5];case 8:return[2,n]}}))}))},cancelOrder:function(e,n){return y(this,void 0,void 0,(function(){var a,s;return b(this,(function(i){switch(i.label){case 0:return[4,Q()];case 1:return a=i.sent().contract,[4,t.getUserAccount()];case 2:return s=i.sent(),[4,a.cancelOrder(e,n,{from:s})];case 3:return[2,i.sent()]}}))}))},createOrder:function(e,n,s,i){return void 0===i&&(i=+new Date/1e3+2592e3),y(this,void 0,void 0,(function(){var r,d,o,c,u=this;return b(this,(function(l){switch(l.label){case 0:return[4,Q()];case 1:return r=l.sent(),d=r.contract,o=r.requestManager,[4,t.getUserAccount()];case 2:return c=l.sent(),[4,j(e,c,d.address)];case 3:return l.sent()?[3,5]:[4,W(e,d.address,!0).then((function(e){return y(u,void 0,void 0,(function(){var t;return b(this,(function(n){switch(n.label){case 0:t=null,n.label=1;case 1:return null!=t?[3,4]:[4,S(2e3)];case 2:return n.sent(),[4,o.eth_getTransactionReceipt(e.toString())];case 3:return t=n.sent(),[3,1];case 4:return[2]}}))}))}))];case 4:l.sent(),l.label=5;case 5:return[4,d.createOrder(e,n,a.toWei(s,\"ether\").toString(),i,{from:c})];case 6:return[2,l.sent()]}}))}))},executeOrder:function(e,n,s){return y(this,void 0,void 0,(function(){var i,r,d,o,c=this;return b(this,(function(u){switch(u.label){case 0:return[4,Q()];case 1:return i=u.sent(),r=i.contract,d=i.requestManager,[4,t.getUserAccount()];case 2:return[4,D(\"0x0F5D2fB29fb7d3CFeE444a200298f468908cC942\",o=u.sent(),r.address)];case 3:return u.sent()?[3,5]:[4,P(\"0x0F5D2fB29fb7d3CFeE444a200298f468908cC942\",r.address).then((function(e){return y(c,void 0,void 0,(function(){var t;return b(this,(function(n){switch(n.label){case 0:t=null,n.label=1;case 1:return null!=t?[3,4]:[4,S(2e3)];case 2:return n.sent(),[4,d.eth_getTransactionReceipt(e.toString())];case 3:return t=n.sent(),[3,1];case 4:return[2]}}))}))}))];case 4:u.sent(),u.label=5;case 5:return[4,r.executeOrder(e,n,a.toWei(s,\"ether\").toString(),{from:o})];case 6:return[2,u.sent()]}}))}))}}),J={data:[{symbol:\"ETH\",name:\"Ethereum\",address:\"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee\",decimals:18,gasLimit:\"0\",sp_limit_order:!0,is_quote:!0,quote_priority:2},{symbol:\"WETH\",name:\"Wrapped Ether\",address:\"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\",decimals:18,sp_limit_order:!0,is_quote:!0,quote_priority:2},{symbol:\"KNC\",name:\"KyberNetwork\",address:\"0xdd974d5c2e2928dea5f71b9825b8b646686bd200\",decimals:18,sp_limit_order:!0},{symbol:\"DAI\",name:\"DAI\",address:\"0x6b175474e89094c44da98b954eedeac495271d0f\",decimals:18,gasLimit:\"650000\",sp_limit_order:!0,is_quote:!0,quote_priority:3,is_gas_fixed:!0},{symbol:\"OMG\",name:\"OmiseGO\",address:\"0xd26114cd6ee289accf82350c8d8487fedb8a0c07\",decimals:18,sp_limit_order:!0},{symbol:\"SNT\",name:\"Status\",address:\"0x744d70fdbe2ba4cf95131626614a1763df805b9e\",decimals:18,sp_limit_order:!0},{symbol:\"ELF\",name:\"Aelf\",address:\"0xbf2179859fc6d5bee9bf9158632dc51678a4100e\",decimals:18,sp_limit_order:!0},{symbol:\"POWR\",name:\"Power Ledger\",address:\"0x595832f8fc6bf59c85c527fec3740a1b7a361269\",decimals:6,sp_limit_order:!0},{symbol:\"MANA\",name:\"Mana\",address:\"0x0f5d2fb29fb7d3cfee444a200298f468908cc942\",decimals:18,sp_limit_order:!0},{symbol:\"BAT\",name:\"Basic Attention Token\",address:\"0x0d8775f648430679a709e98d2b0cb6250d2887ef\",decimals:18,sp_limit_order:!0},{symbol:\"REQ\",name:\"Request\",address:\"0x8f8221afbb33998d8584a2b05749ba73c37a938a\",decimals:18,listing_time:1588683600,sp_limit_order:!0},{symbol:\"LINK\",name:\"Chain Link\",address:\"0x514910771af9ca656af840dff83e8264ecf986ca\",decimals:18,sp_limit_order:!0},{symbol:\"DGX\",name:\"Digix Gold Token\",address:\"0x4f3afec4e5a3f2a6a1a411def7d7dfe50ee057bf\",decimals:9,gasApprove:12e4,gasLimit:\"975000\"},{symbol:\"IOST\",name:\"IOStoken\",address:\"0xfa1a856cfa3409cfa145fa4e20eb270df3eb21ab\",decimals:18},{symbol:\"ENJ\",name:\"Enjin Coin\",address:\"0xf629cbd94d3791c9250152bd8dfbdf380e2a3b9c\",decimals:18,sp_limit_order:!0},{symbol:\"BLZ\",name:\"Bluzelle\",address:\"0x5732046a883704404f284ce41ffadd5b007fd668\",decimals:18},{symbol:\"POLY\",name:\"Polymath\",address:\"0x9992ec3cf6a55b00978cddf2b27bc6882d88d1ec\",decimals:18},{symbol:\"CVC\",name:\"Civic\",address:\"0x41e5560054824ea6b0732e656e3ad64e20e94e45\",decimals:8},{symbol:\"PAY\",name:\"TenX\",address:\"0xb97048628db6b661d4c2aa833e95dbe1a905b280\",decimals:18,sp_limit_order:!0},{symbol:\"BNT\",name:\"Bancor\",address:\"0x1f573d6fb3f13d689ff844b4ce37794d79a7ff1c\",decimals:18,gasLimit:\"650000\",sp_limit_order:!0},{symbol:\"TUSD\",name:\"TrueUSD\",address:\"0x8dd5fbce2f6a956c3022ba3663759011dd51e73e\",decimals:18,gasLimit:\"780000\",sp_limit_order:!0,is_quote:!0,quote_priority:3,is_gas_fixed:!0},{symbol:\"LEND\",name:\"EthLend\",address:\"0x80fb784b7ed66730e8b1dbd9820afd29931aab03\",decimals:18,sp_limit_order:!0},{symbol:\"MTL\",name:\"Metal\",address:\"0xf433089366899d83a9f26a773d59ec7ecf30355e\",decimals:8},{symbol:\"REP\",name:\"Augur\",address:\"0x1985365e9f78359a9b6ad760e32412f4a445e862\",decimals:18,sp_limit_order:!0},{symbol:\"ZRX\",name:\"0x Protocol\",address:\"0xe41d2489571d322189246dafa5ebde1f4699f498\",decimals:18,sp_limit_order:!0},{symbol:\"REN\",name:\"Republic\",address:\"0x408e41876cccdc0f92210600ef50372656052a38\",decimals:18,gasLimit:\"650000\",sp_limit_order:!0},{symbol:\"QKC\",name:\"QuarkChain\",address:\"0xea26c4ac16d4a5a106820bc8aee85fd0b7b2b664\",decimals:18},{symbol:\"MKR\",name:\"Maker\",address:\"0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2\",decimals:18,gasLimit:\"650000\",sp_limit_order:!0},{symbol:\"OST\",name:\"Open Simple Token\",address:\"0x2c4e8f2d746113d0696ce89b35f0d8bf88e0aeca\",decimals:18,listing_time:1542027600},{symbol:\"PT\",name:\"Promotion Token\",address:\"0x094c875704c14783049ddf8136e298b3a099c446\",decimals:18,gasLimit:\"650000\"},{symbol:\"ABYSS\",name:\"ABYSS\",address:\"0x0e8d6b471e332f140e7d9dbb99e5e3822f728da6\",decimals:18,listing_time:1547560800,sp_limit_order:!0},{symbol:\"WBTC\",name:\"Wrapped BTC\",address:\"0x2260fac5e5542a773aa44fbcfedf7c193bc2c599\",decimals:8,listing_time:1548853200,gasLimit:\"650000\",sp_limit_order:!0,is_quote:!0,quote_priority:1},{symbol:\"MLN\",name:\"Melon Token\",address:\"0xec67005c4e498ec7f55e092bd1d35cbc47c91892\",decimals:18,listing_time:1549321200,sp_limit_order:!0},{symbol:\"USDC\",name:\"USD Coin\",address:\"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\",decimals:6,listing_time:1549976400,gasLimit:\"715000\",sp_limit_order:!0,is_quote:!0,quote_priority:3},{symbol:\"EURS\",name:\"STASIS EURS\",address:\"0xdb25f211ab05b1c97d595516f45794528a807ad8\",decimals:2,listing_time:1549976400},{symbol:\"MCO\",name:\"Monaco\",address:\"0xb63b606ac810a52cca15e44bb630fd42d8d1d83d\",decimals:8,listing_time:1556283600},{symbol:\"PAX\",name:\"Paxos Standard\",address:\"0x8e870d67f660d95d5be530380d0ec0bd388289e1\",decimals:18,listing_time:1556542800,sp_limit_order:!0},{symbol:\"GEN\",name:\"DAOStack\",address:\"0x543ff227f64aa17ea132bf9886cab5db55dcaddf\",decimals:18,listing_time:1560258e3},{symbol:\"LRC\",name:\"Loopring\",address:\"0xbbbbca6a901c926f240b89eacb641d8aec7aeafd\",decimals:18,listing_time:1560258e3},{symbol:\"RLC\",name:\"iExec RLC\",address:\"0x607f4c5bb672230e8672085532f7e901544a7375\",decimals:9,listing_time:1560258e3,sp_limit_order:!0},{symbol:\"NPXS\",name:\"Pundi X\",address:\"0xa15c7ebe1f07caf6bff097d8a589fb8ac49ae5b3\",decimals:18,listing_time:1560258e3,sp_limit_order:!0},{symbol:\"GNO\",name:\"Gnosis\",address:\"0x6810e776880c02933d47db1b9fc05908e5386b96\",decimals:18,listing_time:1560862800,gasLimit:\"780000\"},{symbol:\"MYB\",name:\"MyBit\",address:\"0x5d60d8d7ef6d37e16ebabc324de3be57f135e0bc\",decimals:18,listing_time:1562245200},{symbol:\"BAM\",name:\"Bamboo\",address:\"0x22b3faaa8df978f6bafe18aade18dc2e3dfa0e0c\",decimals:18,listing_time:1562311800},{symbol:\"SPN\",name:\"Sapien Network\",address:\"0x20f7a3ddf244dc9299975b4da1c39f8d5d75f05a\",decimals:6,listing_time:1562677200},{symbol:\"EQUAD\",name:\"Quadrant Protocol\",address:\"0xc28e931814725bbeb9e670676fabbcb694fe7df2\",decimals:18,listing_time:1563195600},{symbol:\"UPP\",name:\"Sentinel Protocol\",address:\"0xc86d054809623432210c107af2e3f619dcfbf652\",decimals:18,listing_time:1563973200},{symbol:\"CND\",name:\"Cindicator\",address:\"0xd4c435f5b09f855c3317c8524cb1f586e42795fa\",decimals:18,listing_time:1593522e3},{symbol:\"USDT\",name:\"Tether USD\",address:\"0xdac17f958d2ee523a2206206994597c13d831ec7\",decimals:6,listing_time:1565960400,sp_limit_order:!0,is_quote:!0,quote_priority:3},{symbol:\"SNX\",name:\"Synthetix Network\",address:\"0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f\",decimals:18,listing_time:1565960400,gasLimit:\"975000\",sp_limit_order:!0},{symbol:\"BTU\",name:\"BTU Protocol\",address:\"0xb683d83a532e2cb7dfa5275eed3698436371cc9f\",decimals:18,listing_time:156933e4},{symbol:\"TKN\",name:\"Monolith\",address:\"0xaaaf91d9b90df800df4f55c205fd6989c977e73a\",decimals:8,listing_time:156933e4},{symbol:\"RAE\",name:\"Receive Access Ecosystem\",address:\"0xe5a3229ccb22b6484594973a03a3851dcd948756\",decimals:18,listing_time:157365e4},{symbol:\"SUSD\",name:\"sUSD\",address:\"0x57ab1ec28d129707052df4df418d58a2d46d5f51\",decimals:18,listing_time:1574686800,gasLimit:\"650000\"},{symbol:\"SPIKE\",name:\"Spiking\",address:\"0xa7fc5d2453e3f68af0cc1b78bcfee94a1b293650\",decimals:10,listing_time:1575637200},{symbol:\"SAN\",name:\"Santiment\",address:\"0x7c5a0ce9267ed19b22f8cae653f198e3e8daf098\",decimals:18,listing_time:1575896400},{symbol:\"USDS\",name:\"StableUSD\",address:\"0xa4bdb11dc0a2bec88d24a3aa1e6bb17201112ebe\",decimals:6,listing_time:1576328400},{symbol:\"NEXXO\",name:\"Nexxo\",address:\"0x278a83b64c3e3e1139f8e8a52d96360ca3c69a3d\",decimals:18,listing_time:1576846800},{symbol:\"EKG\",name:\"Ekon Gold\",address:\"0x6a9b3e36436b7abde8c4e2e2a98ea40455e615cf\",decimals:18,listing_time:157797e4},{symbol:\"ANT\",name:\"Aragon\",address:\"0x960b236a07cf122663c4303350609a66a7b288c0\",decimals:18,listing_time:1578488400,gasLimit:\"520000\"},{symbol:\"GDC\",name:\"Global Digital Content\",address:\"0x301c755ba0fca00b1923768fffb3df7f4e63af31\",decimals:18,listing_time:1579611600,gasLimit:\"600000\"},{symbol:\"AMPL\",name:\"Ampleforth\",address:\"0xd46ba6d942050d489dbd938a2c909a5d5039a161\",decimals:9,listing_time:1580389200,sp_limit_order:!0},{symbol:\"TKX\",name:\"Tokenize Xchange\",address:\"0x667102bd3413bfeaa3dffb48fa8288819e480a88\",decimals:8,listing_time:1580994e3},{symbol:\"MET\",name:\"Metronome\",address:\"0xa3d58c4e56fedcae3a7c43a725aee9a71f0ece4e\",decimals:18,listing_time:1581944400},{symbol:\"MFG\",name:\"SyncFab\",address:\"0x6710c63432a2de02954fc0f851db07146a6c0312\",decimals:18,listing_time:1582203600},{symbol:\"FXC\",name:\"Flexacoin\",address:\"0x4a57e687b9126435a9b19e4a802113e266adebde\",decimals:18,listing_time:1582808400},{symbol:\"UBT\",name:\"Unibright\",address:\"0x8400d94a5cb0fa0d041a3788e395285d61c9ee5e\",decimals:8,listing_time:1583154e3,gasLimit:\"650000\",sp_limit_order:!0},{symbol:\"LOOM\",name:\"Loom Network\",address:\"0xa4e8c3ec456107ea67d3075bf9e3df3a75823db0\",decimals:18,listing_time:1583499600},{symbol:\"PBTC\",name:\"pTokens BTC\",address:\"0x5228a22e72ccc52d415ecfd199f99d0665e7733b\",decimals:18,listing_time:1583758800},{symbol:\"OGN\",name:\"Origin Protocol\",address:\"0x8207c1ffc5b6804f6024322ccf34f29c3541ae26\",decimals:18,listing_time:1584018e3},{symbol:\"BAND\",name:\"Band Protocol\",address:\"0xba11d00c5f74255f56a5e366f4f77f5a186d7f55\",decimals:18,listing_time:1586264400,gasLimit:\"650000\",sp_limit_order:!0},{symbol:\"RSV\",name:\"Reserve\",address:\"0x196f4727526ea7fb1e17b2071b3d8eaa38486988\",decimals:18,listing_time:1586782800},{symbol:\"RSR\",name:\"Reserve Rights\",address:\"0x8762db106b2c2a0bccb3a80d1ed41273552616e8\",decimals:18,listing_time:1586782800},{symbol:\"KEY\",name:\"SelfKey\",address:\"0x4cc19356f2d37338b9802aa8e8fc58b0373296e7\",decimals:18,listing_time:1587128400},{symbol:\"PNK\",name:\"Kleros\",address:\"0x93ed3fbe21207ec2e8f2d3c3de6e058cb73bc04d\",decimals:18,listing_time:1587646800},{symbol:\"GHT\",name:\"Global Human Trust\",address:\"0xbe30f684d62c9f7883a75a29c162c332c0d98f23\",decimals:18,listing_time:1588683600},{symbol:\"TRYB\",name:\"BiLira\",address:\"0x2c537e5624e4af88a7ae4060c022609376c8d0eb\",decimals:6,listing_time:1589202e3},{symbol:\"2KEY\",name:\"TwoKeyEconomy\",address:\"0xE48972fCd82a274411c01834e2f031D4377Fa2c0\",decimals:18,listing_time:1589893200},{symbol:\"PLR\",name:\"Pillar\",address:\"0xe3818504c1b32bf1557b16c238b2e01fd3149c17\",decimals:18,listing_time:1589979600},{symbol:\"BUSD\",name:\"Binance USD\",address:\"0x4fabb145d64652a948d72533023f6e7a623c7c53\",decimals:18,listing_time:1590584400},{symbol:\"QNT\",name:\"Quant\",address:\"0x4a220e6096b25eadb88358cb44068a3248254675\",decimals:18,listing_time:1591016400},{symbol:\"PNT\",name:\"pNetwork Token\",address:\"0x89Ab32156e46F46D02ade3FEcbe5Fc4243B9AAeD\",decimals:18,listing_time:1592917200},{symbol:\"COMP\",name:\"Compound\",address:\"0xc00e94cb662c3520282e6f5717214004a7f26888\",decimals:18,listing_time:1593608400},{symbol:\"BZRX\",name:\"bZx Protocol Token\",address:\"0x56d811088235f11c8920698a204a5010a788f4b3\",decimals:18,listing_time:1594833120},{symbol:\"RENBTC\",name:\"renBTC\",address:\"0xeb4c2781e4eba804ce9a9803c67d0893436bb27d\",decimals:8,listing_time:1595336400},{symbol:\"VIDT\",name:\"V-ID blockchain\",address:\"0x445f51299ef3307dbd75036dd896565f5b4bf7a5\",decimals:18,listing_time:1596114e3},{symbol:\"PLTC\",name:\"pTokens LTC\",address:\"0x5979f50f1d4c08f9a53863c2f39a7b0492c38d0f\",decimals:18,listing_time:1596459600},{symbol:\"KAI\",name:\"KardiaChain\",address:\"0xbd6467a31899590474ce1e84f70594c53d628e46\",decimals:18,listing_time:1596632400},{symbol:\"REPV2\",name:\"Kyber REPv2 Token\",address:\"0x221657776846890989a759ba2973e427dff5c9bb\",decimals:18,listing_time:1596718800},{symbol:\"STMX\",name:\"Kyber StormX Token\",address:\"0xbe9375c6a420d2eeb258962efb95551a5b722803\",decimals:18,listing_time:1596718800},{symbol:\"MATIC\",name:\"MATIC Token\",address:\"0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0\",decimals:18,listing_time:1598446800}],success:!0},$=[{inputs:[{internalType:\"address\",name:\"_admin\",type:\"address\"}],stateMutability:\"nonpayable\",type:\"constructor\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"address\",name:\"newAdmin\",type:\"address\"},{indexed:!1,internalType:\"address\",name:\"previousAdmin\",type:\"address\"}],name:\"AdminClaimed\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"address\",name:\"newAlerter\",type:\"address\"},{indexed:!1,internalType:\"bool\",name:\"isAdd\",type:\"bool\"}],name:\"AlerterAdded\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"uint256\",name:\"amount\",type:\"uint256\"},{indexed:!1,internalType:\"address\",name:\"sendTo\",type:\"address\"}],name:\"EtherWithdraw\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!0,internalType:\"address\",name:\"trader\",type:\"address\"},{indexed:!1,internalType:\"contract IERC20\",name:\"src\",type:\"address\"},{indexed:!1,internalType:\"contract IERC20\",name:\"dest\",type:\"address\"},{indexed:!1,internalType:\"address\",name:\"destAddress\",type:\"address\"},{indexed:!1,internalType:\"uint256\",name:\"actualSrcAmount\",type:\"uint256\"},{indexed:!1,internalType:\"uint256\",name:\"actualDestAmount\",type:\"uint256\"},{indexed:!1,internalType:\"address\",name:\"platformWallet\",type:\"address\"},{indexed:!1,internalType:\"uint256\",name:\"platformFeeBps\",type:\"uint256\"}],name:\"ExecuteTrade\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"contract IKyberHint\",name:\"kyberHintHandler\",type:\"address\"}],name:\"KyberHintHandlerSet\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"contract IKyberNetwork\",name:\"newKyberNetwork\",type:\"address\"},{indexed:!1,internalType:\"contract IKyberNetwork\",name:\"previousKyberNetwork\",type:\"address\"}],name:\"KyberNetworkSet\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"address\",name:\"newOperator\",type:\"address\"},{indexed:!1,internalType:\"bool\",name:\"isAdd\",type:\"bool\"}],name:\"OperatorAdded\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"contract IERC20\",name:\"token\",type:\"address\"},{indexed:!1,internalType:\"uint256\",name:\"amount\",type:\"uint256\"},{indexed:!1,internalType:\"address\",name:\"sendTo\",type:\"address\"}],name:\"TokenWithdraw\",type:\"event\"},{anonymous:!1,inputs:[{indexed:!1,internalType:\"address\",name:\"pendingAdmin\",type:\"address\"}],name:\"TransferAdminPending\",type:\"event\"},{inputs:[{internalType:\"address\",name:\"newAlerter\",type:\"address\"}],name:\"addAlerter\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"newOperator\",type:\"address\"}],name:\"addOperator\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[],name:\"admin\",outputs:[{internalType:\"address\",name:\"\",type:\"address\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"claimAdmin\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[],name:\"enabled\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"getAlerters\",outputs:[{internalType:\"address[]\",name:\"\",type:\"address[]\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"contract ERC20\",name:\"src\",type:\"address\"},{internalType:\"contract ERC20\",name:\"dest\",type:\"address\"},{internalType:\"uint256\",name:\"srcQty\",type:\"uint256\"}],name:\"getExpectedRate\",outputs:[{internalType:\"uint256\",name:\"expectedRate\",type:\"uint256\"},{internalType:\"uint256\",name:\"worstRate\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"contract IERC20\",name:\"src\",type:\"address\"},{internalType:\"contract IERC20\",name:\"dest\",type:\"address\"},{internalType:\"uint256\",name:\"srcQty\",type:\"uint256\"},{internalType:\"uint256\",name:\"platformFeeBps\",type:\"uint256\"},{internalType:\"bytes\",name:\"hint\",type:\"bytes\"}],name:\"getExpectedRateAfterFee\",outputs:[{internalType:\"uint256\",name:\"expectedRate\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"getOperators\",outputs:[{internalType:\"address[]\",name:\"\",type:\"address[]\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"kyberHintHandler\",outputs:[{internalType:\"contract IKyberHint\",name:\"\",type:\"address\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"kyberNetwork\",outputs:[{internalType:\"contract IKyberNetwork\",name:\"\",type:\"address\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"maxGasPrice\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"pendingAdmin\",outputs:[{internalType:\"address\",name:\"\",type:\"address\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"alerter\",type:\"address\"}],name:\"removeAlerter\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"operator\",type:\"address\"}],name:\"removeOperator\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"contract IKyberHint\",name:\"_kyberHintHandler\",type:\"address\"}],name:\"setHintHandler\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"contract IKyberNetwork\",name:\"_kyberNetwork\",type:\"address\"}],name:\"setKyberNetwork\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"contract IERC20\",name:\"token\",type:\"address\"},{internalType:\"uint256\",name:\"minConversionRate\",type:\"uint256\"}],name:\"swapEtherToToken\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"payable\",type:\"function\"},{inputs:[{internalType:\"contract IERC20\",name:\"token\",type:\"address\"},{internalType:\"uint256\",name:\"srcAmount\",type:\"uint256\"},{internalType:\"uint256\",name:\"minConversionRate\",type:\"uint256\"}],name:\"swapTokenToEther\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"contract IERC20\",name:\"src\",type:\"address\"},{internalType:\"uint256\",name:\"srcAmount\",type:\"uint256\"},{internalType:\"contract IERC20\",name:\"dest\",type:\"address\"},{internalType:\"uint256\",name:\"minConversionRate\",type:\"uint256\"}],name:\"swapTokenToToken\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"contract IERC20\",name:\"src\",type:\"address\"},{internalType:\"uint256\",name:\"srcAmount\",type:\"uint256\"},{internalType:\"contract IERC20\",name:\"dest\",type:\"address\"},{internalType:\"address payable\",name:\"destAddress\",type:\"address\"},{internalType:\"uint256\",name:\"maxDestAmount\",type:\"uint256\"},{internalType:\"uint256\",name:\"minConversionRate\",type:\"uint256\"},{internalType:\"address payable\",name:\"platformWallet\",type:\"address\"}],name:\"trade\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"payable\",type:\"function\"},{inputs:[{internalType:\"contract ERC20\",name:\"src\",type:\"address\"},{internalType:\"uint256\",name:\"srcAmount\",type:\"uint256\"},{internalType:\"contract ERC20\",name:\"dest\",type:\"address\"},{internalType:\"address payable\",name:\"destAddress\",type:\"address\"},{internalType:\"uint256\",name:\"maxDestAmount\",type:\"uint256\"},{internalType:\"uint256\",name:\"minConversionRate\",type:\"uint256\"},{internalType:\"address payable\",name:\"walletId\",type:\"address\"},{internalType:\"bytes\",name:\"hint\",type:\"bytes\"}],name:\"tradeWithHint\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"payable\",type:\"function\"},{inputs:[{internalType:\"contract IERC20\",name:\"src\",type:\"address\"},{internalType:\"uint256\",name:\"srcAmount\",type:\"uint256\"},{internalType:\"contract IERC20\",name:\"dest\",type:\"address\"},{internalType:\"address payable\",name:\"destAddress\",type:\"address\"},{internalType:\"uint256\",name:\"maxDestAmount\",type:\"uint256\"},{internalType:\"uint256\",name:\"minConversionRate\",type:\"uint256\"},{internalType:\"address payable\",name:\"platformWallet\",type:\"address\"},{internalType:\"uint256\",name:\"platformFeeBps\",type:\"uint256\"},{internalType:\"bytes\",name:\"hint\",type:\"bytes\"}],name:\"tradeWithHintAndFee\",outputs:[{internalType:\"uint256\",name:\"destAmount\",type:\"uint256\"}],stateMutability:\"payable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"newAdmin\",type:\"address\"}],name:\"transferAdmin\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"newAdmin\",type:\"address\"}],name:\"transferAdminQuickly\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"uint256\",name:\"amount\",type:\"uint256\"},{internalType:\"address payable\",name:\"sendTo\",type:\"address\"}],name:\"withdrawEther\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"contract IERC20\",name:\"token\",type:\"address\"},{internalType:\"uint256\",name:\"amount\",type:\"uint256\"},{internalType:\"address\",name:\"sendTo\",type:\"address\"}],name:\"withdrawToken\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"}];function ee(e){return y(this,void 0,void 0,(function(){var t,n;return b(this,(function(i){switch(i.label){case 0:return[4,s.getProvider()];case 1:return t=i.sent(),n=new a.RequestManager(t),[4,new a.ContractFactory(n,$).at(e)];case 2:return[2,{contract:i.sent(),provider:t,requestManager:n}]}}))}))}function te(){return y(this,void 0,void 0,(function(){return b(this,(function(e){return[2,J]}))}))}function ne(e){return y(this,void 0,void 0,(function(){var t,n,a,s,i;return b(this,(function(r){try{for(t=m(J.data),n=t.next();!n.done;n=t.next()){if((a=n.value).symbol==e)return[2,a];if(a.name==e)return[2,a];if(a.address==e)return[2,a]}}catch(e){s={error:e}}finally{try{n&&!n.done&&(i=t.return)&&i.call(t)}finally{if(s)throw s.error}}return[2]}))}))}function ae(e,t,n){return y(this,void 0,void 0,(function(){return b(this,(function(a){switch(a.label){case 0:return[4,fetch(\"https://api.kyber.network/expectedRate?source=\"+e+\"&dest=\"+t+\"&sourceAmount=\"+n).then((function(e){return e.json()}))];case 1:return[2,a.sent()]}}))}))}var se=Object.freeze({__proto__:null,getContract:ee,getCurrencies:te,getACurrency:ne,getMarketPair:function(){return y(this,void 0,void 0,(function(){return b(this,(function(e){switch(e.label){case 0:return[4,fetch(\"https://api.kyber.network/pairs/market\",{headers:{}}).then((function(e){return e.json()}))];case 1:return[2,e.sent()]}}))}))},getQuote:function(e,t,n){return y(this,void 0,void 0,(function(){return b(this,(function(a){switch(a.label){case 0:return[4,fetch(\"https://api.kyber.network/quote_amount?quote=\"+t+\"&base=\"+e+\"&base_amount=\"+n+\"&type=buy\").then((function(e){return e.json()}))];case 1:return[2,a.sent()]}}))}))},getExpectedRate:ae,exchange:function(e,n,s,i){return y(this,void 0,void 0,(function(){var r,d,o,c,u,l,p,y,f,x,v,g;return b(this,(function(b){switch(b.label){case 0:return[4,te()];case 1:r=b.sent(),d=\"\",o=\"\";try{for(c=m(r.data),u=c.next();!u.done;u=c.next())(l=u.value).symbol.toLowerCase()==e.toLowerCase()?d=l.address:l.symbol.toLowerCase()==n.toLowerCase()&&(o=l.address)}catch(e){v={error:e}}finally{try{u&&!u.done&&(g=c.return)&&g.call(c)}finally{if(v)throw v.error}}return[4,ne(d)];case 2:return p=b.sent(),y=a.toBigNumber(s).times(\"1e\"+(null==p?void 0:p.decimals)).toString(),[4,t.getUserAccount()];case 3:return f=b.sent(),[4,ae(d,o,y)];case 4:return x=b.sent(),[4,ee(\"0x818E6FECD516Ecc3849DAf6845e3EC868087B755\")];case 5:return b.sent().contract.tradeWithHint(d,y,o,f,\"0x57896044618658097711785492504343953926634992332820282019728792003956564819968\",i?x.expectedRate*((100-i)/100):x.slippageRate,\"0x440bbd6a888a36de6e2f6a25f65bc4e16874faa9\",[parseInt(\"0x5045524d\")]),[2]}}))}))}}),ie=Object.freeze({__proto__:null,kyberswap:se});var re=Object.freeze({__proto__:null,getListOfWearables:function(e){return y(this,void 0,void 0,(function(){var t,n;return b(this,(function(a){switch(a.label){case 0:return t=function(e){var t=\"\";for(var n in e){var a=e[n];if(a){var s=\"s\"===n.substr(n.length-1)?n.slice(0,-1):n,i=void 0;i=Array.isArray(a)?x(a).map((function(e){return\"\"+e})):[\"\"+a],t+=0===t.length?\"?\":\"&\",t+=s+\"=\"+i.join(\"&\"+s+\"=\")}}return t}(e),[4,v()];case 1:return n=a.sent(),[2,fetch(n+\"/lambdas/collections/wearables\"+t).then((function(e){return e.json()})).then((function(e){return e.wearables})).then((function(e){return e.map((function(e){return g(n,e)}))}))]}}))}))}});e.avatar=E,e.contract=Y,e.currency=U,e.ethereum=R,e.mana=K,e.marketplace=Z,e.nft=G,e.services=ie,e.wearable=re,Object.defineProperty(e,\"__esModule\",{value:!0})}));\n//# sourceMappingURL=index.js.map\n",
    "sha256": "5a2157ee104a6966f702bc58e81b57b1a5386491596d020d78b247e5fc67897a"
  },
  {
    "path": "node_modules/eth-connect/eth-connect.js",
    "content": "/*! eth-connect {\n  \"date\": \"2021-08-26T17:32:23.811Z\",\n  \"commit\": \"b0601293eda8d644f57259b48f5a991953eb3fa0\",\n  \"ref\": \"refs/tags/6.0.2\"\n} */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define(\"eth-connect\",[\"exports\"],e):e((t=\"undefined\"!=typeof globalThis?globalThis:t||self).ethconnect={})}(this,(function(t){\"use strict\";function e(t){if(t.jsonrpc=\"2.0\",!t.id||\"number\"!=typeof t.id||Math.floor(t.id)!==t.id)throw new Error(`Invalid RPC message(invalid id) message: ${JSON.stringify(t)}`);if(!t.method||\"string\"!=typeof t.method||0===t.method.trim().length)throw new Error(`Invalid RPC message(invalid method) message: ${JSON.stringify(t)}`);if(!t.params||\"object\"!=typeof t.params)throw new Error(`Invalid RPC message(invalid params) message: ${JSON.stringify(t)}`);return t}function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r,o=n((function(t,e){function n(){let t,e;const n=new Promise(((r,o)=>{t=t=>{r(t),n.isPending=!1},e=t=>{o(t),n.isPending=!1}})).catch((t=>Promise.reject(t)));return n.resolve=t,n.reject=e,\"finally\"in n||(n.finally=t=>{n.then(t),n.catch(t)}),n.isPending=!0,n}Object.defineProperty(e,\"__esModule\",{value:!0}),e.future=n,e.default=n}));(r=o)&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,\"default\")&&r.default;var i=o.future;var s=\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{};function a(){throw new Error(\"setTimeout has not been defined\")}function c(){throw new Error(\"clearTimeout has not been defined\")}var u=a,l=c;function h(t){if(u===setTimeout)return setTimeout(t,0);if((u===a||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}\"function\"==typeof s.setTimeout&&(u=setTimeout),\"function\"==typeof s.clearTimeout&&(l=clearTimeout);var p,f=[],d=!1,g=-1;function m(){d&&p&&(d=!1,p.length?f=p.concat(f):g=-1,f.length&&y())}function y(){if(!d){var t=h(m);d=!0;for(var e=f.length;e;){for(p=f,f=[];++g<e;)p&&p[g].run();g=-1,e=f.length}p=null,d=!1,function(t){if(l===clearTimeout)return clearTimeout(t);if((l===c||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}(t)}}function w(t,e){this.fun=t,this.array=e}w.prototype.run=function(){this.fun.apply(null,this.array)};function v(){}var b=v,_=v,F=v,N=v,x=v,k=v,T=v;var A=s.performance||{},E=A.now||A.mozNow||A.msNow||A.oNow||A.webkitNow||function(){return(new Date).getTime()};var B=new Date;var O={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new w(t,e)),1!==f.length||d||h(y)},title:\"browser\",browser:!0,env:{},argv:[],version:\"\",versions:{},on:b,addListener:_,once:F,off:N,removeListener:x,removeAllListeners:k,emit:T,binding:function(t){throw new Error(\"process.binding is not supported\")},cwd:function(){return\"/\"},chdir:function(t){throw new Error(\"process.chdir is not supported\")},umask:function(){return 0},hrtime:function(t){var e=.001*E.call(A),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:\"browser\",release:{},config:{},uptime:function(){return(new Date-B)/1e3}},S=n((function(t){\n/**\n   * [js-sha3]{@link https://github.com/emn178/js-sha3}\n   *\n   * @version 0.8.0\n   * @author Chen, Yi-Cyuan [emn178@gmail.com]\n   * @copyright Chen, Yi-Cyuan 2015-2018\n   * @license MIT\n   */\n!function(){var e=\"input is invalid type\",n=\"object\"==typeof window,r=n?window:{};r.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&\"object\"==typeof self;!r.JS_SHA3_NO_NODE_JS&&\"object\"==typeof O&&O.versions&&O.versions.node?r=s:o&&(r=self);var i=!r.JS_SHA3_NO_COMMON_JS&&t.exports,a=!r.JS_SHA3_NO_ARRAY_BUFFER&&\"undefined\"!=typeof ArrayBuffer,c=\"0123456789abcdef\".split(\"\"),u=[4,1024,262144,67108864],l=[0,8,16,24],h=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],p=[224,256,384,512],f=[128,256],d=[\"hex\",\"buffer\",\"arrayBuffer\",\"array\",\"digest\"],g={128:168,256:136};!r.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}),!a||!r.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return\"object\"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var m=function(t,e,n){return function(r){return new C(t,e,t).update(r)[n]()}},y=function(t,e,n){return function(r,o){return new C(t,e,o).update(r)[n]()}},w=function(t,e,n){return function(e,r,o,i){return N[\"cshake\"+t].update(e,r,o,i)[n]()}},v=function(t,e,n){return function(e,r,o,i){return N[\"kmac\"+t].update(e,r,o,i)[n]()}},b=function(t,e,n,r){for(var o=0;o<d.length;++o){var i=d[o];t[i]=e(n,r,i)}return t},_=function(t,e){var n=m(t,e,\"hex\");return n.create=function(){return new C(t,e,t)},n.update=function(t){return n.create().update(t)},b(n,m,t,e)},F=[{name:\"keccak\",padding:[1,256,65536,16777216],bits:p,createMethod:_},{name:\"sha3\",padding:[6,1536,393216,100663296],bits:p,createMethod:_},{name:\"shake\",padding:[31,7936,2031616,520093696],bits:f,createMethod:function(t,e){var n=y(t,e,\"hex\");return n.create=function(n){return new C(t,e,n)},n.update=function(t,e){return n.create(e).update(t)},b(n,y,t,e)}},{name:\"cshake\",padding:u,bits:f,createMethod:function(t,e){var n=g[t],r=w(t,0,\"hex\");return r.create=function(r,o,i){return o||i?new C(t,e,r).bytepad([o,i],n):N[\"shake\"+t].create(r)},r.update=function(t,e,n,o){return r.create(e,n,o).update(t)},b(r,w,t,e)}},{name:\"kmac\",padding:u,bits:f,createMethod:function(t,e){var n=g[t],r=v(t,0,\"hex\");return r.create=function(r,o,i){return new I(t,e,o).bytepad([\"KMAC\",i],n).bytepad([r],n)},r.update=function(t,e,n,o){return r.create(t,n,o).update(e)},b(r,v,t,e)}}],N={},x=[],k=0;k<F.length;++k)for(var T=F[k],A=T.bits,E=0;E<A.length;++E){var B=T.name+\"_\"+A[E];if(x.push(B),N[B]=T.createMethod(A[E],T.padding),\"sha3\"!==T.name){var S=T.name+A[E];x.push(S),N[S]=N[B]}}function C(t,e,n){this.blocks=[],this.s=[],this.padding=e,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function I(t,e,n){C.call(this,t,e,n)}C.prototype.update=function(t){if(this.finalized)throw new Error(\"finalize already called\");var n,r=typeof t;if(\"string\"!==r){if(\"object\"!==r)throw new Error(e);if(null===t)throw new Error(e);if(a&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||a&&ArrayBuffer.isView(t)))throw new Error(e);n=!0}for(var o,i,s=this.blocks,c=this.byteCount,u=t.length,h=this.blockCount,p=0,f=this.s;p<u;){if(this.reset)for(this.reset=!1,s[0]=this.block,o=1;o<h+1;++o)s[o]=0;if(n)for(o=this.start;p<u&&o<c;++p)s[o>>2]|=t[p]<<l[3&o++];else for(o=this.start;p<u&&o<c;++p)(i=t.charCodeAt(p))<128?s[o>>2]|=i<<l[3&o++]:i<2048?(s[o>>2]|=(192|i>>6)<<l[3&o++],s[o>>2]|=(128|63&i)<<l[3&o++]):i<55296||i>=57344?(s[o>>2]|=(224|i>>12)<<l[3&o++],s[o>>2]|=(128|i>>6&63)<<l[3&o++],s[o>>2]|=(128|63&i)<<l[3&o++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++p)),s[o>>2]|=(240|i>>18)<<l[3&o++],s[o>>2]|=(128|i>>12&63)<<l[3&o++],s[o>>2]|=(128|i>>6&63)<<l[3&o++],s[o>>2]|=(128|63&i)<<l[3&o++]);if(this.lastByteIndex=o,o>=c){for(this.start=o-c,this.block=s[h],o=0;o<h;++o)f[o]^=s[o];P(f),this.reset=!0}else this.start=o}return this},C.prototype.encode=function(t,e){var n=255&t,r=1,o=[n];for(n=255&(t>>=8);n>0;)o.unshift(n),n=255&(t>>=8),++r;return e?o.push(r):o.unshift(r),this.update(o),o.length},C.prototype.encodeString=function(t){var n,r=typeof t;if(\"string\"!==r){if(\"object\"!==r)throw new Error(e);if(null===t)throw new Error(e);if(a&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||a&&ArrayBuffer.isView(t)))throw new Error(e);n=!0}var o=0,i=t.length;if(n)o=i;else for(var s=0;s<t.length;++s){var c=t.charCodeAt(s);c<128?o+=1:c<2048?o+=2:c<55296||c>=57344?o+=3:(c=65536+((1023&c)<<10|1023&t.charCodeAt(++s)),o+=4)}return o+=this.encode(8*o),this.update(t),o},C.prototype.bytepad=function(t,e){for(var n=this.encode(e),r=0;r<t.length;++r)n+=this.encodeString(t[r]);var o=e-n%e,i=[];return i.length=o,this.update(i),this},C.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,n=this.blockCount,r=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[n],e=1;e<n+1;++e)t[e]=0;for(t[n-1]|=2147483648,e=0;e<n;++e)r[e]^=t[e];P(r)}},C.prototype.toString=C.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,n=this.s,r=this.outputBlocks,o=this.extraBytes,i=0,s=0,a=\"\";s<r;){for(i=0;i<e&&s<r;++i,++s)t=n[i],a+=c[t>>4&15]+c[15&t]+c[t>>12&15]+c[t>>8&15]+c[t>>20&15]+c[t>>16&15]+c[t>>28&15]+c[t>>24&15];s%e==0&&(P(n),i=0)}return o&&(t=n[i],a+=c[t>>4&15]+c[15&t],o>1&&(a+=c[t>>12&15]+c[t>>8&15]),o>2&&(a+=c[t>>20&15]+c[t>>16&15])),a},C.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,n=this.s,r=this.outputBlocks,o=this.extraBytes,i=0,s=0,a=this.outputBits>>3;t=o?new ArrayBuffer(r+1<<2):new ArrayBuffer(a);for(var c=new Uint32Array(t);s<r;){for(i=0;i<e&&s<r;++i,++s)c[s]=n[i];s%e==0&&P(n)}return o&&(c[i]=n[i],t=t.slice(0,a)),t},C.prototype.buffer=C.prototype.arrayBuffer,C.prototype.digest=C.prototype.array=function(){this.finalize();for(var t,e,n=this.blockCount,r=this.s,o=this.outputBlocks,i=this.extraBytes,s=0,a=0,c=[];a<o;){for(s=0;s<n&&a<o;++s,++a)t=a<<2,e=r[s],c[t]=255&e,c[t+1]=e>>8&255,c[t+2]=e>>16&255,c[t+3]=e>>24&255;a%n==0&&P(r)}return i&&(t=a<<2,e=r[s],c[t]=255&e,i>1&&(c[t+1]=e>>8&255),i>2&&(c[t+2]=e>>16&255)),c},I.prototype=new C,I.prototype.finalize=function(){return this.encode(this.outputBits,!0),C.prototype.finalize.call(this)};var P=function(t){var e,n,r,o,i,s,a,c,u,l,p,f,d,g,m,y,w,v,b,_,F,N,x,k,T,A,E,B,O,S,C,I,P,M,R,j,U,D,q,$,L,H,G,z,J,W,V,K,Z,Y,X,Q,tt,et,nt,rt,ot,it,st,at,ct,ut,lt;for(r=0;r<48;r+=2)o=t[0]^t[10]^t[20]^t[30]^t[40],i=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],c=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],l=t[6]^t[16]^t[26]^t[36]^t[46],p=t[7]^t[17]^t[27]^t[37]^t[47],e=(f=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|a>>>31),n=(d=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|s>>>31),t[0]^=e,t[1]^=n,t[10]^=e,t[11]^=n,t[20]^=e,t[21]^=n,t[30]^=e,t[31]^=n,t[40]^=e,t[41]^=n,e=o^(c<<1|u>>>31),n=i^(u<<1|c>>>31),t[2]^=e,t[3]^=n,t[12]^=e,t[13]^=n,t[22]^=e,t[23]^=n,t[32]^=e,t[33]^=n,t[42]^=e,t[43]^=n,e=s^(l<<1|p>>>31),n=a^(p<<1|l>>>31),t[4]^=e,t[5]^=n,t[14]^=e,t[15]^=n,t[24]^=e,t[25]^=n,t[34]^=e,t[35]^=n,t[44]^=e,t[45]^=n,e=c^(f<<1|d>>>31),n=u^(d<<1|f>>>31),t[6]^=e,t[7]^=n,t[16]^=e,t[17]^=n,t[26]^=e,t[27]^=n,t[36]^=e,t[37]^=n,t[46]^=e,t[47]^=n,e=l^(o<<1|i>>>31),n=p^(i<<1|o>>>31),t[8]^=e,t[9]^=n,t[18]^=e,t[19]^=n,t[28]^=e,t[29]^=n,t[38]^=e,t[39]^=n,t[48]^=e,t[49]^=n,g=t[0],m=t[1],W=t[11]<<4|t[10]>>>28,V=t[10]<<4|t[11]>>>28,B=t[20]<<3|t[21]>>>29,O=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ct=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,G=t[41]<<18|t[40]>>>14,M=t[2]<<1|t[3]>>>31,R=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,w=t[12]<<12|t[13]>>>20,K=t[22]<<10|t[23]>>>22,Z=t[23]<<10|t[22]>>>22,S=t[33]<<13|t[32]>>>19,C=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,lt=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,nt=t[4]<<30|t[5]>>>2,j=t[14]<<6|t[15]>>>26,U=t[15]<<6|t[14]>>>26,v=t[25]<<11|t[24]>>>21,b=t[24]<<11|t[25]>>>21,Y=t[34]<<15|t[35]>>>17,X=t[35]<<15|t[34]>>>17,I=t[45]<<29|t[44]>>>3,P=t[44]<<29|t[45]>>>3,k=t[6]<<28|t[7]>>>4,T=t[7]<<28|t[6]>>>4,rt=t[17]<<23|t[16]>>>9,ot=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,q=t[27]<<25|t[26]>>>7,_=t[36]<<21|t[37]>>>11,F=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,z=t[8]<<27|t[9]>>>5,J=t[9]<<27|t[8]>>>5,A=t[18]<<20|t[19]>>>12,E=t[19]<<20|t[18]>>>12,it=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,$=t[38]<<8|t[39]>>>24,L=t[39]<<8|t[38]>>>24,N=t[48]<<14|t[49]>>>18,x=t[49]<<14|t[48]>>>18,t[0]=g^~y&v,t[1]=m^~w&b,t[10]=k^~A&B,t[11]=T^~E&O,t[20]=M^~j&D,t[21]=R^~U&q,t[30]=z^~W&K,t[31]=J^~V&Z,t[40]=et^~rt&it,t[41]=nt^~ot&st,t[2]=y^~v&_,t[3]=w^~b&F,t[12]=A^~B&S,t[13]=E^~O&C,t[22]=j^~D&$,t[23]=U^~q&L,t[32]=W^~K&Y,t[33]=V^~Z&X,t[42]=rt^~it&at,t[43]=ot^~st&ct,t[4]=v^~_&N,t[5]=b^~F&x,t[14]=B^~S&I,t[15]=O^~C&P,t[24]=D^~$&H,t[25]=q^~L&G,t[34]=K^~Y&Q,t[35]=Z^~X&tt,t[44]=it^~at&ut,t[45]=st^~ct&lt,t[6]=_^~N&g,t[7]=F^~x&m,t[16]=S^~I&k,t[17]=C^~P&T,t[26]=$^~H&M,t[27]=L^~G&R,t[36]=Y^~Q&z,t[37]=X^~tt&J,t[46]=at^~ut&et,t[47]=ct^~lt&nt,t[8]=N^~g&y,t[9]=x^~m&w,t[18]=I^~k&A,t[19]=P^~T&E,t[28]=H^~M&j,t[29]=G^~R&U,t[38]=Q^~z&W,t[39]=tt^~J&V,t[48]=ut^~et&rt,t[49]=lt^~nt&ot,t[0]^=h[r],t[1]^=h[r+1]};if(i)t.exports=N;else for(k=0;k<x.length;++k)r[x[k]]=N[x[k]]}()}));S.keccak_224,S.keccak224,S.keccak_256;var C=S.keccak256;S.keccak_384,S.keccak384,S.keccak_512,S.keccak512,S.sha3_224,S.sha3_256,S.sha3_384,S.sha3_512,S.shake_128,S.shake128,S.shake_256,S.shake256,S.cshake_128,S.cshake128,S.cshake_256,S.cshake256,S.kmac_128,S.kmac128,S.kmac_256,S.kmac256;var I=n((function(t){!function(e){var n,r=/^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,o=Math.ceil,i=Math.floor,s=\"[BigNumber Error] \",a=s+\"Number primitive has more than 15 significant digits: \",c=1e14,u=14,l=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,f=1e9;function d(t){var e=0|t;return t>0||t===e?e:e-1}function g(t){for(var e,n,r=1,o=t.length,i=t[0]+\"\";r<o;){for(e=t[r++]+\"\",n=u-e.length;n--;e=\"0\"+e);i+=e}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function m(t,e){var n,r,o=t.c,i=e.c,s=t.s,a=e.s,c=t.e,u=e.e;if(!s||!a)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=c==u,!o||!i)return r?0:!o^n?1:-1;if(!r)return c>u^n?1:-1;for(a=(c=o.length)<(u=i.length)?c:u,s=0;s<a;s++)if(o[s]!=i[s])return o[s]>i[s]^n?1:-1;return c==u?0:c>u^n?1:-1}function y(t,e,n,r){if(t<e||t>n||t!==i(t))throw Error(s+(r||\"Argument\")+(\"number\"==typeof t?t<e||t>n?\" out of range: \":\" not an integer: \":\" not a primitive number: \")+String(t))}function w(t){var e=t.c.length-1;return d(t.e/u)==e&&t.c[e]%2!=0}function v(t,e){return(t.length>1?t.charAt(0)+\".\"+t.slice(1):t)+(e<0?\"e\":\"e+\")+e}function b(t,e,n){var r,o;if(e<0){for(o=n+\".\";++e;o+=n);t=o+t}else if(++e>(r=t.length)){for(o=n,e-=r;--e;o+=n);t+=o}else e<r&&(t=t.slice(0,e)+\".\"+t.slice(e));return t}(n=function t(e){var n,_,F,N,x,k,T,A,E,B,O=H.prototype={constructor:H,toString:null,valueOf:null},S=new H(1),C=20,I=4,P=-7,M=21,R=-1e7,j=1e7,U=!1,D=1,q=0,$={prefix:\"\",groupSize:3,secondaryGroupSize:0,groupSeparator:\",\",decimalSeparator:\".\",fractionGroupSize:0,fractionGroupSeparator:\" \",suffix:\"\"},L=\"0123456789abcdefghijklmnopqrstuvwxyz\";function H(t,e){var n,o,s,c,h,p,f,d,g=this;if(!(g instanceof H))return new H(t,e);if(null==e){if(t&&!0===t._isBigNumber)return g.s=t.s,void(!t.c||t.e>j?g.c=g.e=null:t.e<R?g.c=[g.e=0]:(g.e=t.e,g.c=t.c.slice()));if((p=\"number\"==typeof t)&&0*t==0){if(g.s=1/t<0?(t=-t,-1):1,t===~~t){for(c=0,h=t;h>=10;h/=10,c++);return void(c>j?g.c=g.e=null:(g.e=c,g.c=[t]))}d=String(t)}else{if(!r.test(d=String(t)))return F(g,d,p);g.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(c=d.indexOf(\".\"))>-1&&(d=d.replace(\".\",\"\")),(h=d.search(/e/i))>0?(c<0&&(c=h),c+=+d.slice(h+1),d=d.substring(0,h)):c<0&&(c=d.length)}else{if(y(e,2,L.length,\"Base\"),10==e)return W(g=new H(t),C+g.e+1,I);if(d=String(t),p=\"number\"==typeof t){if(0*t!=0)return F(g,d,p,e);if(g.s=1/t<0?(d=d.slice(1),-1):1,H.DEBUG&&d.replace(/^0\\.0*|\\./,\"\").length>15)throw Error(a+t)}else g.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(n=L.slice(0,e),c=h=0,f=d.length;h<f;h++)if(n.indexOf(o=d.charAt(h))<0){if(\".\"==o){if(h>c){c=f;continue}}else if(!s&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){s=!0,h=-1,c=0;continue}return F(g,String(t),p,e)}p=!1,(c=(d=_(d,e,10,g.s)).indexOf(\".\"))>-1?d=d.replace(\".\",\"\"):c=d.length}for(h=0;48===d.charCodeAt(h);h++);for(f=d.length;48===d.charCodeAt(--f););if(d=d.slice(h,++f)){if(f-=h,p&&H.DEBUG&&f>15&&(t>l||t!==i(t)))throw Error(a+g.s*t);if((c=c-h-1)>j)g.c=g.e=null;else if(c<R)g.c=[g.e=0];else{if(g.e=c,g.c=[],h=(c+1)%u,c<0&&(h+=u),h<f){for(h&&g.c.push(+d.slice(0,h)),f-=u;h<f;)g.c.push(+d.slice(h,h+=u));h=u-(d=d.slice(h)).length}else h-=f;for(;h--;d+=\"0\");g.c.push(+d)}}else g.c=[g.e=0]}function G(t,e,n,r){var o,i,s,a,c;if(null==n?n=I:y(n,0,8),!t.c)return t.toString();if(o=t.c[0],s=t.e,null==e)c=g(t.c),c=1==r||2==r&&(s<=P||s>=M)?v(c,s):b(c,s,\"0\");else if(i=(t=W(new H(t),e,n)).e,a=(c=g(t.c)).length,1==r||2==r&&(e<=i||i<=P)){for(;a<e;c+=\"0\",a++);c=v(c,i)}else if(e-=s,c=b(c,i,\"0\"),i+1>a){if(--e>0)for(c+=\".\";e--;c+=\"0\");}else if((e+=i-a)>0)for(i+1==a&&(c+=\".\");e--;c+=\"0\");return t.s<0&&o?\"-\"+c:c}function z(t,e){for(var n,r=1,o=new H(t[0]);r<t.length;r++){if(!(n=new H(t[r])).s){o=n;break}e.call(o,n)&&(o=n)}return o}function J(t,e,n){for(var r=1,o=e.length;!e[--o];e.pop());for(o=e[0];o>=10;o/=10,r++);return(n=r+n*u-1)>j?t.c=t.e=null:n<R?t.c=[t.e=0]:(t.e=n,t.c=e),t}function W(t,e,n,r){var s,a,l,p,f,d,g,m=t.c,y=h;if(m){t:{for(s=1,p=m[0];p>=10;p/=10,s++);if((a=e-s)<0)a+=u,l=e,g=(f=m[d=0])/y[s-l-1]%10|0;else if((d=o((a+1)/u))>=m.length){if(!r)break t;for(;m.length<=d;m.push(0));f=g=0,s=1,l=(a%=u)-u+1}else{for(f=p=m[d],s=1;p>=10;p/=10,s++);g=(l=(a%=u)-u+s)<0?0:f/y[s-l-1]%10|0}if(r=r||e<0||null!=m[d+1]||(l<0?f:f%y[s-l-1]),r=n<4?(g||r)&&(0==n||n==(t.s<0?3:2)):g>5||5==g&&(4==n||r||6==n&&(a>0?l>0?f/y[s-l]:0:m[d-1])%10&1||n==(t.s<0?8:7)),e<1||!m[0])return m.length=0,r?(e-=t.e+1,m[0]=y[(u-e%u)%u],t.e=-e||0):m[0]=t.e=0,t;if(0==a?(m.length=d,p=1,d--):(m.length=d+1,p=y[u-a],m[d]=l>0?i(f/y[s-l]%y[l])*p:0),r)for(;;){if(0==d){for(a=1,l=m[0];l>=10;l/=10,a++);for(l=m[0]+=p,p=1;l>=10;l/=10,p++);a!=p&&(t.e++,m[0]==c&&(m[0]=1));break}if(m[d]+=p,m[d]!=c)break;m[d--]=0,p=1}for(a=m.length;0===m[--a];m.pop());}t.e>j?t.c=t.e=null:t.e<R&&(t.c=[t.e=0])}return t}function V(t){var e,n=t.e;return null===n?t.toString():(e=g(t.c),e=n<=P||n>=M?v(e,n):b(e,n,\"0\"),t.s<0?\"-\"+e:e)}return H.clone=t,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(t){var e,n;if(null!=t){if(\"object\"!=typeof t)throw Error(s+\"Object expected: \"+t);if(t.hasOwnProperty(e=\"DECIMAL_PLACES\")&&(y(n=t[e],0,f,e),C=n),t.hasOwnProperty(e=\"ROUNDING_MODE\")&&(y(n=t[e],0,8,e),I=n),t.hasOwnProperty(e=\"EXPONENTIAL_AT\")&&((n=t[e])&&n.pop?(y(n[0],-f,0,e),y(n[1],0,f,e),P=n[0],M=n[1]):(y(n,-f,f,e),P=-(M=n<0?-n:n))),t.hasOwnProperty(e=\"RANGE\"))if((n=t[e])&&n.pop)y(n[0],-f,-1,e),y(n[1],1,f,e),R=n[0],j=n[1];else{if(y(n,-f,f,e),!n)throw Error(s+e+\" cannot be zero: \"+n);R=-(j=n<0?-n:n)}if(t.hasOwnProperty(e=\"CRYPTO\")){if((n=t[e])!==!!n)throw Error(s+e+\" not true or false: \"+n);if(n){if(\"undefined\"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!n,Error(s+\"crypto unavailable\");U=n}else U=n}if(t.hasOwnProperty(e=\"MODULO_MODE\")&&(y(n=t[e],0,9,e),D=n),t.hasOwnProperty(e=\"POW_PRECISION\")&&(y(n=t[e],0,f,e),q=n),t.hasOwnProperty(e=\"FORMAT\")){if(\"object\"!=typeof(n=t[e]))throw Error(s+e+\" not an object: \"+n);$=n}if(t.hasOwnProperty(e=\"ALPHABET\")){if(\"string\"!=typeof(n=t[e])||/^.?$|[+\\-.\\s]|(.).*\\1/.test(n))throw Error(s+e+\" invalid: \"+n);L=n}}return{DECIMAL_PLACES:C,ROUNDING_MODE:I,EXPONENTIAL_AT:[P,M],RANGE:[R,j],CRYPTO:U,MODULO_MODE:D,POW_PRECISION:q,FORMAT:$,ALPHABET:L}},H.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!H.DEBUG)return!0;var e,n,r=t.c,o=t.e,a=t.s;t:if(\"[object Array]\"=={}.toString.call(r)){if((1===a||-1===a)&&o>=-f&&o<=f&&o===i(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break t}if((e=(o+1)%u)<1&&(e+=u),String(r[0]).length==e){for(e=0;e<r.length;e++)if((n=r[e])<0||n>=c||n!==i(n))break t;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===a||1===a||-1===a))return!0;throw Error(s+\"Invalid BigNumber: \"+t)},H.maximum=H.max=function(){return z(arguments,O.lt)},H.minimum=H.min=function(){return z(arguments,O.gt)},H.random=(N=9007199254740992,x=Math.random()*N&2097151?function(){return i(Math.random()*N)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,n,r,a,c,l=0,p=[],d=new H(S);if(null==t?t=C:y(t,0,f),a=o(t/u),U)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)(c=131072*e[l]+(e[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),e[l]=n[0],e[l+1]=n[1]):(p.push(c%1e14),l+=2);l=a/2}else{if(!crypto.randomBytes)throw U=!1,Error(s+\"crypto unavailable\");for(e=crypto.randomBytes(a*=7);l<a;)(c=281474976710656*(31&e[l])+1099511627776*e[l+1]+4294967296*e[l+2]+16777216*e[l+3]+(e[l+4]<<16)+(e[l+5]<<8)+e[l+6])>=9e15?crypto.randomBytes(7).copy(e,l):(p.push(c%1e14),l+=7);l=a/7}if(!U)for(;l<a;)(c=x())<9e15&&(p[l++]=c%1e14);for(a=p[--l],t%=u,a&&t&&(c=h[u-t],p[l]=i(a/c)*c);0===p[l];p.pop(),l--);if(l<0)p=[r=0];else{for(r=-1;0===p[0];p.splice(0,1),r-=u);for(l=1,c=p[0];c>=10;c/=10,l++);l<u&&(r-=u-l)}return d.e=r,d.c=p,d}),H.sum=function(){for(var t=1,e=arguments,n=new H(e[0]);t<e.length;)n=n.plus(e[t++]);return n},_=function(){var t=\"0123456789\";function e(t,e,n,r){for(var o,i,s=[0],a=0,c=t.length;a<c;){for(i=s.length;i--;s[i]*=e);for(s[0]+=r.indexOf(t.charAt(a++)),o=0;o<s.length;o++)s[o]>n-1&&(null==s[o+1]&&(s[o+1]=0),s[o+1]+=s[o]/n|0,s[o]%=n)}return s.reverse()}return function(r,o,i,s,a){var c,u,l,h,p,f,d,m,y=r.indexOf(\".\"),w=C,v=I;for(y>=0&&(h=q,q=0,r=r.replace(\".\",\"\"),f=(m=new H(o)).pow(r.length-y),q=h,m.c=e(b(g(f.c),f.e,\"0\"),10,i,t),m.e=m.c.length),l=h=(d=e(r,o,i,a?(c=L,t):(c=t,L))).length;0==d[--h];d.pop());if(!d[0])return c.charAt(0);if(y<0?--l:(f.c=d,f.e=l,f.s=s,d=(f=n(f,m,w,v,i)).c,p=f.r,l=f.e),y=d[u=l+w+1],h=i/2,p=p||u<0||null!=d[u+1],p=v<4?(null!=y||p)&&(0==v||v==(f.s<0?3:2)):y>h||y==h&&(4==v||p||6==v&&1&d[u-1]||v==(f.s<0?8:7)),u<1||!d[0])r=p?b(c.charAt(1),-w,c.charAt(0)):c.charAt(0);else{if(d.length=u,p)for(--i;++d[--u]>i;)d[u]=0,u||(++l,d=[1].concat(d));for(h=d.length;!d[--h];);for(y=0,r=\"\";y<=h;r+=c.charAt(d[y++]));r=b(r,l,c.charAt(0))}return r}}(),n=function(){function t(t,e,n){var r,o,i,s,a=0,c=t.length,u=e%p,l=e/p|0;for(t=t.slice();c--;)a=((o=u*(i=t[c]%p)+(r=l*i+(s=t[c]/p|0)*u)%p*p+a)/n|0)+(r/p|0)+l*s,t[c]=o%n;return a&&(t=[a].concat(t)),t}function e(t,e,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(t[o]!=e[o]){i=t[o]>e[o]?1:-1;break}return i}function n(t,e,n,r){for(var o=0;n--;)t[n]-=o,o=t[n]<e[n]?1:0,t[n]=o*r+t[n]-e[n];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(r,o,s,a,l){var h,p,f,g,m,y,w,v,b,_,F,N,x,k,T,A,E,B=r.s==o.s?1:-1,O=r.c,S=o.c;if(!(O&&O[0]&&S&&S[0]))return new H(r.s&&o.s&&(O?!S||O[0]!=S[0]:S)?O&&0==O[0]||!S?0*B:B/0:NaN);for(b=(v=new H(B)).c=[],B=s+(p=r.e-o.e)+1,l||(l=c,p=d(r.e/u)-d(o.e/u),B=B/u|0),f=0;S[f]==(O[f]||0);f++);if(S[f]>(O[f]||0)&&p--,B<0)b.push(1),g=!0;else{for(k=O.length,A=S.length,f=0,B+=2,(m=i(l/(S[0]+1)))>1&&(S=t(S,m,l),O=t(O,m,l),A=S.length,k=O.length),x=A,F=(_=O.slice(0,A)).length;F<A;_[F++]=0);E=S.slice(),E=[0].concat(E),T=S[0],S[1]>=l/2&&T++;do{if(m=0,(h=e(S,_,A,F))<0){if(N=_[0],A!=F&&(N=N*l+(_[1]||0)),(m=i(N/T))>1)for(m>=l&&(m=l-1),w=(y=t(S,m,l)).length,F=_.length;1==e(y,_,w,F);)m--,n(y,A<w?E:S,w,l),w=y.length,h=1;else 0==m&&(h=m=1),w=(y=S.slice()).length;if(w<F&&(y=[0].concat(y)),n(_,y,F,l),F=_.length,-1==h)for(;e(S,_,A,F)<1;)m++,n(_,A<F?E:S,F,l),F=_.length}else 0===h&&(m++,_=[0]);b[f++]=m,_[0]?_[F++]=O[x]||0:(_=[O[x]],F=1)}while((x++<k||null!=_[0])&&B--);g=null!=_[0],b[0]||b.splice(0,1)}if(l==c){for(f=1,B=b[0];B>=10;B/=10,f++);W(v,s+(v.e=f+p*u-1)+1,a,g)}else v.e=p,v.r=+g;return v}}(),k=/^(-?)0([xbo])(?=\\w[\\w.]*$)/i,T=/^([^.]+)\\.$/,A=/^\\.([^.]+)$/,E=/^-?(Infinity|NaN)$/,B=/^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g,F=function(t,e,n,r){var o,i=n?e:e.replace(B,\"\");if(E.test(i))t.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(k,(function(t,e,n){return o=\"x\"==(n=n.toLowerCase())?16:\"b\"==n?2:8,r&&r!=o?t:e})),r&&(o=r,i=i.replace(T,\"$1\").replace(A,\"0.$1\")),e!=i))return new H(i,o);if(H.DEBUG)throw Error(s+\"Not a\"+(r?\" base \"+r:\"\")+\" number: \"+e);t.s=null}t.c=t.e=null},O.absoluteValue=O.abs=function(){var t=new H(this);return t.s<0&&(t.s=1),t},O.comparedTo=function(t,e){return m(this,new H(t,e))},O.decimalPlaces=O.dp=function(t,e){var n,r,o,i=this;if(null!=t)return y(t,0,f),null==e?e=I:y(e,0,8),W(new H(i),t+i.e+1,e);if(!(n=i.c))return null;if(r=((o=n.length-1)-d(this.e/u))*u,o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},O.dividedBy=O.div=function(t,e){return n(this,new H(t,e),C,I)},O.dividedToIntegerBy=O.idiv=function(t,e){return n(this,new H(t,e),0,1)},O.exponentiatedBy=O.pow=function(t,e){var n,r,a,c,l,h,p,f,d=this;if((t=new H(t)).c&&!t.isInteger())throw Error(s+\"Exponent not an integer: \"+V(t));if(null!=e&&(e=new H(e)),l=t.e>14,!d.c||!d.c[0]||1==d.c[0]&&!d.e&&1==d.c.length||!t.c||!t.c[0])return f=new H(Math.pow(+V(d),l?2-w(t):+V(t))),e?f.mod(e):f;if(h=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new H(NaN);(r=!h&&d.isInteger()&&e.isInteger())&&(d=d.mod(e))}else{if(t.e>9&&(d.e>0||d.e<-1||(0==d.e?d.c[0]>1||l&&d.c[1]>=24e7:d.c[0]<8e13||l&&d.c[0]<=9999975e7)))return c=d.s<0&&w(t)?-0:0,d.e>-1&&(c=1/c),new H(h?1/c:c);q&&(c=o(q/u+2))}for(l?(n=new H(.5),h&&(t.s=1),p=w(t)):p=(a=Math.abs(+V(t)))%2,f=new H(S);;){if(p){if(!(f=f.times(d)).c)break;c?f.c.length>c&&(f.c.length=c):r&&(f=f.mod(e))}if(a){if(0===(a=i(a/2)))break;p=a%2}else if(W(t=t.times(n),t.e+1,1),t.e>14)p=w(t);else{if(0===(a=+V(t)))break;p=a%2}d=d.times(d),c?d.c&&d.c.length>c&&(d.c.length=c):r&&(d=d.mod(e))}return r?f:(h&&(f=S.div(f)),e?f.mod(e):c?W(f,q,I,undefined):f)},O.integerValue=function(t){var e=new H(this);return null==t?t=I:y(t,0,8),W(e,e.e+1,t)},O.isEqualTo=O.eq=function(t,e){return 0===m(this,new H(t,e))},O.isFinite=function(){return!!this.c},O.isGreaterThan=O.gt=function(t,e){return m(this,new H(t,e))>0},O.isGreaterThanOrEqualTo=O.gte=function(t,e){return 1===(e=m(this,new H(t,e)))||0===e},O.isInteger=function(){return!!this.c&&d(this.e/u)>this.c.length-2},O.isLessThan=O.lt=function(t,e){return m(this,new H(t,e))<0},O.isLessThanOrEqualTo=O.lte=function(t,e){return-1===(e=m(this,new H(t,e)))||0===e},O.isNaN=function(){return!this.s},O.isNegative=function(){return this.s<0},O.isPositive=function(){return this.s>0},O.isZero=function(){return!!this.c&&0==this.c[0]},O.minus=function(t,e){var n,r,o,i,s=this,a=s.s;if(e=(t=new H(t,e)).s,!a||!e)return new H(NaN);if(a!=e)return t.s=-e,s.plus(t);var l=s.e/u,h=t.e/u,p=s.c,f=t.c;if(!l||!h){if(!p||!f)return p?(t.s=-e,t):new H(f?s:NaN);if(!p[0]||!f[0])return f[0]?(t.s=-e,t):new H(p[0]?s:3==I?-0:0)}if(l=d(l),h=d(h),p=p.slice(),a=l-h){for((i=a<0)?(a=-a,o=p):(h=l,o=f),o.reverse(),e=a;e--;o.push(0));o.reverse()}else for(r=(i=(a=p.length)<(e=f.length))?a:e,a=e=0;e<r;e++)if(p[e]!=f[e]){i=p[e]<f[e];break}if(i&&(o=p,p=f,f=o,t.s=-t.s),(e=(r=f.length)-(n=p.length))>0)for(;e--;p[n++]=0);for(e=c-1;r>a;){if(p[--r]<f[r]){for(n=r;n&&!p[--n];p[n]=e);--p[n],p[r]+=c}p[r]-=f[r]}for(;0==p[0];p.splice(0,1),--h);return p[0]?J(t,p,h):(t.s=3==I?-1:1,t.c=[t.e=0],t)},O.modulo=O.mod=function(t,e){var r,o,i=this;return t=new H(t,e),!i.c||!t.s||t.c&&!t.c[0]?new H(NaN):!t.c||i.c&&!i.c[0]?new H(i):(9==D?(o=t.s,t.s=1,r=n(i,t,0,3),t.s=o,r.s*=o):r=n(i,t,0,D),(t=i.minus(r.times(t))).c[0]||1!=D||(t.s=i.s),t)},O.multipliedBy=O.times=function(t,e){var n,r,o,i,s,a,l,h,f,g,m,y,w,v,b,_=this,F=_.c,N=(t=new H(t,e)).c;if(!(F&&N&&F[0]&&N[0]))return!_.s||!t.s||F&&!F[0]&&!N||N&&!N[0]&&!F?t.c=t.e=t.s=null:(t.s*=_.s,F&&N?(t.c=[0],t.e=0):t.c=t.e=null),t;for(r=d(_.e/u)+d(t.e/u),t.s*=_.s,(l=F.length)<(g=N.length)&&(w=F,F=N,N=w,o=l,l=g,g=o),o=l+g,w=[];o--;w.push(0));for(v=c,b=p,o=g;--o>=0;){for(n=0,m=N[o]%b,y=N[o]/b|0,i=o+(s=l);i>o;)n=((h=m*(h=F[--s]%b)+(a=y*h+(f=F[s]/b|0)*m)%b*b+w[i]+n)/v|0)+(a/b|0)+y*f,w[i--]=h%v;w[i]=n}return n?++r:w.splice(0,1),J(t,w,r)},O.negated=function(){var t=new H(this);return t.s=-t.s||null,t},O.plus=function(t,e){var n,r=this,o=r.s;if(e=(t=new H(t,e)).s,!o||!e)return new H(NaN);if(o!=e)return t.s=-e,r.minus(t);var i=r.e/u,s=t.e/u,a=r.c,l=t.c;if(!i||!s){if(!a||!l)return new H(o/0);if(!a[0]||!l[0])return l[0]?t:new H(a[0]?r:0*o)}if(i=d(i),s=d(s),a=a.slice(),o=i-s){for(o>0?(s=i,n=l):(o=-o,n=a),n.reverse();o--;n.push(0));n.reverse()}for((o=a.length)-(e=l.length)<0&&(n=l,l=a,a=n,e=o),o=0;e;)o=(a[--e]=a[e]+l[e]+o)/c|0,a[e]=c===a[e]?0:a[e]%c;return o&&(a=[o].concat(a),++s),J(t,a,s)},O.precision=O.sd=function(t,e){var n,r,o,i=this;if(null!=t&&t!==!!t)return y(t,1,f),null==e?e=I:y(e,0,8),W(new H(i),t,e);if(!(n=i.c))return null;if(r=(o=n.length-1)*u+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return t&&i.e+1>r&&(r=i.e+1),r},O.shiftedBy=function(t){return y(t,-9007199254740991,l),this.times(\"1e\"+t)},O.squareRoot=O.sqrt=function(){var t,e,r,o,i,s=this,a=s.c,c=s.s,u=s.e,l=C+4,h=new H(\"0.5\");if(1!==c||!a||!a[0])return new H(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(c=Math.sqrt(+V(s)))||c==1/0?(((e=g(a)).length+u)%2==0&&(e+=\"0\"),c=Math.sqrt(+e),u=d((u+1)/2)-(u<0||u%2),r=new H(e=c==1/0?\"5e\"+u:(e=c.toExponential()).slice(0,e.indexOf(\"e\")+1)+u)):r=new H(c+\"\"),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(i=r,r=h.times(i.plus(n(s,i,l,1))),g(i.c).slice(0,c)===(e=g(r.c)).slice(0,c)){if(r.e<u&&--c,\"9999\"!=(e=e.slice(c-3,c+1))&&(o||\"4999\"!=e)){+e&&(+e.slice(1)||\"5\"!=e.charAt(0))||(W(r,r.e+C+2,1),t=!r.times(r).eq(s));break}if(!o&&(W(i,i.e+C+2,0),i.times(i).eq(s))){r=i;break}l+=4,c+=4,o=1}return W(r,r.e+C+1,I,t)},O.toExponential=function(t,e){return null!=t&&(y(t,0,f),t++),G(this,t,e,1)},O.toFixed=function(t,e){return null!=t&&(y(t,0,f),t=t+this.e+1),G(this,t,e)},O.toFormat=function(t,e,n){var r,o=this;if(null==n)null!=t&&e&&\"object\"==typeof e?(n=e,e=null):t&&\"object\"==typeof t?(n=t,t=e=null):n=$;else if(\"object\"!=typeof n)throw Error(s+\"Argument not an object: \"+n);if(r=o.toFixed(t,e),o.c){var i,a=r.split(\".\"),c=+n.groupSize,u=+n.secondaryGroupSize,l=n.groupSeparator||\"\",h=a[0],p=a[1],f=o.s<0,d=f?h.slice(1):h,g=d.length;if(u&&(i=c,c=u,u=i,g-=i),c>0&&g>0){for(i=g%c||c,h=d.substr(0,i);i<g;i+=c)h+=l+d.substr(i,c);u>0&&(h+=l+d.slice(i)),f&&(h=\"-\"+h)}r=p?h+(n.decimalSeparator||\"\")+((u=+n.fractionGroupSize)?p.replace(new RegExp(\"\\\\d{\"+u+\"}\\\\B\",\"g\"),\"$&\"+(n.fractionGroupSeparator||\"\")):p):h}return(n.prefix||\"\")+r+(n.suffix||\"\")},O.toFraction=function(t){var e,r,o,i,a,c,l,p,f,d,m,y,w=this,v=w.c;if(null!=t&&(!(l=new H(t)).isInteger()&&(l.c||1!==l.s)||l.lt(S)))throw Error(s+\"Argument \"+(l.isInteger()?\"out of range: \":\"not an integer: \")+V(l));if(!v)return new H(w);for(e=new H(S),f=r=new H(S),o=p=new H(S),y=g(v),a=e.e=y.length-w.e-1,e.c[0]=h[(c=a%u)<0?u+c:c],t=!t||l.comparedTo(e)>0?a>0?e:f:l,c=j,j=1/0,l=new H(y),p.c[0]=0;d=n(l,e,0,1),1!=(i=r.plus(d.times(o))).comparedTo(t);)r=o,o=i,f=p.plus(d.times(i=f)),p=i,e=l.minus(d.times(i=e)),l=i;return i=n(t.minus(r),o,0,1),p=p.plus(i.times(f)),r=r.plus(i.times(o)),p.s=f.s=w.s,m=n(f,o,a*=2,I).minus(w).abs().comparedTo(n(p,r,a,I).minus(w).abs())<1?[f,o]:[p,r],j=c,m},O.toNumber=function(){return+V(this)},O.toPrecision=function(t,e){return null!=t&&y(t,1,f),G(this,t,e,2)},O.toString=function(t){var e,n=this,r=n.s,o=n.e;return null===o?r?(e=\"Infinity\",r<0&&(e=\"-\"+e)):e=\"NaN\":(null==t?e=o<=P||o>=M?v(g(n.c),o):b(g(n.c),o,\"0\"):10===t?e=b(g((n=W(new H(n),C+o+1,I)).c),n.e,\"0\"):(y(t,2,L.length,\"Base\"),e=_(b(g(n.c),o,\"0\"),10,t,r,!0)),r<0&&n.c[0]&&(e=\"-\"+e)),e},O.valueOf=O.toJSON=function(){return V(this)},O._isBigNumber=!0,null!=e&&H.set(e),H}()).default=n.BigNumber=n,t.exports?t.exports=n:(e||(e=\"undefined\"!=typeof self&&self?self:window),e.BigNumber=n)}(this)})).BigNumber;const P={ROUNDING_MODE:I.ROUND_DOWN};function M(t){return(new TextEncoder).encode(t)}function R(t){return\"string\"==typeof t?R(D(t)):(new TextDecoder).decode(t)}I.config(P);const j=\"INVALID_ARGUMENT\";function U(t,e=\"UNKNOWN_ERROR\",n={}){let r=[];Object.keys(n).forEach((t=>{try{r.push(t+\"=\"+JSON.stringify(n[t]))}catch(e){r.push(t+\"=\"+JSON.stringify(n[t].toString()))}}));let o=t;r.length&&(t+=\" (\"+r.join(\", \")+\")\");let i=new Error(t);return i.reason=o,i.code=e,Object.keys(n).forEach((function(t){i[t]=n[t]})),i}function D(t){if(\"string\"!=typeof t)throw new Error(\"hexToBytes only accept strings, got: \"+typeof t);if(\"0x\"===t.substr(0,2))return D(t.substr(2));const e=new Uint8Array(Math.ceil(t.length/2));let n=0;for(let r=0;r<t.length;r+=2){const o=parseInt(t.substr(r,2),16);if(isNaN(o))throw new Error(\"Cannot read hex string:\"+JSON.stringify(t));e[n]=o,n++}return e}function q(t){return Array.from(t).map((t=>t.toString(16).padStart(2,\"0\"))).join(\"\")}function $(t,e){if(\"string\"==typeof t){if(e&&\"hex\"===e.encoding&&\"string\"==typeof t){let e=t;e.length>2&&\"0x\"===e.substr(0,2)&&(e=e.substr(2));const n=D(e);return C(n)}return C(M(t))}return C(t)}let L={noether:\"0\",wei:\"1\",kwei:\"1000\",Kwei:\"1000\",babbage:\"1000\",femtoether:\"1000\",mwei:\"1000000\",Mwei:\"1000000\",lovelace:\"1000000\",picoether:\"1000000\",gwei:\"1000000000\",Gwei:\"1000000000\",shannon:\"1000000000\",nanoether:\"1000000000\",nano:\"1000000000\",szabo:\"1000000000000\",microether:\"1000000000000\",micro:\"1000000000000\",finney:\"1000000000000000\",milliether:\"1000000000000000\",milli:\"1000000000000000\",ether:\"1000000000000000000\",kether:\"1000000000000000000000\",grand:\"1000000000000000000000\",mether:\"1000000000000000000000000\",gether:\"1000000000000000000000000000\",tether:\"1000000000000000000000000000000\"};function H(t,e,n){return new Array(e-t.length+1).join(n||\"0\")+t}function G(t){return wt(t)&&t.name&&-1!==t.name.indexOf(\"(\")?t.name:t.name+\"(\"+J(!1,t.inputs||[]).join(\",\")+\")\"}function z(...t){const e=t.reduce(((t,e)=>t+e.length),0);var n=new Uint8Array(e);let r=0;for(let e of t)n.set(e,r),r+=e.length;return n}function J(t,e){const n=[];return e.forEach((function(e){if(\"object\"==typeof e.components){if(\"tuple\"!==e.type.substring(0,5))throw new Error(\"components found but type is not tuple; report on GitHub\");var r=\"\",o=e.type.indexOf(\"[\");o>=0&&(r=e.type.substring(o));var i=J(t,e.components);bt(i)&&t?n.push(\"tuple(\"+i.join(\",\")+\")\"+r):t?n.push(\"(\"+i+\")\"):n.push(\"(\"+i.join(\",\")+\")\"+r)}else n.push(e.type)})),n}function W(t){let e=t.indexOf(\"(\"),n=t.indexOf(\")\");return-1!==e&&-1!==n?t.substr(0,e):t}function V(t){let e=t.indexOf(\"(\"),n=t.indexOf(\")\");return-1!==e&&-1!==n?t.substr(e+1,n-e-1).replace(\" \",\"\"):\"\"}function K(t){return null==t?t:ot(t).toNumber()}function Z(t){return ot(t).toNumber()}function Y(t){return mt(t)?t.toString(10):\"\"+t}function X(t){return\"string\"==typeof t&&!t.startsWith(\"0x\")&&/^[A-Za-z0-9]+$/.test(t)?\"0x\"+t:nt(t)}function Q(t){if(\"string\"==typeof t)return t.startsWith(\"0x\")&&/^[A-Za-z0-9]+$/.test(t)?nt(t):\"0x\"+q(M(t));if(t instanceof Uint8Array)return\"0x\"+q(t);throw new Error(`toStringData: Error trying to convert ${t} (${typeof t}) to a hex string.`)}function tt(t){return\"boolean\"==typeof t?t:0!==ot(t).toNumber()}function et(t){let e=ot(t),n=e.toString(16);return e.isLessThan(0)?\"-0x\"+n.substr(1):\"0x\"+n}function nt(t){if(vt(t))return et(+t);if(mt(t))return et(t);if(yt(t)){const e=t;if(0===e.indexOf(\"-0x\"))return et(e);if(0===e.indexOf(\"0x\"))return e;if(!isFinite(e))return q(M(e))}if(t instanceof Uint8Array)return\"0x\"+q(t);if(bt(t)||wt(t))throw new Error(\"toHex can only be called with scalar values, not objects or arrays\");return et(t)}function rt(t){let e=t?t.toLowerCase():\"ether\",n=L[e];if(void 0===n)throw new Error(\"This unit doesn't exists, please use the one of the following units\"+JSON.stringify(L,null,2));return new I(n,10)}function ot(t){let e=t||0;return mt(e)?e:(\"string\"==typeof e&&(e=e.trim()),\"string\"!=typeof e||0!==e.indexOf(\"0x\")&&0!==e.indexOf(\"-0x\")?e instanceof Uint8Array?new I(q(e),16):new I(e,10):new I(e.replace(\"0x\",\"\").toLowerCase(),16))}function it(t){return new I(new Array(t).fill(\"1\").join(\"\"),2)}function st(t,e=256){let n=ot(t).integerValue();if(n.isLessThan(0)){return it(e).plus(n).plus(1)}return n}function at(t,e){return\"1\"==H(t.toString(2),e,\"0\")[0]}function ct(t){if(\"string\"!=typeof t)throw U(\"invalid address\",j,{arg:\"address\",value:t});if(t.trim().match(/^(0x)?[0-9a-fA-F]{40}$/))return\"0x\"!==t.trim().substring(0,2)&&(t=\"0x\"+t),ft(t);throw U(\"invalid address\",j,{arg:\"address\",value:t})}function ut(t,e=256){if(at(t,e)){const n=it(e);return t.minus(n).minus(1)}return t}function lt(t){return/^0x[0-9a-f]{40}$/i.test(t)}function ht(t){return!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!(!/^(0x)?[0-9a-f]{40}$/.test(t)&&!/^(0x)?[0-9A-F]{40}$/.test(t))||pt(t))}function pt(t){const e=t.replace(\"0x\",\"\");let n=$(e.toLowerCase());for(let t=0;t<40;t++)if(parseInt(n[t],16)>7&&e[t].toUpperCase()!==e[t]||parseInt(n[t],16)<=7&&e[t].toLowerCase()!==e[t])return!1;return!0}function ft(t){if(void 0===t)return\"\";const e=t.toLowerCase().replace(\"0x\",\"\"),n=$(e);let r=\"0x\";for(let t=0;t<e.length;t++)parseInt(n[t],16)>7?r+=e[t].toUpperCase():r+=e[t];return r}function dt(t){if(!Array.isArray(t))throw new Error(`Value was not an array: ${JSON.stringify(t)}`);return t}function gt(t){return lt(t)?t:/^[0-9a-f]{40}$/.test(t)?\"0x\"+t:\"0x\"+H(nt(t).substr(2),40)}function mt(t){return t instanceof I}function yt(t){return\"string\"==typeof t||t&&t.constructor&&\"String\"===t.constructor.name}function wt(t){return null!==t&&!Array.isArray(t)&&\"object\"==typeof t}function vt(t){return\"boolean\"==typeof t}function bt(t){return Array.isArray(t)}var _t,Ft;function Nt(e,n){if(!e)throw new Error(\"jsonrpc method should be specified!\");if(\"string\"!=typeof e)throw new Error(`jsonrpc must be a string, got ${typeof e}!`);return t.messageId++,{jsonrpc:\"2.0\",id:t.messageId,method:e,params:n||[]}}function xt(t){return Array.isArray(t)?t.every(e):e(t);function e(t){return!(!t||\"error\"in t||\"2.0\"!==t.jsonrpc||\"number\"!=typeof t.id||null==t.result&&void 0===t.result)}}\n/*! *****************************************************************************\n  Copyright (c) Microsoft Corporation.\n\n  Permission to use, copy, modify, and/or distribute this software for any\n  purpose with or without fee is hereby granted.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n  PERFORMANCE OF THIS SOFTWARE.\n  ***************************************************************************** */\nfunction kt(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Tt(t,e){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(t,e)}t.TransactionStatus=void 0,(_t=t.TransactionStatus||(t.TransactionStatus={})).pending=\"pending\",_t.confirmed=\"confirmed\",_t.failed=\"failed\",t.TransactionType=void 0,(Ft=t.TransactionType||(t.TransactionType={})).queued=\"queued\",Ft.dropped=\"dropped\",Ft.replaced=\"replaced\",Ft.pending=\"pending\",Ft.reverted=\"reverted\",Ft.confirmed=\"confirmed\",t.messageId=0;function At(t){return ot(t)}function Et(t){return void 0===t?\"latest\":Bt(t)}function Bt(t){return void 0===t||null==t?null:function(t){return\"latest\"===t||\"pending\"===t||\"earliest\"===t}(t)?t:nt(t)}function Ot(t){return t.from=t.from,t.from&&(t.from=jt(t.from)),t.to&&(t.to=jt(t.to)),void 0!==t.gasPrice&&(t.gasPrice=et(t.gasPrice)),void 0!==t.gas&&(t.gas=et(t.gas)),void 0!==t.value&&(t.value=et(t.value)),void 0!==t.nonce&&(t.nonce=et(t.nonce)),t.data&&!t.data.startsWith(\"0x\")&&/^[A-Za-z0-9]+$/.test(t.data)&&(t.data=\"0x\"+t.data),t}function St(t){if(\"string\"!=typeof t)throw new Error(\"The provided input for transactionId is not a string, got: \"+JSON.stringify(t));if(0!==t.indexOf(\"0x\"))throw new Error(\"TransactionID must start with 0x, got: \"+JSON.stringify(t));if(66!==t.length)throw new Error(\"TransactionID must be a 32 byte hex, got: \"+JSON.stringify(t));return t}function Ct(t){if(\"object\"!=typeof t)throw new Error(\"Did not provide transaction options\");if(!t.from)throw new Error('Missing \"from\" in transaction options');return t.from=jt(t.from),t.to&&(t.to=jt(t.to)),void 0!==t.gasPrice&&(t.gasPrice=et(t.gasPrice)),void 0!==t.gas&&(t.gas=et(t.gas)),void 0!==t.value&&(t.value=et(t.value)),void 0!==t.nonce&&(t.nonce=et(t.nonce)),t.data&&!t.data.startsWith(\"0x\")&&/^[A-Za-z0-9]+$/.test(t.data)&&(t.data=\"0x\"+t.data),t}function It(t){return t?(null!==t.blockNumber&&(t.blockNumber=Z(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=Z(t.transactionIndex)),t.nonce=Z(t.nonce),t.gas=Z(t.gas),t.gasPrice=ot(t.gasPrice),t.value=ot(t.value),t):null}function Pt(t){return t?(null!==t.blockNumber&&(t.blockNumber=Z(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=Z(t.transactionIndex)),t.cumulativeGasUsed=Z(t.cumulativeGasUsed),t.gasUsed=Z(t.gasUsed),t.logs&&bt(t.logs)&&(t.logs=t.logs.map((function(t){return Rt(t)}))),t.status=Z(t.status||\"\"),t):null}function Mt(t){return t?(t.gasLimit=Z(t.gasLimit),t.gasUsed=Z(t.gasUsed),t.size=Z(t.size),t.timestamp=Z(t.timestamp),null!==t.number&&(t.number=Z(t.number)),t.difficulty=ot(t.difficulty),t.totalDifficulty=ot(t.totalDifficulty),bt(t.transactions)&&t.transactions.forEach((function(e,n){yt(e)||(t.transactions[n]=It(e)||t.transactions[n])})),t):null}function Rt(t){return t?(t.blockNumber&&(t.blockNumber=Z(t.blockNumber)),t.transactionIndex&&(t.transactionIndex=Z(t.transactionIndex)),t.logIndex&&(t.logIndex=Z(t.logIndex)),t):t}function jt(t){if(lt(t))return t;if(ht(t))return\"0x\"+t;throw new Error(`Invalid address: ${JSON.stringify(t)}`)}function Ut(t){return t}function Dt(t){return t?(t.startingBlock=Z(t.startingBlock),t.currentBlock=Z(t.currentBlock),t.highestBlock=Z(t.highestBlock),t.knownStates&&(t.knownStates=Z(t.knownStates),t.pulledStates=Z(t.pulledStates)),t):t}class qt{constructor(t){this.callName=t.callName,this.params=t.params||0,this.inputFormatter=t.inputFormatter||null,this.outputFormatter=t.outputFormatter}validateArgs(t){if(t.length!==this.params)throw e=this.callName,n=t.length,r=this.params,new Error(`Invalid number of input parameters to RPC method \"${e}\" given: ${n}, expected: ${r}`);var e,n,r}formatInput(t){return this.inputFormatter?this.inputFormatter.map((function(e,n){return e?e(t[n]):t[n]})):t}formatOutput(t){return null!==t?this.outputFormatter(t):null}toPayload(t){let e=this.formatInput(t);return this.validateArgs(e),{method:this.callName,params:e}}async execute(t,...e){let n=this.toPayload(e);if(!t)throw new Error(\"Missing RequestManager in method#exec\");const r=await t.sendAsync(n);return this.formatOutput(r)}}class $t{constructor(t){this.getter=t.getter,this.outputFormatter=t.outputFormatter}formatOutput(t){return this.outputFormatter(t)}async execute(t,...e){const n=await t.sendAsync({method:this.getter,params:[]});return this.formatOutput(n)}}var Lt;function Ht(t){return new Promise((e=>setTimeout(e,t)))}t.eth=void 0,(Lt=t.eth||(t.eth={})).eth_getBalance=new qt({callName:\"eth_getBalance\",params:2,inputFormatter:[jt,Et],outputFormatter:At}),Lt.eth_getStorageAt=new qt({callName:\"eth_getStorageAt\",params:3,inputFormatter:[jt,nt,Et],outputFormatter:X}),Lt.eth_getCode=new qt({callName:\"eth_getCode\",params:2,inputFormatter:[jt,Et],outputFormatter:X}),Lt.eth_getBlockByHash=new qt({callName:\"eth_getBlockByHash\",params:2,inputFormatter:[Bt,function(t){return!!t}],outputFormatter:Mt}),Lt.eth_getBlockByNumber=new qt({callName:\"eth_getBlockByNumber\",params:2,inputFormatter:[Bt,function(t){return!!t}],outputFormatter:Mt}),Lt.eth_getUncleByBlockHashAndIndex=new qt({callName:\"eth_getUncleByBlockHashAndIndex\",params:2,inputFormatter:[Bt,nt],outputFormatter:Mt}),Lt.eth_getUncleByBlockNumberAndIndex=new qt({callName:\"eth_getUncleByBlockNumberAndIndex\",params:2,inputFormatter:[Bt,nt],outputFormatter:Mt}),Lt.eth_getBlockTransactionCountByHash=new qt({callName:\"eth_getBlockTransactionCountByHash\",params:1,inputFormatter:[Bt],outputFormatter:Z}),Lt.eth_getBlockTransactionCountByNumber=new qt({callName:\"eth_getBlockTransactionCountByNumber\",params:1,inputFormatter:[Bt],outputFormatter:Z}),Lt.eth_getUncleCountByBlockHash=new qt({callName:\"eth_getUncleCountByBlockHash\",params:1,inputFormatter:[Bt],outputFormatter:Z}),Lt.eth_getUncleCountByBlockNumber=new qt({callName:\"eth_getUncleCountByBlockNumber\",params:1,inputFormatter:[Bt],outputFormatter:Z}),Lt.eth_getTransactionByHash=new qt({callName:\"eth_getTransactionByHash\",params:1,inputFormatter:[St],outputFormatter:It}),Lt.eth_getTransactionByBlockHashAndIndex=new qt({callName:\"eth_getTransactionByBlockHashAndIndex\",params:2,inputFormatter:[Bt,nt],outputFormatter:It}),Lt.eth_getTransactionByBlockNumberAndIndex=new qt({callName:\"eth_getTransactionByBlockNumberAndIndex\",params:2,inputFormatter:[Bt,nt],outputFormatter:It}),Lt.eth_getTransactionReceipt=new qt({callName:\"eth_getTransactionReceipt\",params:1,inputFormatter:[St],outputFormatter:Pt}),Lt.eth_getTransactionCount=new qt({callName:\"eth_getTransactionCount\",params:2,inputFormatter:[jt,Et],outputFormatter:Z}),Lt.eth_sendRawTransaction=new qt({callName:\"eth_sendRawTransaction\",params:1,inputFormatter:[null],outputFormatter:X}),Lt.web3_sha3=new qt({callName:\"web3_sha3\",params:1,inputFormatter:[null],outputFormatter:X}),Lt.eth_sendTransaction=new qt({callName:\"eth_sendTransaction\",params:1,inputFormatter:[Ct],outputFormatter:X}),Lt.eth_sign=new qt({callName:\"eth_sign\",params:2,inputFormatter:[jt,null],outputFormatter:X}),Lt.eth_call=new qt({callName:\"eth_call\",params:2,inputFormatter:[Ot,Et],outputFormatter:X}),Lt.eth_estimateGas=new qt({callName:\"eth_estimateGas\",params:1,inputFormatter:[Ot],outputFormatter:Z}),Lt.eth_submitWork=new qt({callName:\"eth_submitWork\",params:3,inputFormatter:[null,null,null],outputFormatter:tt}),Lt.eth_getWork=new qt({callName:\"eth_getWork\",params:0,inputFormatter:[],outputFormatter:dt}),Lt.eth_coinbase=new $t({getter:\"eth_coinbase\",outputFormatter:gt}),Lt.eth_mining=new $t({getter:\"eth_mining\",outputFormatter:tt}),Lt.eth_hashrate=new $t({getter:\"eth_hashrate\",outputFormatter:Z}),Lt.eth_syncing=new $t({getter:\"eth_syncing\",outputFormatter:Dt}),Lt.eth_gasPrice=new $t({getter:\"eth_gasPrice\",outputFormatter:At}),Lt.eth_accounts=new $t({getter:\"eth_accounts\",outputFormatter:dt}),Lt.eth_blockNumber=new $t({getter:\"eth_blockNumber\",outputFormatter:Z}),Lt.eth_protocolVersion=new $t({getter:\"eth_protocolVersion\",outputFormatter:Z}),Lt.web3_clientVersion=new $t({getter:\"web3_clientVersion\",outputFormatter:Y}),Lt.net_version=new $t({getter:\"net_version\",outputFormatter:Y}),Lt.shh_version=new qt({callName:\"shh_version\",params:0,inputFormatter:[],outputFormatter:Z}),Lt.shh_post=new qt({callName:\"shh_post\",params:1,inputFormatter:[null],outputFormatter:tt}),Lt.personal_newAccount=new qt({callName:\"personal_newAccount\",params:1,inputFormatter:[null],outputFormatter:gt}),Lt.personal_importRawKey=new qt({callName:\"personal_importRawKey\",params:2,inputFormatter:[null,null],outputFormatter:gt}),Lt.personal_sign=new qt({callName:\"personal_sign\",params:3,inputFormatter:[Q,jt,null],outputFormatter:X}),Lt.personal_ecRecover=new qt({callName:\"personal_ecRecover\",params:2,inputFormatter:[Q,null],outputFormatter:gt}),Lt.personal_unlockAccount=new qt({callName:\"personal_unlockAccount\",params:3,inputFormatter:[jt,null,K],outputFormatter:tt}),Lt.personal_sendTransaction=new qt({callName:\"personal_sendTransaction\",params:2,inputFormatter:[Ct,null],outputFormatter:X}),Lt.personal_lockAccount=new qt({callName:\"personal_lockAccount\",params:1,inputFormatter:[jt],outputFormatter:tt}),Lt.personal_listAccounts=new $t({getter:\"personal_listAccounts\",outputFormatter:dt}),Lt.net_listening=new $t({getter:\"net_listening\",outputFormatter:tt}),Lt.net_peerCount=new $t({getter:\"net_peerCount\",outputFormatter:Z}),Lt.eth_newFilter=new qt({callName:\"eth_newFilter\",params:1,inputFormatter:[Ut],outputFormatter:nt}),Lt.eth_getLogs=new qt({callName:\"eth_getLogs\",params:1,inputFormatter:[nt],outputFormatter:dt}),Lt.eth_newBlockFilter=new qt({callName:\"eth_newBlockFilter\",params:0,inputFormatter:[],outputFormatter:nt}),Lt.eth_newPendingTransactionFilter=new qt({callName:\"eth_newPendingTransactionFilter\",params:0,inputFormatter:[],outputFormatter:nt}),Lt.eth_uninstallFilter=new qt({callName:\"eth_uninstallFilter\",params:1,inputFormatter:[nt],outputFormatter:tt}),Lt.eth_getFilterLogs=new qt({callName:\"eth_getFilterLogs\",params:1,inputFormatter:[nt],outputFormatter:dt}),Lt.eth_getFilterChanges=new qt({callName:\"eth_getFilterChanges\",params:1,inputFormatter:[nt],outputFormatter:dt}),Lt.eth_submitHashrate=new qt({callName:\"eth_submitHashrate\",params:2,inputFormatter:[null,null],outputFormatter:tt}),Lt.shh_newIdentity=new qt({callName:\"shh_newIdentity\",params:0,inputFormatter:[],outputFormatter:X}),Lt.shh_hasIdentity=new qt({callName:\"shh_hasIdentity\",params:1,inputFormatter:[null],outputFormatter:tt}),Lt.shh_newGroup=new qt({callName:\"shh_newGroup\",params:0,inputFormatter:[],outputFormatter:X}),Lt.shh_addToGroup=new qt({callName:\"shh_addToGroup\",params:1,inputFormatter:[null],outputFormatter:tt}),Lt.shh_newFilter=new qt({callName:\"shh_newFilter\",params:1,inputFormatter:[null],outputFormatter:nt}),Lt.shh_uninstallFilter=new qt({callName:\"shh_uninstallFilter\",params:1,inputFormatter:[null],outputFormatter:tt}),Lt.shh_getLogs=new qt({callName:\"shh_getLogs\",params:1,inputFormatter:[null],outputFormatter:dt}),Lt.shh_getFilterMessages=new qt({callName:\"shh_getFilterMessages\",params:1,inputFormatter:[null],outputFormatter:dt}),Lt.shh_getFilterChanges=new qt({callName:\"shh_getFilterChanges\",params:1,inputFormatter:[null],outputFormatter:dt}),Lt.shh_getMessages=new qt({callName:\"shh_getMessages\",params:1,inputFormatter:[null],outputFormatter:dt});function Gt(e,n){const r=t.eth[n];if(!r)throw new Error(`Could not find the method/property named ${n.toString()}`);Object.defineProperty(e,n,{value:function(){return r.execute(this,...arguments)}})}class zt{constructor(t){this.provider=t,this.requests=new Map}async sendAsync(t){const e=await this.provider;if(!e)throw new Error(\"Provider not set or invalid\");let n=Nt(t.method,t.params);const r=i();return this.requests.set(n.id,r),e.sendAsync(n,((t,e)=>{this.requests.delete(n.id),t?r.reject(t):xt(e)?r.resolve(e.result):r.reject(function(t){let e=t&&t.error&&t.error.message?t.error.message:\"Invalid JSON RPC response: \"+JSON.stringify(t);return new Error(e)}(e))})),r}setProvider(t){this.provider=t}async getConfirmedTransaction(t){const e=await this.waitForCompletion(t);if(this.isFailure(e))throw new Error(`Transaction \"${t}\" failed`);return e}async waitForCompletion(e,n){const r=St(e);if(await this.isTxDropped(r,n)){const e=await this.getTransactionAndReceipt(r);return Object.assign(Object.assign({},e),{status:t.TransactionStatus.failed})}for(;;){const e=await this.getTransactionAndReceipt(r);if(!this.isPending(e)&&e.receipt)return Object.assign(Object.assign({},e),{status:this.isFailure(e)?t.TransactionStatus.failed:t.TransactionStatus.confirmed});await Ht(2e3)}}async getTransaction(e){let n,r=null;const o=St(e);try{const t=(await this.eth_accounts())[0];t&&(r=await this.eth_getTransactionCount(t,\"latest\"))}catch(t){r=null}try{if(n=await this.eth_getTransactionByHash(o),null==n)return null}catch(t){return null}if(null==n.blockNumber){if(null!=r){if(n.nonce<r){return{hash:o,type:t.TransactionType.replaced,nonce:n.nonce}}if(n.nonce>r){return{hash:o,type:t.TransactionType.queued,nonce:n.nonce}}}return Object.assign({type:t.TransactionType.pending},n)}let i;try{if(i=await this.eth_getTransactionReceipt(o),null==i||0===i.status){return Object.assign({type:t.TransactionType.reverted},n)}}catch(t){return null}return Object.assign(Object.assign({type:t.TransactionType.confirmed},n),{receipt:i})}async isTxDropped(t,e=15){let n=e;for(;n>0;){if(null!==await this.getTransactionAndReceipt(t))return!1;n-=1,await Ht(2e3)}return!0}async getTransactionAndReceipt(t){t=St(t);const[e,n]=await Promise.all([this.eth_getTransactionByHash(t),this.eth_getTransactionReceipt(t)]);return Object.assign(Object.assign({},e),{receipt:n})}isPending(t){return t&&null===t.blockNumber}isFailure(t){return t&&(!t.receipt||0===t.receipt.status)}}function Jt(t){return\"slice\"in t&&t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return new Uint8Array(Array.prototype.slice.apply(t,e))}),t}function Wt(t){if(null==t)throw U(\"cannot convert null value to array\",j,{arg:\"value\",value:t});if(t instanceof Uint8Array)return Jt(new Uint8Array(t));if(\"string\"==typeof t){let r=t.match(/^(0x)?[0-9a-fA-F]*$/);if(!r)throw U(\"invalid hexidecimal string\",j,{arg:\"value\",value:t});if(\"0x\"!==r[1])throw U(\"hex string must have 0x prefix\",j,{arg:\"value\",value:t});(t=t.substring(2)).length%2&&(t=\"0\"+t);for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return Jt(new Uint8Array(e))}if(function(t){if(!t||parseInt(String(t.length))!=t.length||\"string\"==typeof t)return!1;for(var e=0;e<t.length;e++){var n=t[e];if(n<0||n>=256||parseInt(String(n))!=n)return!1}return!0}(t))return Jt(new Uint8Array(t));throw U(\"invalid arrayify value\",void 0,{arg:\"value\",value:t,type:typeof t})}function Vt(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"web3_clientVersion\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"web3_sha3\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"net_version\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"net_peerCount\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"net_listening\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_protocolVersion\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_syncing\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_coinbase\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_mining\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_hashrate\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_gasPrice\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_accounts\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_blockNumber\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getBalance\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getStorageAt\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getTransactionCount\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getBlockTransactionCountByHash\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getBlockTransactionCountByNumber\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getUncleCountByBlockHash\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getUncleCountByBlockNumber\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getCode\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_sign\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_sendTransaction\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_sendRawTransaction\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_call\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_estimateGas\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getBlockByHash\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getBlockByNumber\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getTransactionByHash\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getTransactionByBlockHashAndIndex\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getTransactionByBlockNumberAndIndex\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getTransactionReceipt\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getUncleByBlockHashAndIndex\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getUncleByBlockNumberAndIndex\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_newFilter\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_newBlockFilter\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_newPendingTransactionFilter\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_uninstallFilter\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getFilterChanges\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getFilterLogs\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getLogs\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_getWork\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_submitWork\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"eth_submitHashrate\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"shh_post\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"shh_version\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"shh_newIdentity\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"shh_hasIdentity\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"shh_newGroup\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"shh_addToGroup\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"shh_newFilter\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"shh_uninstallFilter\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"shh_getFilterChanges\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"shh_getMessages\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"personal_unlockAccount\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"personal_newAccount\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"personal_listAccounts\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"personal_lockAccount\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"personal_importRawKey\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"personal_sendTransaction\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"personal_sign\",void 0),kt([Gt,Tt(\"design:type\",Function)],zt.prototype,\"personal_ecRecover\",void 0);const Kt=new I(-1),Zt=new I(0),Yt=new I(1),Xt=new I(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\");function Qt(t){return function(t,e){function n(e){return new Error('unexpected character \"'+t[e]+'\" at position '+e+' in \"'+t+'\"')}for(var r={type:\"\",name:\"\",state:{allowType:!0}},o=r,i=0;i<t.length;i++){var s=t[i];switch(s){case\"(\":if(!o.state.allowParams)throw n(i);o.state.allowType=!1,o.type=te(o.type),o.components=[{type:\"\",name:\"\",parent:o,state:{allowType:!0}}],o=o.components[0];break;case\")\":delete o.state,e&&\"indexed\"===o.name&&(o.indexed=!0,o.name=\"\"),o.type=te(o.type);var a=o;if(!(o=o.parent))throw n(i);delete a.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case\",\":delete o.state,e&&\"indexed\"===o.name&&(o.indexed=!0,o.name=\"\"),o.type=te(o.type);var c={type:\"\",name:\"\",parent:o.parent,state:{allowType:!0}};o.parent.components.push(c),delete o.parent,o=c;break;case\" \":o.state.allowType&&\"\"!==o.type&&(o.type=te(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&\"\"!==o.name&&(e&&\"indexed\"===o.name?(o.indexed=!0,o.name=\"\"):o.state.allowName=!1);break;case\"[\":if(!o.state.allowArray)throw n(i);o.type+=s,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case\"]\":if(!o.state.readArray)throw n(i);o.type+=s,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:if(o.state.allowType)o.type+=s,o.state.allowParams=!0,o.state.allowArray=!0;else if(o.state.allowName)o.name+=s,delete o.state.allowArray;else{if(!o.state.readArray)throw n(i);o.type+=s}}}if(o.parent)throw new Error(\"unexpected eof\");delete r.state,e&&\"indexed\"===o.name&&(o.indexed=!0,o.name=\"\");return r.type=te(r.type),r}(t,!0)}function te(t){return t.match(/^uint($|[^1-9])/)?t=\"uint256\"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t=\"int256\"+t.substring(3)),t}const ee=new RegExp(/^bytes([0-9]*)$/),ne=new RegExp(/^(u?int)([0-9]*)$/),re=new RegExp(/^(.*)\\[([0-9]*)\\]$/),oe=function(t,e){var n=t.match(ne);return n&&parseInt(n[2])<=48?e.toNumber():e};class ie{constructor(t,e,n,r=\"\",o){this.coerceFunc=t,this.name=e,this.type=n,this.localName=r,this.dynamic=o}}class se extends ie{constructor(t){super(t.coerceFunc,t.name,t.type,void 0,t.dynamic),Vt(this,\"coder\",t)}encode(t){return this.coder.encode(t)}decode(t,e){return this.coder.decode(t,e)}}class ae extends ie{constructor(t,e){super(t,\"null\",\"\",e,!1)}encode(t){return Wt([])}decode(t,e){if(e>t.length)throw new Error(\"invalid null\");return{consumed:0,value:this.coerceFunc(\"null\",void 0)}}}function ce(t,e){return new I(t.toString(2).substr(-e),2)}class ue extends ie{constructor(t,e,n,r){const o=(n?\"int\":\"uint\")+8*e;super(t,o,o,r,!1),this.size=e,this.signed=n}encode(t){try{let e=ot(t);if(this.signed){let t=ce(Xt,8*this.size-1);if(e.gt(t))throw new Error(\"out-of-bounds\");if(t=t.plus(Yt).multipliedBy(Kt),e.lt(t))throw new Error(\"out-of-bounds\")}else if(e.lt(Zt)||e.gt(ce(Xt,8*this.size)))throw new Error(\"out-of-bounds\");e=ce(st(e,8*this.size),8*this.size),this.signed&&(e=st(ut(e,8*this.size),256));let n=H(st(e).toString(16),64);if(-1!=n.indexOf(\"NaN\"))throw U(\"invalid number value, NaN\",j,{arg:this.localName,coderType:this.name,value:t,v:e,twosComplement:st(e),twosComplement16:st(e).toString(16),pad:H(st(e).toString(16),64),size:this.size});return D(n)}catch(e){throw U(\"invalid number value\",j,{arg:this.localName,coderType:this.name,value:t,message:e.toString()})}}decode(t,e){if(t.length<e+32)throw U(\"insufficient data for \"+this.name+\" type\",j,{arg:this.localName,coderType:this.name,value:nt(t.slice(e,e+32))});var n=32-this.size,r=new I(q(t.slice(e+n,e+32)),16);return r=this.signed?ut(r,8*this.size):ce(r,8*this.size),{consumed:32,value:this.coerceFunc(this.name,r)}}}var le=new ue((function(t,e){return e}),32,!1,\"none\");class he extends ie{constructor(t,e,n){const r=\"bytes\"+e;super(t,r,r,n,!1),this.length=e}encode(t){var e=new Uint8Array(32);try{if(\"string\"==typeof t&&t.length%2!=0)throw new Error(\"hex string cannot be odd-length\");let n=Wt(t);if(n.length>this.length)throw new Error(\"incorrect data length\");e.set(n)}catch(e){throw U(\"invalid \"+this.name+\" value. Use hex strings or Uint8Array\",j,{arg:this.localName,coderType:this.name,value:e.value||t,details:e.message})}return e}decode(t,e){if(t.length<e+32)throw U(\"insufficient data for \"+this.name+\" type\",j,{arg:this.localName,coderType:this.name,value:nt(t.slice(e,e+32))});return{consumed:32,value:this.coerceFunc(this.name,t.slice(e,e+this.length))}}}function pe(t){var e=32*Math.ceil(t.length/32),n=new Uint8Array(e-t.length);return z(le.encode(t.length),t,n)}function fe(t,e,n){if(t.length<e+32)throw U(\"insufficient data for dynamicBytes length\",j,{arg:n,coderType:\"dynamicBytes\",value:nt(t.slice(e,e+32))});var r=le.decode(t,e).value;try{r=r.toNumber()}catch(t){throw t(\"dynamic bytes count too large\",j,{arg:n,coderType:\"dynamicBytes\",value:r.toString()})}if(t.length<e+32+r)throw U(\"insufficient data for dynamicBytes type\",j,{arg:n,coderType:\"dynamicBytes\",value:nt(t.slice(e,e+32+r))});return{consumed:32+32*Math.ceil(r/32),value:t.slice(e+32,e+32+r)}}function de(t){return 32*Math.ceil(t/32)}function ge(t,e){if(Array.isArray(e));else{if(!e||\"object\"!=typeof e)throw U(\"invalid tuple value\",j,{coderType:\"tuple\",value:e});var n=[];t.forEach((function(t){n.push(e[t.localName])})),e=n}if(t.length!==e.length)throw U(\"types/value length mismatch\",j,{coderType:\"tuple\",value:e});var r=[];t.forEach((function(t,n){r.push({dynamic:t.dynamic,value:t.encode(e[n])})}));var o=0,i=0;r.forEach((function(t){t.dynamic?(o+=32,i+=de(t.value.length)):o+=de(t.value.length)}));var s=0,a=o,c=new Uint8Array(o+i);return r.forEach((function(t){t.dynamic?(c.set(le.encode(a),s),s+=32,c.set(t.value,a),a+=de(t.value.length)):(c.set(t.value,s),s+=de(t.value.length))})),c}class me extends Array{}class ye extends ie{constructor(t,e,n,r){super(t,\"array\",e.type+\"[\"+(n>=0?n:\"\")+\"]\",r,-1===n||e.dynamic),this.coder=e,this.length=n}encode(t){if(!Array.isArray(t))throw U(\"expected array value\",j,{arg:this.localName,coderType:\"array\",value:t});var e=this.length,n=new Uint8Array(0);-1===e&&(e=t.length,n=le.encode(e)),function(t,e,n){if(n||(n=\"\"),t<e)throw U(\"missing argument\"+n,\"MISSING_ARGUMENT\",{count:t,expectedCount:e});if(t>e)throw U(\"too many arguments\"+n,\"UNEXPECTED_ARGUMENT\",{count:t,expectedCount:e})}(e,t.length,\"in coder array\"+(this.localName?\" \"+this.localName:\"\"));for(var r=[],o=0;o<t.length;o++)r.push(this.coder);return z(n,ge(r,t))}decode(t,e){var n=0,r=this.length;if(-1===r){try{var o=le.decode(t,e)}catch(t){throw t(\"insufficient data for dynamic array length\",j,{arg:this.localName,coderType:\"array\",value:t.value})}try{r=o.value.toNumber()}catch(t){throw t(\"array count too large\",j,{arg:this.localName,coderType:\"array\",value:o.value.toString()})}n+=o.consumed,e+=o.consumed}for(var i=[],s=0;s<r;s++)i.push(new se(this.coder));var a=function(t,e,n){var r=n,o=0,i=[];return t.forEach((function(t){if(t.dynamic){var s=le.decode(e,n);(a=t.decode(e,r+s.value.toNumber())).consumed=s.consumed}else var a=t.decode(e,n);null!=a.value&&i.push(a.value),n+=a.consumed,o+=a.consumed})),{value:i,consumed:o}}(i,t,e);return a.consumed+=n,a.value=this.coerceFunc(this.type,a.value),a}}class we extends ie{constructor(t,e,n){var r=!1,o=[];e.forEach((function(t){t.dynamic&&(r=!0),o.push(t.type)})),super(t,\"tuple\",\"tuple(\"+o.join(\",\")+\")\",n,r),this.coders=e}encode(t){return ge(this.coders,t)}decode(t,e){var n=function(t,e,n){var r=n,o=0,i=new me;return t.forEach((function(t){if(t.dynamic){var s=le.decode(e,n);(a=t.decode(e,r+s.value.toNumber())).consumed=s.consumed}else var a=t.decode(e,n);null!=a.value&&i.push(a.value),n+=a.consumed,o+=a.consumed})),t.forEach((function(t,e){let n=t.localName;n&&(\"length\"===n&&(n=\"_length\"),null==i[n]&&(i[n]=i[e]))})),{value:i,consumed:o}}(this.coders,t,e);return n.value=this.coerceFunc(this.type,n.value),n}}const ve={address:class extends ie{constructor(t,e){super(t,\"address\",\"address\",e,!1)}encode(t){let e=new Uint8Array(32);const n=t.trim();if(!ht(n))throw U(\"invalid address format\",j,{arg:this.localName,coderType:\"address\",value:t});try{e.set(D(jt(n)),12)}catch(e){throw U(`invalid address (${e.message})`,j,{arg:this.localName,coderType:\"address\",value:t})}return e}decode(t,e){if(t.length<e+32)throw U(\"insufficuent data for address type\",j,{arg:this.localName,coderType:\"address\",value:nt(t.slice(e,e+32)),missingBytes:e+32-t.length});return{consumed:32,value:this.coerceFunc(\"address\",ct(nt(t.slice(e+12,e+32))))}}},bool:class extends ie{constructor(t,e){super(t,\"bool\",\"bool\",e,!1)}encode(t){return le.encode(t?1:0)}decode(t,e){try{var n=le.decode(t,e)}catch(t){if(\"insufficient data for uint256 type\"===t.reason)throw U(\"insufficient data for boolean type\",j,{arg:this.localName,coderType:\"boolean\",value:t.value});throw t}return{consumed:n.consumed,value:this.coerceFunc(\"bool\",!n.value.isZero())}}},string:class extends ie{constructor(t,e){super(t,\"string\",\"string\",e,!0)}encode(t){if(\"string\"!=typeof t)throw U(\"invalid string value\",j,{arg:this.localName,coderType:\"string\",value:t});return pe(M(t))}decode(t,e){var n=fe(t,e,this.localName);return n.value=this.coerceFunc(\"string\",R(n.value)),n}},bytes:class extends ie{constructor(t,e){super(t,\"bytes\",\"bytes\",e,!0)}encode(t){try{return pe(Wt(t))}catch(t){throw t(\"invalid bytes value\",j,{arg:this.localName,coderType:\"bytes\",value:t.value})}}decode(t,e){var n=fe(t,e,this.localName);return n.value=this.coerceFunc(\"bytes\",n.value),n}},function:class extends he{constructor(t,e){super(t,24,e)}}};function be(t,e){var n,r=ve[e.type];if(r)return new r(t,e.name);if(n=e.type.match(ne)){let r=parseInt(n[2]||\"256\");if(0===r||r>256||r%8!=0)throw U(\"invalid \"+n[1]+\" bit length\",j,{arg:\"param\",value:e});return new ue(t,r/8,\"int\"===n[1],e.name)}if(n=e.type.match(ee)){let r=parseInt(n[1]);if(0===r||r>32)throw U(\"invalid bytes length\",j,{arg:\"param\",value:e});return new he(t,r,e.name)}if(n=e.type.match(re)){const r=Object.assign({},e);let o=parseInt(n[2]||\"-1\");return r.type=n[1],new ye(t,be(t,r),o,e.name)}if(\"tuple\"===e.type.substring(0,5))return function(t,e,n){e||(e=[]);var r=e.map((e=>be(t,e)));return new we(t,r,n)}(t,e.components,e.name);if(\"\"===e.type)return new ae(t,e.name);throw U(\"invalid type\",j,{arg:\"type\",value:e.type,fullType:e})}class _e{constructor(t){!function(t,e){if(!(t instanceof e))throw U(\"missing new\",\"MISSING_NEW\",{name:e.name})}(this,_e),t||(t=oe),Vt(this,\"coerceFunc\",t)}encode(t,e){if(t.length!==e.length)throw U(\"types/values length mismatch\",j,{count:{types:t.length,values:e.length},value:{types:t,values:e}});const n=t.map((t=>\"string\"==typeof t?Qt(t):t)).map((t=>be(this.coerceFunc,t)));return new we(this.coerceFunc,n,\"_\").encode(e)}decode(t,e){const n=t.map((t=>\"string\"==typeof t?Qt(t):t)).map((t=>be(this.coerceFunc,t)));return new we(this.coerceFunc,n,\"_\").decode(e,0).value}}const Fe=new _e;var Ne;!function(t){t.encodeParams=function(t,e){return q(Fe.encode(t,e))},t.decodeParams=function(t,e){if(t.length>0&&(!e||\"0x\"===e||\"0X\"===e))throw new Error(\"Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.\");return Fe.decode(t,D(\"0x\"+e.replace(/0x/i,\"\")))}}(Ne||(Ne={}));class xe{constructor(t){this.json=t,this._inputTypes=t.inputs||[],this._outputTypes=t.outputs||[],this._constant=!!t.constant,this._payable=!!t.payable||\"payable\"===t.stateMutability,this.needsToBeTransaction=this._payable||\"constant\"in t&&!t.constant||\"nonpayable\"===t.stateMutability,this._name=G(t)}extractDefaultBlock(t){return t.length>this._inputTypes.length&&!wt(t[t.length-1])&&Et(t.pop())||\"latest\"}validateArgs(t){if(t.some((t=>void 0===t)))throw new Error(\"Invalid call, some arguments are undefined\");let e=t.filter((function(t){return!(!0===wt(t)&&!1===bt(t)&&!1===mt(t)&&!(t instanceof Uint8Array))}));if(e.length!==this._inputTypes.length)throw n=e.length,r=this._inputTypes.length,new Error(`Invalid number of arguments to Solidity function. given: ${n}, expected: ${r}`);var n,r}toPayload(t){let e={to:void 0,data:void 0,value:void 0,from:void 0};t.length>this._inputTypes.length&&wt(t[t.length-1])&&(e=t.pop()),this.validateArgs(t);const n=this.signature();let r=Ne.encodeParams(this._inputTypes,t);return 0==r.indexOf(\"0x\")&&(r=r.substr(2)),e.data=\"0x\"+n+r,e}signature(){return $(this._name).slice(0,8)}unpackOutput(t){if(!t)return;const e=t.length>=2?t.slice(2):t;let n=Ne.decodeParams(this._outputTypes,e);return 1===n.length?n[0]:n}async execute(t,e,...n){if(!t)throw new Error(`Cannot call function ${this.displayName()} because there is no requestManager`);if(this.needsToBeTransaction){const r=this.toPayload(n);if(r.to=e,r.value>0&&!this._payable)throw new Error(\"Cannot send value to non-payable function\");if(!r.from)throw new Error('Missing \"from\" in transaction options');return await t.eth_sendTransaction(r)}{const r=this.extractDefaultBlock(n),o=this.toPayload(n);o.to=e;const i=await t.eth_call(o,r);return this.unpackOutput(i)}}estimateGas(t,e,...n){if(!(t instanceof zt))throw new Error(\"estimateGas needs to receive a RequestManager as first argument\");let r=this.toPayload(n);return r.to=e,t.eth_estimateGas(r)}displayName(){return W(this._name)}typeName(){return V(this._name)||\"void\"}attachToContract(t){let e=this.displayName();const n=Object.assign(((...e)=>this.execute(t.requestManager,t.address,...e)),{estimateGas:this.estimateGas.bind(this,t.requestManager,t.address),toPayload:(...t)=>this.toPayload(t)});t[e]||(t[e]=n),t[e][this.typeName()]=n}}function ke(t){if(null==t)return null;const e=String(t).toString();return 0===e.indexOf(\"0x\")?e:q(M(e))}class Te{constructor(t){this.requestManager=t,this.isStarted=!1,this.isDisposed=!1,this.formatter=t=>t,this.filterId=i(),this.callbacks=[],this.stopSemaphore=i()}async watch(t){if(this.isDisposed)throw new Error(\"The filter was disposed\");t&&(this.callbacks.push(t),this.isStarted||await this.start())}async start(){if(this.isDisposed)throw new Error(\"The filter was disposed\");if(!this.isStarted){this.isStarted=!0;try{const t=await this.getNewFilter();if(!t)throw new Error(\"Could not create a filter, response: \"+JSON.stringify(t));this.filterId.resolve(t)}catch(t){throw t}this.stopSemaphore=i(),await this.poll()}}async stop(){if(!this.isStarted)return;if(this.isDisposed)return;this.isDisposed=!0;const t=await this.filterId;this.isStarted=!1,this.stopSemaphore&&await this.stopSemaphore;if(!0!==await this.uninstall())throw new Error(`Couldn't stop the eth filter: ${t}`)}async poll(){if(this.isStarted){if(this.callbacks.length){const t=await this.getChanges();this.callbacks.forEach((e=>{this.formatter?t.forEach((t=>{e(this.formatter(t))})):t.forEach((t=>e(t)))}))}this.stopSemaphore.resolve(1),this.isStarted&&(this.stopSemaphore=i(),setTimeout((t=()=>this.poll(),function(){t().catch((t=>console.error(t)))}),500))}else this.stopSemaphore.resolve(1);var t}}class Ae extends Te{constructor(t,e,n=(t=>t)){super(t),this.requestManager=t,this.options=e,this.formatter=n,this.options=this.options||{},this.options.topics=this.options.topics||[],this.options.topics=this.options.topics.map((function(t){return ke(t)})),this.options={topics:this.options.topics,address:this.options.address?this.options.address:void 0,fromBlock:\"number\"==typeof this.options.fromBlock||\"string\"==typeof this.options.fromBlock?Bt(this.options.fromBlock)||void 0:\"latest\",toBlock:\"number\"==typeof this.options.toBlock||\"string\"==typeof this.options.toBlock?Bt(this.options.toBlock)||void 0:\"latest\"}}async getLogs(){this.isStarted||await this.start();const t=await this.filterId;return this.requestManager.eth_getFilterLogs(t)}async getNewFilter(){return this.requestManager.eth_newFilter(this.options)}async getChanges(){const t=await this.filterId;return this.requestManager.eth_getFilterChanges(t)}async uninstall(){const t=await this.filterId;return this.requestManager.eth_uninstallFilter(t)}}class Ee{constructor(t,e,n){this.requestManager=t,this.address=n,this._anonymous=!1,this._params=e.inputs||[],this._name=G(e),this._anonymous=e.anonymous||!1}types(t){return this._params.filter((function(e){return e.indexed===t}))}displayName(){return W(this._name)}typeName(){return V(this._name)||\"void\"}signature(){return $(this._name)}encode(t={},e={}){let n={topics:[],address:this.address};void 0!==e.fromBlock&&(n.fromBlock=Bt(e.fromBlock)||void 0),void 0!==e.toBlock&&(n.toBlock=Bt(e.toBlock)||void 0),n.topics=n.topics||[],this._anonymous||n.topics.push(\"0x\"+this.signature());let r=this._params.filter((function(t){return!0===t.indexed})).map((function(e){let n=t[e.name];return null==n?null:bt(n)?n.map((function(t){return\"0x\"+Ne.encodeParams([e],[t])})):\"0x\"+Ne.encodeParams([e],[n])}));return n.topics=n.topics.concat(r),n}decode(t){t.data=t.data||\"\",t.topics=t.topics||[];let e=(this._anonymous?t.topics:t.topics.slice(1)).map((function(t){return t.slice(2)})).join(\"\"),n=Ne.decodeParams(this.types(!0),e),r=t.data.slice(2),o=Ne.decodeParams(this.types(!1),r);const i=this._params.reduce((function(t,e){return t[e.name]=e.indexed?n.shift():o.shift(),t}),{});return Object.assign(Object.assign({},Rt(t)),{event:this.displayName(),address:t.address,args:i})}async execute(t,e){let n=this.encode(t,e),r=this.decode.bind(this);return new Ae(this.requestManager,n,r)}attachToContract(t){let e=this.execute.bind(this),n=this.displayName();t.events[n]||(t.events[n]=e),t.events[n][this.typeName()]=this.execute.bind(this,t)}}class Be{constructor(t,e,n){this._requestManager=t,this._json=e,this._address=n}encode(t={}){let e={address:this._address};return void 0!==t.fromBlock&&(e.fromBlock=Bt(t.fromBlock)||void 0),void 0!==t.toBlock&&(e.toBlock=Bt(t.toBlock)||void 0),e}decode(t){t.data=t.data||\"\";let e=bt(t.topics)&&yt(t.topics[0])?t.topics[0].slice(2):\"\",n=this._json.filter((function(t){return e===$(G(t))}))[0];return n?new Ee(this._requestManager,n,this._address).decode(t):Rt(t)}async execute(t){let e=this.encode(t),n=this.decode.bind(this);return new Ae(this._requestManager,e,n)}getAllEventsFunction(){return this.execute.bind(this)}}class Oe{constructor(t,e,n){var r;this.requestManager=t,this.abi=e,this.address=n,this.events={},this.transactionHash=null,this.address=n,this.abi=e,(r=this).abi.filter((function(t){return\"function\"===t.type})).map((function(t){return new xe(t)})).forEach((function(t){t.attachToContract(r)})),this.allEvents=function(t){let e=t.abi.filter((function(t){return\"event\"===t.type})),n=new Be(t.requestManager,e,t.address);return e.map((function(e){return new Ee(t.requestManager,e,t.address)})).forEach((function(e){e.attachToContract(t)})),n.getAllEventsFunction()}(this)}}t.AbstractFilter=Te,t.BigNumber=I,t.Contract=Oe,t.ContractFactory=class{constructor(t,e){this.requestManager=t,this.abi=e}async deploy(...t){let e,n=t[t.length-1];if(wt(n)&&!bt(n)&&(e=t.pop()),!e)throw new Error(\"Missing options object\");if(!e.data||\"string\"!=typeof e.data)throw new Error(\"Invalid options.data\");if(Z(e.value)>0){if(!(this.abi.filter((function(e){return\"constructor\"===e.type&&e.inputs.length===t.length}))[0]||{}).payable)throw new Error(\"Cannot send value to non-payable constructor\")}let r=(o=this.abi,s=t,o.filter((function(t){return\"constructor\"===t.type&&t.inputs&&t.inputs.length===s.length})).map((function(t){return t.inputs||[]})).map((function(t){return Ne.encodeParams(t,s)}))[0]||\"\");var o,s;e.data+=r,e.gas||(e.gas=await this.requestManager.eth_estimateGas(e));const a=await this.requestManager.eth_sendTransaction(e);if(!a)throw new Error(\"Error while sending contract creation transaction. A TxHash was not retrieved\");const c=await async function(t,e){const n=i();let r=0;const o=()=>{r++,r>50?n.reject(new Error(\"Contract transaction couldn't be found after 50 blocks\")):t.eth_getTransactionReceipt(e).then((t=>{t&&t.blockHash?n.resolve(t):setTimeout(o,1e3)}),(t=>n.reject(t)))};o();const s=await n,a=await t.eth_getCode(s.contractAddress,\"latest\");if(a&&a.length>3)return s.contractAddress;throw Object.assign(new Error(\"The contract code couldn't be stored, please check your gas amount.\"),{response:a,receipt:s})}(this.requestManager,a),u=await this.at(c);return u.transactionHash=a,u}async at(t){if(!ht(t))throw new TypeError(`Invalid address ${JSON.stringify(t)}`);return new Oe(this.requestManager,this.abi,t)}},t.EthBlockFilter=class extends Ae{constructor(t){super(t,{})}async getNewFilter(){return this.requestManager.eth_newBlockFilter()}},t.EthFilter=Ae,t.EthPendingTransactionFilter=class extends Ae{constructor(t){super(t,{})}async getNewFilter(){return this.requestManager.eth_newPendingTransactionFilter()}},t.HTTPProvider=class{constructor(t,e={}){this.host=t,this.options=e,this.debug=!1,this.host=t||\"http://localhost:8545\"}send(){throw new Error(\"Sync requests are deprecated\")}sendAsync(t,n){try{let r=null;if(r=t instanceof Array?t.map((t=>e(t))):e(t),\"undefined\"==typeof fetch)throw new Error(\"There is no global fetch object. Please install and import isomorphic-fetch\");const o={body:JSON.stringify(r),method:\"POST\",headers:Object.assign(Object.assign({},this.options.headers),{\"Content-Type\":\"application/json\"})};this.debug&&console.log(\"SEND >> \"+o.body),fetch(this.host,o).then((async t=>{if(t.ok){const e=await t.json();this.debug&&console.log(\"RECV << \"+JSON.stringify(e)),e.error?n(Object.assign(new Error(e.error.json||e.error),e.error)):n(null,e)}else this.debug&&console.log(\"ERR << \"+JSON.stringify(t)),n(new Error(\"External error. response code: \"+t.status))}),(t=>{this.debug&&console.log(\"ERR << \"+JSON.stringify(t)),n(t)}))}catch(t){this.debug&&console.log(\"ERR << \"+JSON.stringify(t)),n(t)}}},t.Method=qt,t.Property=$t,t.RequestManager=zt,t.SHHFilter=class extends Te{constructor(t,e){super(t),this.requestManager=t,this.options=e,this.options=this.options||{topics:[]},this.options.topics=this.options.topics||[],this.options.topics=this.options.topics.map((function(t){return ke(t)})),this.options={topics:this.options.topics,to:this.options.to}}async getMessages(){const t=await this.filterId;return this.requestManager.shh_getMessages(t)}async getNewFilter(){return this.requestManager.shh_newFilter(this.options)}async getChanges(){const t=await this.filterId;return this.requestManager.shh_getFilterChanges(t)}async uninstall(){const t=await this.filterId;return this.requestManager.shh_uninstallFilter(t)}},t.SolidityEvent=Ee,t.SolidityFunction=xe,t.WebSocketProvider=class{constructor(t,e={}){this.url=t,this.options=e,this.isDisposed=!1,this.responseCallbacks=new Map,this.notificationCallbacks=new Set,this.debug=!1,this.lastChunk=\"\",this.connect()}dispose(){this.isDisposed=!0;const t=this.connection;this.timeout(new Error(\"Provider disposed.\")),t.then((t=>t.close()))}send(){throw new Error(\"Sync requests are deprecated\")}sendAsync(t,n){const r=[];let o;if(t instanceof Array)o=Promise.all(t.map((t=>{const n=i();try{const o=e(t);r.push(o),this.responseCallbacks.set(o.id,n)}catch(t){n.reject(t)}return n})));else{const n=i();try{const o=e(t);r.push(o),this.responseCallbacks.set(o.id,n)}catch(t){n.reject(t)}o=n}o.then((t=>n(null,t)),(t=>n(t))),this.connection.then((t=>{r.forEach((e=>{const n=JSON.stringify(e);this.debug&&console.log(\"SEND >> \"+n),t.send(n)}))}),(t=>{n(t)}))}parseResponse(t){let e=[];return t.replace(/\\}[\\n\\r]?\\{/g,\"}|--|{\").replace(/\\}\\][\\n\\r]?\\[\\{/g,\"}]|--|[{\").replace(/\\}[\\n\\r]?\\[\\{/g,\"}|--|[{\").replace(/\\}\\][\\n\\r]?\\{/g,\"}]|--|{\").split(\"|--|\").forEach((t=>{let n=t;this.lastChunk&&(n=this.lastChunk+n);let r=null;try{r=JSON.parse(n)}catch(t){return this.lastChunk=n,clearTimeout(this.lastChunkTimeout),void(this.lastChunkTimeout=setTimeout((()=>{this.timeout()}),15e3))}clearTimeout(this.lastChunkTimeout),this.lastChunk=\"\",r&&e.push(r)})),e}processMessage(t){if(\"id\"in t){const e=t.id,n=this.responseCallbacks.get(e);if(!n)return void console.error(\"Error: Received a response for an unknown request\",t);this.responseCallbacks.delete(e),\"error\"in t?n.reject(Object.assign(new Error(t.error.message||t.error),t.error)):\"result\"in t&&n.resolve(t)}else this.notificationCallbacks.forEach((e=>e(null,t)))}timeout(t){this.connection&&this.connection.isPending||(this.connection=i());const e=t||new Error(\"Connection timeout\");this.responseCallbacks.forEach((t=>t.reject(e))),this.responseCallbacks.clear(),this.isDisposed||this.connect()}connect(){this.connection&&!this.connection.isPending&&this.connection.then((t=>t.close())),this.connection&&this.connection.isPending||(this.connection=i()),this.lastChunk=\"\";let t=this.options.WebSocketConstructor||(\"undefined\"!=typeof WebSocket?WebSocket:void 0);if(!t)throw new Error(\"Please provide a WebSocketConstructor\");const e=new t(this.url,this.options.protocol);e.onopen=()=>{this.connection.resolve(e)},e.onerror=t=>{const e=new Error(\"Error in web socket\");e.data=t,this.timeout(e)},e.onclose=t=>{this.timeout(new Error(`Connection closed (${t&&t.reason||\"Unknown reason\"})`))},e.onmessage=t=>{let e=\"string\"==typeof t.data?t.data:\"\";this.debug&&console.log(\"RECV << \"+t.data),this.parseResponse(e).forEach((t=>{t instanceof Array?t.forEach((t=>this.processMessage(t))):this.processMessage(t)}))}}},t.bytesToHex=q,t.bytesToUtf8String=R,t.concatBytes=z,t.default=zt,t.extractDisplayName=W,t.extractTypeName=V,t.fromAscii=function(t,e=0){let n=\"\";for(let e=0;e<t.length;e++){let r=t.charCodeAt(e).toString(16);n+=r.length<2?\"0\"+r:r}return\"0x\"+n.padEnd(e,\"0\")},t.fromDecimal=et,t.fromTwosComplement=ut,t.fromWei=function(t,e){let n=ot(t).dividedBy(rt(e));return mt(t)?n:n.toString(10)},t.getAddress=ct,t.getValueOfUnit=rt,t.hexToBytes=D,t.isAddress=ht,t.isArray=bt,t.isBigNumber=mt,t.isBloom=function(t){return!!/^(0x)?[0-9a-f]{512}$/i.test(t)&&!!/^(0x)?[0-9a-f]{512}$/i.test(t)},t.isBoolean=vt,t.isChecksumAddress=pt,t.isFunction=function(t){return\"function\"==typeof t},t.isHex=function(t){return\"string\"==typeof t&&/^0x[0-9a-fA-F]+$/.test(t)},t.isJson=function(t){try{return!!JSON.parse(t)}catch(t){return!1}},t.isObject=wt,t.isStrictAddress=lt,t.isString=yt,t.isTopic=function(t){return!!/^(0x)?[0-9a-f]{64}$/i.test(t)&&!!/^(0x)?[0-9a-f]{64}$/i.test(t)},t.isValidResponse=xt,t.padLeft=H,t.padRight=function(t,e,n){return t+new Array(e-t.length+1).join(n||\"0\")},t.sha3=$,t.signedIsNegative=at,t.stringToUtf8Bytes=M,t.toAddress=gt,t.toArray=dt,t.toAscii=function(t){let e=\"\",n=0,r=t.length;for(\"0x\"===t.substring(0,2)&&(n=2);n<r;n+=2){let r=parseInt(t.substr(n,2),16);e+=String.fromCharCode(r)}return e},t.toBatchPayload=function(t){return t.map((function(t){return Nt(t.method,t.params)}))},t.toBigNumber=ot,t.toBoolean=tt,t.toChecksumAddress=ft,t.toData=X,t.toDecimal=Z,t.toHex=nt,t.toJsonRpcRequest=Nt,t.toNullDecimal=K,t.toString=Y,t.toStringData=Q,t.toTwosComplement=st,t.toWei=function(t,e){let n=ot(t).times(rt(e));return mt(t)?n:n.toString(10)},t.transformToFullName=G,Object.defineProperty(t,\"__esModule\",{value:!0})}));\n//# sourceMappingURL=eth-connect.js.map\n",
    "sha256": "c2f21239f82817148229301e0408e7b3d18b899215f5647087b66ab705cd2e32"
  },
  {
    "path": "src/game.ts",
    "content": "define(\"metas/compicactus/compicactus\", [\"require\", \"exports\", \"@compicactus/dcl-scene-utils\"], function (require, exports, dcl_scene_utils_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.Compicactus = void 0;\r\n    var Compicactus = /** @class */ (function () {\r\n        function Compicactus(api, host_data) {\r\n            this.META_ID = 300;\r\n            this.compiEntities = [];\r\n            // TODO check if already is another system in the scene\r\n            engine.addSystem(new dcl_scene_utils_1.CompiNPCSystem());\r\n            this.refreshHost(host_data);\r\n        }\r\n        Compicactus.prototype.update = function (dt) {\r\n            // Note: your code that repeats goes here\r\n        };\r\n        Compicactus.prototype.refreshHost = function (host) {\r\n            var _this = this;\r\n            this.compiEntities.forEach(function (entity) {\r\n                engine.removeEntity(entity);\r\n            });\r\n            this.compiEntities = [];\r\n            if (host.host_data) {\r\n                var host_data = JSON.parse(host.host_data);\r\n                var network_compi_1 = new dcl_scene_utils_1.Blockchain(dcl_scene_utils_1.NETWORK.MATIC, dcl_scene_utils_1.CHARACTER.COMPICACTUS);\r\n                host_data.compicactus.forEach(function (compicactus) {\r\n                    if (compicactus.enable_editor) {\r\n                        compicactus.token_id = -1;\r\n                    }\r\n                    var compiEntity = new dcl_scene_utils_1.CompiNPC(compicactus.token_id, network_compi_1);\r\n                    compiEntity.addComponent(new Transform());\r\n                    engine.addEntity(compiEntity);\r\n                    compiEntity.getComponent(Transform).position.set(compicactus.position.x, compicactus.position.y, compicactus.position.z);\r\n                    compiEntity.getComponent(Transform).rotation.setEuler(compicactus.rotation.x, compicactus.rotation.y, compicactus.rotation.z);\r\n                    compiEntity.getComponent(Transform).scale.set(compicactus.scale.x, compicactus.scale.y, compicactus.scale.z);\r\n                    if (compicactus.face_user) {\r\n                        compiEntity.addComponent(new Billboard());\r\n                    }\r\n                    _this.compiEntities.push(compiEntity);\r\n                });\r\n            }\r\n        };\r\n        return Compicactus;\r\n    }());\r\n    exports.Compicactus = Compicactus;\r\n});\r\ndefine(\"src/game\", [\"require\", \"exports\", \"metas/compicactus/compicactus\"], function (require, exports, compicactus_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    var sampleLandOwnerData = {\r\n        host_data: \"\\n  {\\n    \\\"compicactus\\\": [\\n      {\\n        \\\"position\\\": {\\\"x\\\":6, \\\"y\\\":1, \\\"z\\\":8},\\n        \\\"rotation\\\": {\\\"x\\\":0, \\\"y\\\":0, \\\"z\\\":0},\\n        \\\"scale\\\": {\\\"x\\\":1, \\\"y\\\":1, \\\"z\\\":1},\\n        \\\"character\\\": \\\"compicactus\\\",\\n        \\\"enable_editor\\\": false,\\n        \\\"token_id\\\": 2,\\n        \\\"face_user\\\": false\\n      },\\n      {\\n        \\\"position\\\": {\\\"x\\\":10, \\\"y\\\":1, \\\"z\\\":8},\\n        \\\"rotation\\\": {\\\"x\\\":0, \\\"y\\\":0, \\\"z\\\":0},\\n        \\\"scale\\\": {\\\"x\\\":1, \\\"y\\\":1, \\\"z\\\":1},\\n        \\\"character\\\": \\\"compicactus\\\",\\n        \\\"enable_editor\\\": true,\\n        \\\"token_id\\\": 2,\\n        \\\"face_user\\\": true\\n      }\\n    ]\\n  }\"\r\n    };\r\n    /// --- Set up your meta system to test ---\r\n    engine.addSystem(new compicactus_1.Compicactus(null, sampleLandOwnerData));\r\n});\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL21ldGFzL2NvbXBpY2FjdHVzL2NvbXBpY2FjdHVzLnRzIiwiLi4vc3JjL2dhbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztJQVFBO1FBS0kscUJBQVksR0FBUSxFQUFFLFNBQWM7WUFKcEMsWUFBTyxHQUFHLEdBQUcsQ0FBQTtZQUViLGtCQUFhLEdBQWtCLEVBQUUsQ0FBQTtZQUk3Qix1REFBdUQ7WUFDdkQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLGdDQUFjLEVBQUUsQ0FBQyxDQUFBO1lBRXRDLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDL0IsQ0FBQztRQUVELDRCQUFNLEdBQU4sVUFBTyxFQUFVO1lBQ2IseUNBQXlDO1FBQzdDLENBQUM7UUFFRCxpQ0FBVyxHQUFYLFVBQVksSUFBdUI7WUFBbkMsaUJBMENDO1lBekNHLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLFVBQUMsTUFBTTtnQkFDOUIsTUFBTSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUMvQixDQUFDLENBQUMsQ0FBQTtZQUNGLElBQUksQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFBO1lBQ3ZCLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDaEIsSUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUE7Z0JBRTVDLElBQU0sZUFBYSxHQUFHLElBQUksNEJBQVUsQ0FBQyx5QkFBTyxDQUFDLEtBQUssRUFBRSwyQkFBUyxDQUFDLFdBQVcsQ0FBQyxDQUFBO2dCQUUxRSxTQUFTLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxVQUFDLFdBQWdCO29CQUMzQyxJQUFJLFdBQVcsQ0FBQyxhQUFhLEVBQUU7d0JBQzNCLFdBQVcsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUE7cUJBQzVCO29CQUVELElBQU0sV0FBVyxHQUFHLElBQUksMEJBQVEsQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLGVBQWEsQ0FBQyxDQUFBO29CQUNyRSxXQUFXLENBQUMsWUFBWSxDQUFDLElBQUksU0FBUyxFQUFFLENBQUMsQ0FBQTtvQkFDekMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQTtvQkFFN0IsV0FBVyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUM1QyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsRUFDdEIsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQ3RCLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUN6QixDQUFBO29CQUNELFdBQVcsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FDakQsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQ3RCLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUN0QixXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FDekIsQ0FBQTtvQkFDRCxXQUFXLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQ3pDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUNuQixXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsRUFDbkIsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQ3RCLENBQUE7b0JBRUQsSUFBSSxXQUFXLENBQUMsU0FBUyxFQUFFO3dCQUN2QixXQUFXLENBQUMsWUFBWSxDQUFDLElBQUksU0FBUyxFQUFFLENBQUMsQ0FBQTtxQkFDNUM7b0JBRUQsS0FBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUE7Z0JBQ3hDLENBQUMsQ0FBQyxDQUFBO2FBQ0w7UUFDTCxDQUFDO1FBQ0wsa0JBQUM7SUFBRCxDQUFDLEFBNURELElBNERDO0lBNURZLGtDQUFXOzs7OztJQ054QixJQUFNLG1CQUFtQixHQUFHO1FBQzFCLFNBQVMsRUFBRSx5b0JBc0JUO0tBQ0gsQ0FBQTtJQUVELDJDQUEyQztJQUMzQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUkseUJBQVcsQ0FBQyxJQUFJLEVBQUUsbUJBQW1CLENBQUMsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgICBDb21waU5QQyxcbiAgICBDb21waU5QQ1N5c3RlbSxcbiAgICBCbG9ja2NoYWluLFxuICAgIENIQVJBQ1RFUixcbiAgICBORVRXT1JLXG59IGZyb20gJ0Bjb21waWNhY3R1cy9kY2wtc2NlbmUtdXRpbHMnXG5cbmV4cG9ydCBjbGFzcyBDb21waWNhY3R1cyBpbXBsZW1lbnRzIElTeXN0ZW0ge1xuICAgIE1FVEFfSUQgPSAzMDBcblxuICAgIGNvbXBpRW50aXRpZXM6IEFycmF5PEVudGl0eT4gPSBbXVxuXG4gICAgY29uc3RydWN0b3IoYXBpOiBhbnksIGhvc3RfZGF0YTogYW55KSB7XG5cbiAgICAgICAgLy8gVE9ETyBjaGVjayBpZiBhbHJlYWR5IGlzIGFub3RoZXIgc3lzdGVtIGluIHRoZSBzY2VuZVxuICAgICAgICBlbmdpbmUuYWRkU3lzdGVtKG5ldyBDb21waU5QQ1N5c3RlbSgpKVxuXG4gICAgICAgIHRoaXMucmVmcmVzaEhvc3QoaG9zdF9kYXRhKVxuICAgIH1cblxuICAgIHVwZGF0ZShkdDogbnVtYmVyKSB7XG4gICAgICAgIC8vIE5vdGU6IHlvdXIgY29kZSB0aGF0IHJlcGVhdHMgZ29lcyBoZXJlXG4gICAgfVxuXG4gICAgcmVmcmVzaEhvc3QoaG9zdDp7aG9zdF9kYXRhOnN0cmluZ30pIHtcbiAgICAgICAgdGhpcy5jb21waUVudGl0aWVzLmZvckVhY2goKGVudGl0eSkgPT4ge1xuICAgICAgICAgICAgZW5naW5lLnJlbW92ZUVudGl0eShlbnRpdHkpXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuY29tcGlFbnRpdGllcyA9IFtdXG4gICAgICAgIGlmIChob3N0Lmhvc3RfZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgaG9zdF9kYXRhID0gSlNPTi5wYXJzZShob3N0Lmhvc3RfZGF0YSlcblxuICAgICAgICAgICAgY29uc3QgbmV0d29ya19jb21waSA9IG5ldyBCbG9ja2NoYWluKE5FVFdPUksuTUFUSUMsIENIQVJBQ1RFUi5DT01QSUNBQ1RVUylcblxuICAgICAgICAgICAgaG9zdF9kYXRhLmNvbXBpY2FjdHVzLmZvckVhY2goKGNvbXBpY2FjdHVzOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcGljYWN0dXMuZW5hYmxlX2VkaXRvcikge1xuICAgICAgICAgICAgICAgICAgICBjb21waWNhY3R1cy50b2tlbl9pZCA9IC0xXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGlFbnRpdHkgPSBuZXcgQ29tcGlOUEMoY29tcGljYWN0dXMudG9rZW5faWQsIG5ldHdvcmtfY29tcGkpXG4gICAgICAgICAgICAgICAgY29tcGlFbnRpdHkuYWRkQ29tcG9uZW50KG5ldyBUcmFuc2Zvcm0oKSlcbiAgICAgICAgICAgICAgICBlbmdpbmUuYWRkRW50aXR5KGNvbXBpRW50aXR5KVxuXG4gICAgICAgICAgICAgICAgY29tcGlFbnRpdHkuZ2V0Q29tcG9uZW50KFRyYW5zZm9ybSkucG9zaXRpb24uc2V0KFxuICAgICAgICAgICAgICAgICAgICBjb21waWNhY3R1cy5wb3NpdGlvbi54LFxuICAgICAgICAgICAgICAgICAgICBjb21waWNhY3R1cy5wb3NpdGlvbi55LFxuICAgICAgICAgICAgICAgICAgICBjb21waWNhY3R1cy5wb3NpdGlvbi56XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGNvbXBpRW50aXR5LmdldENvbXBvbmVudChUcmFuc2Zvcm0pLnJvdGF0aW9uLnNldEV1bGVyKFxuICAgICAgICAgICAgICAgICAgICBjb21waWNhY3R1cy5yb3RhdGlvbi54LFxuICAgICAgICAgICAgICAgICAgICBjb21waWNhY3R1cy5yb3RhdGlvbi55LFxuICAgICAgICAgICAgICAgICAgICBjb21waWNhY3R1cy5yb3RhdGlvbi56XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGNvbXBpRW50aXR5LmdldENvbXBvbmVudChUcmFuc2Zvcm0pLnNjYWxlLnNldChcbiAgICAgICAgICAgICAgICAgICAgY29tcGljYWN0dXMuc2NhbGUueCxcbiAgICAgICAgICAgICAgICAgICAgY29tcGljYWN0dXMuc2NhbGUueSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGljYWN0dXMuc2NhbGUuelxuICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgIGlmIChjb21waWNhY3R1cy5mYWNlX3VzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGlFbnRpdHkuYWRkQ29tcG9uZW50KG5ldyBCaWxsYm9hcmQoKSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBpRW50aXRpZXMucHVzaChjb21waUVudGl0eSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDb21waWNhY3R1cyB9IGZyb20gJy4uL21ldGFzL2NvbXBpY2FjdHVzL2NvbXBpY2FjdHVzJ1xuXG5jb25zdCBzYW1wbGVMYW5kT3duZXJEYXRhID0ge1xuICBob3N0X2RhdGE6IGBcbiAge1xuICAgIFwiY29tcGljYWN0dXNcIjogW1xuICAgICAge1xuICAgICAgICBcInBvc2l0aW9uXCI6IHtcInhcIjo2LCBcInlcIjoxLCBcInpcIjo4fSxcbiAgICAgICAgXCJyb3RhdGlvblwiOiB7XCJ4XCI6MCwgXCJ5XCI6MCwgXCJ6XCI6MH0sXG4gICAgICAgIFwic2NhbGVcIjoge1wieFwiOjEsIFwieVwiOjEsIFwielwiOjF9LFxuICAgICAgICBcImNoYXJhY3RlclwiOiBcImNvbXBpY2FjdHVzXCIsXG4gICAgICAgIFwiZW5hYmxlX2VkaXRvclwiOiBmYWxzZSxcbiAgICAgICAgXCJ0b2tlbl9pZFwiOiAyLFxuICAgICAgICBcImZhY2VfdXNlclwiOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgXCJwb3NpdGlvblwiOiB7XCJ4XCI6MTAsIFwieVwiOjEsIFwielwiOjh9LFxuICAgICAgICBcInJvdGF0aW9uXCI6IHtcInhcIjowLCBcInlcIjowLCBcInpcIjowfSxcbiAgICAgICAgXCJzY2FsZVwiOiB7XCJ4XCI6MSwgXCJ5XCI6MSwgXCJ6XCI6MX0sXG4gICAgICAgIFwiY2hhcmFjdGVyXCI6IFwiY29tcGljYWN0dXNcIixcbiAgICAgICAgXCJlbmFibGVfZWRpdG9yXCI6IHRydWUsXG4gICAgICAgIFwidG9rZW5faWRcIjogMixcbiAgICAgICAgXCJmYWNlX3VzZXJcIjogdHJ1ZVxuICAgICAgfVxuICAgIF1cbiAgfWBcbn1cblxuLy8vIC0tLSBTZXQgdXAgeW91ciBtZXRhIHN5c3RlbSB0byB0ZXN0IC0tLVxuZW5naW5lLmFkZFN5c3RlbShuZXcgQ29tcGljYWN0dXMobnVsbCwgc2FtcGxlTGFuZE93bmVyRGF0YSkpXG4iXX0=",
    "sha256": "b1ab4c18c62727b3b3bca7a6e2cfe29cc93b986a21aaa3ec48eb63a3b901c39e"
  }
]